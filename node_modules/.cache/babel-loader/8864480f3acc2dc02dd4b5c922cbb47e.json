{"ast":null,"code":"var _jsxFileName = \"/home/luisfer/Escritorio/rerovaji-control/src/admin/horario/SemanaPasada.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Col, Row } from \"react-bootstrap\";\nimport { useHorarioEditorContext } from \"../../contexts/HorarioEditorContext\";\nimport DiaBarraaHolder from \"./DiaBarraaHolder\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SemanaInactiva = props => {\n  const {\n    semanaAnterior\n  } = props;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-50 \",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"text-white p-0 m-0 h-100 w-100\",\n        children: [/*#__PURE__*/_jsxDEV(DiaBarraaHolder, {\n          children: \"M\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 13,\n          columnNumber: 21\n        }, this), semanaAnterior.dias.map(d => {\n          var _d$trabajadores;\n\n          return /*#__PURE__*/_jsxDEV(DiaBarraaHolder, {\n            children: ((_d$trabajadores = d.trabajadores) === null || _d$trabajadores === void 0 ? void 0 : _d$trabajadores.length) || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 15,\n            columnNumber: 25\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-50\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"text-white p-0 m-0 h-100 w-100\",\n        children: [/*#__PURE__*/_jsxDEV(DiaBarraaHolder, {\n          children: \"N\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 21\n        }, this), semanaAnterior.dias.map(d => {\n          var _d$trabajadores2;\n\n          return /*#__PURE__*/_jsxDEV(DiaBarraaHolder, {\n            children: ((_d$trabajadores2 = d.trabajadores) === null || _d$trabajadores2 === void 0 ? void 0 : _d$trabajadores2.length) || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 25\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_c = SemanaInactiva;\n\nconst TramoHolder = props => {\n  _s();\n\n  const [active, setActive] = useState(false);\n  const {\n    children\n  } = props;\n  return /*#__PURE__*/_jsxDEV(Col, {\n    className: \"border d-flex justify-content-center align-items-start h-100\",\n    xs: 2,\n    onClick: () => {\n      setActive(!active);\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TramoHolder, \"LqbTahp4cvNsqDgRCXxfQ/sX4V0=\");\n\n_c2 = TramoHolder;\n\nconst tramoGenerator = (inicio, fin, step = 30) => {\n  let diff = fin.diff(inicio, \"minutes\");\n  const tramos = [];\n\n  while (diff > 0) {\n    const nextStep = inicio.clone().add(30, \"minutes\");\n    const rpr = nextStep.format(\"HH:mm\");\n    tramos.push({\n      rpr: nextStep.format(\"HH:mm\"),\n      compis: []\n    });\n    diff = fin.diff(nextStep, \"minutes\");\n    console.log(`hay ${diff} de diferencia entre ${fin.format(\"DD-MM-YYYY HH:mm\")} y ${nextStep.format(\"DD-MM-YYYY HH:mm\")}`);\n  }\n\n  return tramos;\n};\n\nconst SemanaActiva = props => {\n  _s2();\n\n  const {\n    tramo\n  } = props;\n  const tramoPasado = {\n    i: tramo.i.subtract(\"days\", 7),\n    f: tramo.f.subtract(\"days\", 7)\n  };\n  const [currentTramo, setCurrentTramo] = useState(tramoGenerator(tramoPasado.i, tramoPasado.f));\n  console.log(currentTramo);\n  return /*#__PURE__*/_jsxDEV(Row, {\n    className: \"bg-white mx-auto p-0 align-items-start h-100\",\n    children: [/*#__PURE__*/_jsxDEV(Col, {\n      xs: 12,\n      className: \"p-0 m-0\",\n      style: {\n        height: \"15%\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-white w-100 m-0 bg-info ps-2 text-capitalize\",\n        children: tramoPasado.i.format(\"dddd [pasado] HH:mm - \" + tramoPasado.f.format(\"HH:mm\"))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Col, {\n      className: \"p-0 m-0 bg-warning\",\n      style: {\n        height: \"85%\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"m-0 p-0 bg-success flex-nowrap h-100\",\n        style: {\n          overflow: \"scroll\"\n        },\n        children: /*#__PURE__*/_jsxDEV(TramoHolder, {\n          children: \"9:30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n};\n\n_s2(SemanaActiva, \"7yDrUhVAea+PnrjxJ6yE8hSGPWE=\");\n\n_c3 = SemanaActiva;\nexport default _s3(() => {\n  _s3();\n\n  const {\n    semanaAnterior,\n    tramoHorario\n  } = useHorarioEditorContext();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-dark w-100 mx-auto m-0 p-0\",\n    style: {\n      height: \"20%\"\n    },\n    children: tramoHorario ? /*#__PURE__*/_jsxDEV(SemanaActiva, {\n      tramo: tramoHorario\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 29\n    }, this) : /*#__PURE__*/_jsxDEV(SemanaInactiva, {\n      semanaAnterior: semanaAnterior\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 69\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 9\n  }, this);\n}, \"dX1zEY+mALz9quyOM872byOAwYU=\", false, function () {\n  return [useHorarioEditorContext];\n});\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"SemanaInactiva\");\n$RefreshReg$(_c2, \"TramoHolder\");\n$RefreshReg$(_c3, \"SemanaActiva\");","map":{"version":3,"sources":["/home/luisfer/Escritorio/rerovaji-control/src/admin/horario/SemanaPasada.js"],"names":["React","useState","Col","Row","useHorarioEditorContext","DiaBarraaHolder","SemanaInactiva","props","semanaAnterior","dias","map","d","trabajadores","length","TramoHolder","active","setActive","children","tramoGenerator","inicio","fin","step","diff","tramos","nextStep","clone","add","rpr","format","push","compis","console","log","SemanaActiva","tramo","tramoPasado","i","subtract","f","currentTramo","setCurrentTramo","height","overflow","tramoHorario"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,GAAT,EAAcC,GAAd,QAAyB,iBAAzB;AACA,SAASC,uBAAT,QAAwC,qCAAxC;AACA,OAAOC,eAAP,MAA4B,mBAA5B;;;;AAGA,MAAMC,cAAc,GAAIC,KAAD,IAAW;AAC9B,QAAM;AAAEC,IAAAA;AAAF,MAAqBD,KAA3B;AACA,sBACI;AAAA,4BACI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,6BACI,QAAC,GAAD;AAAK,QAAA,SAAS,EAAC,gCAAf;AAAA,gCACI,QAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEKC,cAAc,CAACC,IAAf,CAAoBC,GAApB,CAAyBC,CAAD;AAAA;;AAAA,8BACrB,QAAC,eAAD;AAAA,sBACK,oBAAAA,CAAC,CAACC,YAAF,oEAAgBC,MAAhB,KAA0B;AAD/B;AAAA;AAAA;AAAA;AAAA,kBADqB;AAAA,SAAxB,CAFL;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ,eAWI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,6BACI,QAAC,GAAD;AAAK,QAAA,SAAS,EAAC,gCAAf;AAAA,gCACI,QAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEKL,cAAc,CAACC,IAAf,CAAoBC,GAApB,CAAyBC,CAAD;AAAA;;AAAA,8BACrB,QAAC,eAAD;AAAA,sBACK,qBAAAA,CAAC,CAACC,YAAF,sEAAgBC,MAAhB,KAA0B;AAD/B;AAAA;AAAA;AAAA;AAAA,kBADqB;AAAA,SAAxB,CAFL;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAXJ;AAAA,kBADJ;AAyBH,CA3BD;;KAAMP,c;;AA6BN,MAAMQ,WAAW,GAAIP,KAAD,IAAW;AAAA;;AAC3B,QAAM,CAACQ,MAAD,EAAQC,SAAR,IAAmBf,QAAQ,CAAC,KAAD,CAAjC;AACA,QAAM;AAACgB,IAAAA;AAAD,MAAWV,KAAjB;AACA,sBACA,QAAC,GAAD;AAAK,IAAA,SAAS,EAAC,8DAAf;AACI,IAAA,EAAE,EAAE,CADR;AAEI,IAAA,OAAO,EAAE,MAAI;AAACS,MAAAA,SAAS,CAAC,CAACD,MAAF,CAAT;AAAmB,KAFrC;AAAA,cAIKE;AAJL;AAAA;AAAA;AAAA;AAAA,UADA;AAQH,CAXD;;GAAMH,W;;MAAAA,W;;AAaN,MAAMI,cAAc,GAAC,CAACC,MAAD,EAAQC,GAAR,EAAYC,IAAI,GAAC,EAAjB,KAAsB;AACvC,MAAIC,IAAI,GAACF,GAAG,CAACE,IAAJ,CAASH,MAAT,EAAgB,SAAhB,CAAT;AACA,QAAMI,MAAM,GAAC,EAAb;;AAGA,SAAMD,IAAI,GAAC,CAAX,EAAa;AACT,UAAME,QAAQ,GAACL,MAAM,CAACM,KAAP,GAAeC,GAAf,CAAmB,EAAnB,EAAsB,SAAtB,CAAf;AACA,UAAMC,GAAG,GAACH,QAAQ,CAACI,MAAT,CAAgB,OAAhB,CAAV;AACAL,IAAAA,MAAM,CAACM,IAAP,CAAY;AAACF,MAAAA,GAAG,EAACH,QAAQ,CAACI,MAAT,CAAgB,OAAhB,CAAL;AAA8BE,MAAAA,MAAM,EAAC;AAArC,KAAZ;AACAR,IAAAA,IAAI,GAACF,GAAG,CAACE,IAAJ,CAASE,QAAT,EAAkB,SAAlB,CAAL;AACAO,IAAAA,OAAO,CAACC,GAAR,CAAa,OAAMV,IAAK,wBAAuBF,GAAG,CAACQ,MAAJ,CAAW,kBAAX,CAA+B,MAAKJ,QAAQ,CAACI,MAAT,CAAgB,kBAAhB,CAAoC,EAAvH;AACH;;AACD,SAAOL,MAAP;AACH,CAbD;;AAeA,MAAMU,YAAY,GAAI1B,KAAD,IAAW;AAAA;;AAC5B,QAAM;AAAE2B,IAAAA;AAAF,MAAY3B,KAAlB;AACA,QAAM4B,WAAW,GAAG;AAAEC,IAAAA,CAAC,EAAEF,KAAK,CAACE,CAAN,CAAQC,QAAR,CAAiB,MAAjB,EAAyB,CAAzB,CAAL;AAAkCC,IAAAA,CAAC,EAAEJ,KAAK,CAACI,CAAN,CAAQD,QAAR,CAAiB,MAAjB,EAAyB,CAAzB;AAArC,GAApB;AACA,QAAM,CAACE,YAAD,EAAcC,eAAd,IAA+BvC,QAAQ,CAACiB,cAAc,CAACiB,WAAW,CAACC,CAAb,EAAeD,WAAW,CAACG,CAA3B,CAAf,CAA7C;AACAP,EAAAA,OAAO,CAACC,GAAR,CAAYO,YAAZ;AACA,sBACI,QAAC,GAAD;AAAK,IAAA,SAAS,EAAC,8CAAf;AAAA,4BACI,QAAC,GAAD;AAAK,MAAA,EAAE,EAAE,EAAT;AAAa,MAAA,SAAS,EAAC,SAAvB;AAAiC,MAAA,KAAK,EAAE;AAAEE,QAAAA,MAAM,EAAE;AAAV,OAAxC;AAAA,6BACI;AAAG,QAAA,SAAS,EAAC,mDAAb;AAAA,kBACKN,WAAW,CAACC,CAAZ,CAAcR,MAAd,CAAqB,2BAA2BO,WAAW,CAACG,CAAZ,CAAcV,MAAd,CAAqB,OAArB,CAAhD;AADL;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ,eAMI,QAAC,GAAD;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAoC,MAAA,KAAK,EAAE;AAAEa,QAAAA,MAAM,EAAE;AAAV,OAA3C;AAAA,6BACI,QAAC,GAAD;AAAK,QAAA,SAAS,EAAC,sCAAf;AAAsD,QAAA,KAAK,EAAE;AAAEC,UAAAA,QAAQ,EAAE;AAAZ,SAA7D;AAAA,+BAGI,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YANJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAkBH,CAvBD;;IAAMT,Y;;MAAAA,Y;AA0BN,mBAAe,MAAM;AAAA;;AAEjB,QAAM;AAAEzB,IAAAA,cAAF;AAAkBmC,IAAAA;AAAlB,MAAmCvC,uBAAuB,EAAhE;AAGA,sBACI;AAAK,IAAA,SAAS,EAAC,+BAAf;AAA+C,IAAA,KAAK,EAAE;AAAEqC,MAAAA,MAAM,EAAE;AAAV,KAAtD;AAAA,cACKE,YAAY,gBAAG,QAAC,YAAD;AAAc,MAAA,KAAK,EAAEA;AAArB;AAAA;AAAA;AAAA;AAAA,YAAH,gBAA2C,QAAC,cAAD;AAAgB,MAAA,cAAc,EAAEnC;AAAhC;AAAA;AAAA;AAAA;AAAA;AAD5D;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH,CAVD;AAAA,UAE6CJ,uBAF7C;AAAA","sourcesContent":["import React, { useState } from \"react\";\nimport { Col, Row } from \"react-bootstrap\";\nimport { useHorarioEditorContext } from \"../../contexts/HorarioEditorContext\";\nimport DiaBarraaHolder from \"./DiaBarraaHolder\";\n\n\nconst SemanaInactiva = (props) => {\n    const { semanaAnterior } = props\n    return (\n        <>\n            <div className=\"h-50 \">\n                <Row className=\"text-white p-0 m-0 h-100 w-100\">\n                    <DiaBarraaHolder>M</DiaBarraaHolder>\n                    {semanaAnterior.dias.map((d) =>\n                        <DiaBarraaHolder>\n                            {d.trabajadores?.length || 0}\n                        </DiaBarraaHolder>\n                    )}\n                </Row>\n            </div>\n            <div className=\"h-50\">\n                <Row className=\"text-white p-0 m-0 h-100 w-100\">\n                    <DiaBarraaHolder>N</DiaBarraaHolder>\n                    {semanaAnterior.dias.map((d) =>\n                        <DiaBarraaHolder>\n                            {d.trabajadores?.length || 0}\n                        </DiaBarraaHolder>\n                    )}\n                </Row>\n\n            </div>\n        </>\n    )\n}\n\nconst TramoHolder = (props) => {\n    const [active,setActive]=useState(false)\n    const {children}=props\n    return (\n    <Col className=\"border d-flex justify-content-center align-items-start h-100\" \n        xs={2}\n        onClick={()=>{setActive(!active)}}\n    >\n        {children}\n    </Col>\n    )\n}\n\nconst tramoGenerator=(inicio,fin,step=30)=>{\n    let diff=fin.diff(inicio,\"minutes\")\n    const tramos=[]\n   \n\n    while(diff>0){\n        const nextStep=inicio.clone().add(30,\"minutes\")\n        const rpr=nextStep.format(\"HH:mm\")\n        tramos.push({rpr:nextStep.format(\"HH:mm\"),compis:[]})\n        diff=fin.diff(nextStep,\"minutes\")\n        console.log(`hay ${diff} de diferencia entre ${fin.format(\"DD-MM-YYYY HH:mm\")} y ${nextStep.format(\"DD-MM-YYYY HH:mm\")}`)\n    }\n    return tramos\n}\n\nconst SemanaActiva = (props) => {\n    const { tramo } = props\n    const tramoPasado = { i: tramo.i.subtract(\"days\", 7), f: tramo.f.subtract(\"days\", 7) }\n    const [currentTramo,setCurrentTramo]=useState(tramoGenerator(tramoPasado.i,tramoPasado.f))\n    console.log(currentTramo)\n    return (\n        <Row className=\"bg-white mx-auto p-0 align-items-start h-100\">\n            <Col xs={12} className=\"p-0 m-0\" style={{ height: \"15%\" }}>\n                <p className=\"text-white w-100 m-0 bg-info ps-2 text-capitalize\">\n                    {tramoPasado.i.format(\"dddd [pasado] HH:mm - \" + tramoPasado.f.format(\"HH:mm\"))}\n                </p>\n            </Col>\n            <Col className=\"p-0 m-0 bg-warning\" style={{ height: \"85%\" }}>\n                <Row className=\"m-0 p-0 bg-success flex-nowrap h-100\" style={{ overflow: \"scroll\" }}>\n\n\n                    <TramoHolder>\n                        9:30\n                    </TramoHolder>\n                </Row>\n            </Col>\n        </Row>\n    )\n}\n\n\nexport default () => {\n\n    const { semanaAnterior, tramoHorario } = useHorarioEditorContext()\n\n\n    return (\n        <div className=\"bg-dark w-100 mx-auto m-0 p-0\" style={{ height: \"20%\" }}>\n            {tramoHorario ? <SemanaActiva tramo={tramoHorario} /> : <SemanaInactiva semanaAnterior={semanaAnterior} />}\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}