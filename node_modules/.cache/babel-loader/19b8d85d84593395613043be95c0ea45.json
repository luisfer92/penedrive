{"ast":null,"code":"import _objectSpread from\"/home/luisfer/Escritorio/rerovaji-control/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/luisfer/Escritorio/rerovaji-control/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Button,Col,Form,Row}from\"react-bootstrap\";import{FaBolt,FaBullhorn,FaEdit}from\"react-icons/fa\";import{useLocal}from\"../../contexts/LocalContext\";import{useMaquinaria}from\"../../contexts/MaquinariaContext\";import MainHolder from\"../common/MainHolder\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FormularioMaquina=function FormularioMaquina(props){var selected=props.selected;var _useMaquinaria=useMaquinaria(),maquinas=_useMaquinaria.maquinas;var numero=maquinas?maquinas.filter(function(m){return m.nombre===selected.nombre;}).length+1:1;var _useState=useState(),_useState2=_slicedToArray(_useState,2),alias=_useState2[0],setAlias=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),marca=_useState4[0],setMarca=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),modelo=_useState6[0],setModelo=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),consumo=_useState8[0],setConsumo=_useState8[1];var _useMaquinaria2=useMaquinaria(),createMaquina=_useMaquinaria2.createMaquina;var handleNuevaMaquina=function handleNuevaMaquina(){var nombre=selected.nombre;createMaquina({numero:numero,alias:alias,marca:marca,modelo:modelo,consumo:consumo,nombre:nombre,status:\"success\"});};useEffect(function(){console.log(\"pintando effecto\");console.log(selected);setAlias(selected.nombre);},[selected]);return/*#__PURE__*/_jsxs(Form,{as:Row,className:\"w-100 mx-auto align-items-center text-white  justify-content-center h-100  px-0\",children:[/*#__PURE__*/_jsxs(Row,{className:\"mx-2 h-25 py-4 mx-auto border border-white shadow\",children:[/*#__PURE__*/_jsx(Col,{xs:4,sm:2,className:\"bg-warning shadow h-100 d-flex\",children:/*#__PURE__*/_jsx(\"img\",{src:selected.pic,className:\"my-auto w-100 h-100  my-auto\"})}),/*#__PURE__*/_jsxs(Col,{className:\"px-0 d-flex flex-column py-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"m-0 ms-2 text-white\",children:alias}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-end m-0 pe-2 text-amarillo\",children:[\"(\",marca?marca:\"marca\",\"-\",modelo?modelo:\"modelo\",\")\"]}),/*#__PURE__*/_jsxs(\"h3\",{className:\"text-center my-auto text-white\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-amarillo\",children:[\" \",/*#__PURE__*/_jsx(FaBolt,{size:30}),\" \"]}),consumo?consumo:\"00\",\" Kw/h \"]})]})]}),/*#__PURE__*/_jsxs(Row,{className:\"bg-oscuro my-auto py-3\",children:[/*#__PURE__*/_jsxs(Form.Group,{as:Col,xs:4,className:\"py-2\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Numero\"}),/*#__PURE__*/_jsx(Form.Control,{value:numero,readOnly:true})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Col,xs:8,className:\"py-2\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Alias\"}),/*#__PURE__*/_jsx(Form.Control,{onChange:function onChange(ev){var _ev$target;return setAlias((_ev$target=ev.target)===null||_ev$target===void 0?void 0:_ev$target.value);},defaultValue:alias})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Col,xs:5,className:\" py-2\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Marca\"}),/*#__PURE__*/_jsx(Form.Control,{onChange:function onChange(ev){var _ev$target2;return setMarca((_ev$target2=ev.target)===null||_ev$target2===void 0?void 0:_ev$target2.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Col,xs:7,className:\" py-2\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Modelo\"}),/*#__PURE__*/_jsx(Form.Control,{onChange:function onChange(ev){var _ev$target3;return setModelo((_ev$target3=ev.target)===null||_ev$target3===void 0?void 0:_ev$target3.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Col,xs:4,className:\" py-2\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"kw/h\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",onChange:function onChange(ev){var _ev$target4;return setConsumo((_ev$target4=ev.target)===null||_ev$target4===void 0?void 0:_ev$target4.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Col,xs:8,className:\" py-2\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Tecnico\"}),/*#__PURE__*/_jsx(Form.Select,{children:/*#__PURE__*/_jsx(\"option\",{children:\"Selecciona tecnico\"})})]}),/*#__PURE__*/_jsx(Button,{variant:\"warning my-2 mx-0 text-dark\",onClick:handleNuevaMaquina,children:\"Agregar\"})]})]});};var MaquinaLocal=function MaquinaLocal(props){var nombre=props.nombre,pic=props.pic,numero=props.numero,marca=props.marca,modelo=props.modelo,consumo=props.consumo,status=props.status,alias=props.alias;return/*#__PURE__*/_jsxs(Row,{className:\"shadow bg-oscuro p-0 mx-auto my-2 my-lg-4  text-white border border-2 border-amarillo\",children:[/*#__PURE__*/_jsx(Col,{as:\"img\",xs:4,src:pic,className:\"p-2  h-75 my-auto\"}),/*#__PURE__*/_jsxs(Col,{xs:8,className:\" px-0 d-block border-start border-amarillo\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"ps-3 m-0 fs-4 d-block\",children:[alias?alias:nombre,\" \",\"-\".concat(numero,\"-\")]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-end pe-1 m-0 border-bottom border-amarillo \",children:[marca,\"-\",modelo]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center fs-4 my-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-amarillo me-2 fs-2\",children:/*#__PURE__*/_jsx(FaBolt,{})}),consumo,\" kw/h\"]})]}),/*#__PURE__*/_jsx(Col,{xs:12,className:\"p-0\",children:/*#__PURE__*/_jsxs(Row,{className:\"justify-content-end mx-auto w-100\",children:[/*#__PURE__*/_jsxs(Col,{xs:4,className:\"d-flex justify-content-center align-items-center\",children:[\"Status:\",/*#__PURE__*/_jsx(\"div\",{className:\"bg-\".concat(status,\" my-auto ms-2 rounded-circle border boder-white border-2\"),style:{width:\"20px\",height:\"20px\"}})]}),/*#__PURE__*/_jsx(Col,{as:Button,xs:5,className:\"text-dark bg-warning border border-amarillo\",children:\"Averia\"}),/*#__PURE__*/_jsx(Col,{as:Button,className:\"text-amarillo border border-amarillo\",children:/*#__PURE__*/_jsx(FaEdit,{})})]})})]});};export default(function(props){var _useMaquinaria3=useMaquinaria(),maquinas=_useMaquinaria3.maquinas,disponibles=_useMaquinaria3.disponibles;var _useLocal=useLocal(),local=_useLocal.local;var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),selected=_useState10[0],setSelected=_useState10[1];return/*#__PURE__*/_jsx(MainHolder,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"h-100 w-100 p-0 m-0 bg-oscuro\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex row flex-column py-2 h-100 m-auto align-items-center\",style:{},children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"text-white  w-100 my-auto ps-3\",children:[\"Maquinaria \",local===null||local===void 0?void 0:local.nombre]}),/*#__PURE__*/_jsx(Col,{xs:12,sm:10,lg:9,className:\"px-lg-5 bg-claro px-0 py-2 my-auto\",style:{height:\"80%\",overflowY:\"scroll\"},children:maquinas&&maquinas.map(function(m){return/*#__PURE__*/_jsx(MaquinaLocal,_objectSpread({},m));})})]}),/*#__PURE__*/_jsxs(Row,{className:\"m-0 px-2 h-75 align-items-start bg-dark\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"p-0 my-auto text-white \",children:\"Maquinaria disponible\"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex  rounded rounded-5  align-items-center h-75 bg-claro flex-lg-wrap justify-content-lg-evenly\",style:{overflowX:\"scroll\"},children:disponibles&&disponibles.map(function(m){return/*#__PURE__*/_jsxs(Col,{xs:8,sm:4,md:3,className:\"shadow rounded ronded-3 h-75 mx-3 position-relative my-lg-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\" text-center d-block text-truncate my-auto bg-dark border border-2 border-amarillo text-amarillo\",children:m.nombre}),/*#__PURE__*/_jsx(\"img\",{src:m.pic,className:\"w-100 h-75 bg-oscuro p-2\"}),/*#__PURE__*/_jsx(Button,{variant:\"warning w-100 position-absolute border border-2 border-amarillo \",style:{bottom:\"0\",left:\"0\"},onClick:function onClick(){return setSelected(m);},children:\"Seleccionar\"})]});})})]}),selected&&/*#__PURE__*/_jsx(FormularioMaquina,{selected:selected})]})});});","map":{"version":3,"sources":["/home/luisfer/Escritorio/rerovaji-control/src/components/superAdmin/MaquinariaCreator.js"],"names":["React","useEffect","useState","Button","Col","Form","Row","FaBolt","FaBullhorn","FaEdit","useLocal","useMaquinaria","MainHolder","FormularioMaquina","props","selected","maquinas","numero","filter","m","nombre","length","alias","setAlias","marca","setMarca","modelo","setModelo","consumo","setConsumo","createMaquina","handleNuevaMaquina","status","console","log","pic","ev","target","value","MaquinaLocal","width","height","disponibles","local","setSelected","overflowY","map","overflowX","bottom","left"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Button, Col, Form, Row } from \"react-bootstrap\";\nimport { FaBolt, FaBullhorn, FaEdit } from \"react-icons/fa\";\nimport { useLocal } from \"../../contexts/LocalContext\";\nimport { useMaquinaria } from \"../../contexts/MaquinariaContext\";\nimport MainHolder from \"../common/MainHolder\";\n\nconst FormularioMaquina = (props) => {\n\n    const { selected } = props\n    const { maquinas } = useMaquinaria()\n    const numero=maquinas ? maquinas.filter(m => m.nombre === selected.nombre).length + 1 : 1\n    const [alias, setAlias] = useState()\n    const [marca, setMarca] = useState()\n    const [modelo, setModelo] = useState()\n    const [consumo, setConsumo] = useState()\n\n    const {createMaquina}=useMaquinaria()\n\n    const handleNuevaMaquina=()=>{\n        const {nombre}=selected\n        createMaquina({numero,alias,marca,modelo,consumo,nombre,status:\"success\"})\n    }\n\n    useEffect(()=>{\n        console.log(\"pintando effecto\")\n        console.log(selected)\n        setAlias(selected.nombre)\n    },[selected])\n\n    return (\n        <Form as={Row} className=\"w-100 mx-auto align-items-center text-white  justify-content-center h-100  px-0\">\n            \n            <Row className=\"mx-2 h-25 py-4 mx-auto border border-white shadow\">\n                <Col xs={4} sm={2} className=\"bg-warning shadow h-100 d-flex\">\n                    <img src={selected.pic} className=\"my-auto w-100 h-100  my-auto\" />\n                </Col>\n                <Col  className=\"px-0 d-flex flex-column py-2\">\n                    <h3 className=\"m-0 ms-2 text-white\">{alias}</h3>\n                    <p className=\"text-end m-0 pe-2 text-amarillo\">({marca ? marca : \"marca\"}-{modelo ? modelo : \"modelo\"})</p>\n                    <h3 className=\"text-center my-auto text-white\"><span className=\"text-amarillo\"> <FaBolt size={30} /> </span>{consumo ? consumo : \"00\"} Kw/h </h3>\n\n\n                </Col>\n\n            </Row>\n            <Row className=\"bg-oscuro my-auto py-3\">\n\n                <Form.Group as={Col} xs={4} className=\"py-2\">\n                    <Form.Label>\n                        Numero\n            </Form.Label>\n                    <Form.Control value={numero} readOnly />\n                </Form.Group>\n                <Form.Group as={Col} xs={8} className=\"py-2\">\n                    <Form.Label>\n                        Alias\n             </Form.Label>\n                    <Form.Control onChange={(ev) => setAlias(ev.target?.value)} defaultValue={alias}/>\n                </Form.Group>\n                <Form.Group as={Col} xs={5} className=\" py-2\">\n                    <Form.Label>\n                        Marca\n             </Form.Label>\n                    <Form.Control onChange={(ev) => setMarca(ev.target?.value)} />\n                </Form.Group>\n                <Form.Group as={Col} xs={7} className=\" py-2\">\n                    <Form.Label>\n                        Modelo\n            </Form.Label>\n                    <Form.Control onChange={(ev) => setModelo(ev.target?.value)} />\n                </Form.Group>\n                <Form.Group as={Col} xs={4} className=\" py-2\">\n                    <Form.Label>\n                        kw/h\n            </Form.Label>\n                    <Form.Control type=\"number\" onChange={(ev) => setConsumo(ev.target?.value)} />\n                </Form.Group>\n                <Form.Group as={Col} xs={8} className=\" py-2\">\n                    <Form.Label>\n                        Tecnico\n            </Form.Label>\n                    <Form.Select>\n                        <option>Selecciona tecnico</option>\n                    </Form.Select>\n                </Form.Group>\n                <Button variant=\"warning my-2 mx-0 text-dark\" onClick={handleNuevaMaquina}>Agregar</Button>\n            </Row>\n\n        </Form>\n    )\n}\n\n\nconst MaquinaLocal = (props) => {\n    const {nombre,pic,numero,marca,modelo,consumo,status,alias}=props\n    return (\n        <Row className=\"shadow bg-oscuro p-0 mx-auto my-2 my-lg-4  text-white border border-2 border-amarillo\">\n\n            <Col as=\"img\" xs={4}  src={pic} className=\"p-2  h-75 my-auto\" />\n            <Col xs={8} className=\" px-0 d-block border-start border-amarillo\">\n                <p className=\"ps-3 m-0 fs-4 d-block\">{alias?alias:nombre} {`-${numero}-`}</p>\n                <p className=\"text-end pe-1 m-0 border-bottom border-amarillo \">{marca}-{modelo}</p>\n                <p className=\"text-center fs-4 my-4\"><span className=\"text-amarillo me-2 fs-2\"><FaBolt /></span>{consumo} kw/h</p>\n\n            </Col>\n            <Col xs={12} className=\"p-0\">\n                <Row className=\"justify-content-end mx-auto w-100\">\n\n                    <Col xs={4} className=\"d-flex justify-content-center align-items-center\">\n                        Status:\n                         <div className={`bg-${status} my-auto ms-2 rounded-circle border boder-white border-2`} style={{ width: \"20px\", height: \"20px\" }} />\n                    </Col>\n                    <Col as={Button} xs={5} className=\"text-dark bg-warning border border-amarillo\">\n                        Averia\n                    </Col>\n                    <Col as={Button}  className=\"text-amarillo border border-amarillo\">\n                        <FaEdit />\n                    </Col>\n                </Row>\n            </Col>\n        </Row>\n    )\n}\n\nexport default (props) => {\n\n    const { maquinas, disponibles } = useMaquinaria()\n    const { local } = useLocal()\n    const [selected, setSelected] = useState()\n\n    return ( \n        <MainHolder>\n            <div className=\"h-100 w-100 p-0 m-0 bg-oscuro\" >\n\n                <div className=\"d-flex row flex-column py-2 h-100 m-auto align-items-center\" style={{}}>\n\n                    <h5 className=\"text-white  w-100 my-auto ps-3\">Maquinaria {local?.nombre}</h5>\n\n                    <Col xs={12} sm={10} lg={9} className=\"px-lg-5 bg-claro px-0 py-2 my-auto\" style={{ height: \"80%\", overflowY: \"scroll\" }}>\n                        {maquinas && maquinas.map(m => <MaquinaLocal {...m} />)}\n                    </Col>\n\n\n                </div>\n\n                <Row className=\"m-0 px-2 h-75 align-items-start bg-dark\" >\n                    <h5 className=\"p-0 my-auto text-white \">Maquinaria disponible</h5>\n                    <div className=\"d-flex  rounded rounded-5  align-items-center h-75 bg-claro flex-lg-wrap justify-content-lg-evenly\" style={{ overflowX: \"scroll\" }}>\n                        {disponibles && disponibles.map(m =>\n                            <Col xs={8} sm={4} md={3} className=\"shadow rounded ronded-3 h-75 mx-3 position-relative my-lg-4\" >\n                                <p className=\" text-center d-block text-truncate my-auto bg-dark border border-2 border-amarillo text-amarillo\">{m.nombre}</p>\n                                <img src={m.pic} className=\"w-100 h-75 bg-oscuro p-2\" />\n                                <Button variant=\"warning w-100 position-absolute border border-2 border-amarillo \" style={{ bottom: \"0\", left: \"0\" }} onClick={() => setSelected(m)}>Seleccionar</Button>\n                            </Col>\n                        )}\n                    </div>\n\n                </Row>\n                {selected && <FormularioMaquina selected={selected} />}\n            </div>\n\n        </MainHolder>\n    )\n}"]},"metadata":{},"sourceType":"module"}