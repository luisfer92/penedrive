{"ast":null,"code":"var _jsxFileName = \"/home/luisfer/Escritorio/rerovaji-control/src/admin/horario/SemanaPasada.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport moment from \"moment\";\nimport React, { useRef, useState } from \"react\";\nimport { Col, Row } from \"react-bootstrap\";\nimport { FaArrowLeft, FaArrowRight } from \"react-icons/fa\";\nimport { useHorarioEditorContext } from \"../../contexts/HorarioEditorContext\";\nimport DiaBarraaHolder from \"./DiaBarraaHolder\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nmoment.locale('es');\n\nconst SemanaInactiva = props => {\n  const {\n    semanaAnterior\n  } = props;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-50 \",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"text-white p-0 m-0 h-100 w-100\",\n        children: [/*#__PURE__*/_jsxDEV(DiaBarraaHolder, {\n          children: \"M\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 21\n        }, this), semanaAnterior.dias.map(d => {\n          var _d$trabajadores;\n\n          return /*#__PURE__*/_jsxDEV(DiaBarraaHolder, {\n            children: ((_d$trabajadores = d.trabajadores) === null || _d$trabajadores === void 0 ? void 0 : _d$trabajadores.length) || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 18,\n            columnNumber: 25\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-50\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"text-white p-0 m-0 h-100 w-100\",\n        children: [/*#__PURE__*/_jsxDEV(DiaBarraaHolder, {\n          children: \"N\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 21\n        }, this), semanaAnterior.dias.map(d => {\n          var _d$trabajadores2;\n\n          return /*#__PURE__*/_jsxDEV(DiaBarraaHolder, {\n            children: ((_d$trabajadores2 = d.trabajadores) === null || _d$trabajadores2 === void 0 ? void 0 : _d$trabajadores2.length) || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 25\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_c = SemanaInactiva;\n\nconst TramoHolder = props => {\n  _s();\n\n  const [active, setActive] = useState(false);\n  const {\n    children\n  } = props;\n  return /*#__PURE__*/_jsxDEV(Col, {\n    className: \"border d-flex justify-content-center align-items-start\",\n    style: {\n      height: \"90%\"\n    },\n    xs: 2,\n    onClick: () => {\n      setActive(!active);\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n\n_s(TramoHolder, \"1cfVChV6gA1Fk8+xDnwTj3gmgZo=\");\n\n_c2 = TramoHolder;\n\nconst tramoGenerator = (inicio, fin, step = 30) => {\n  let diff = fin.diff(inicio, \"minutes\");\n  let nextStep = null;\n  const tramos = [{\n    rpr: inicio.format(\"HH:mm\"),\n    compis: [],\n    time: inicio\n  }];\n\n  while (diff > 0) {\n    nextStep = nextStep ? nextStep.clone().add(30, \"minutes\") : inicio.clone().add(30, \"minutes\");\n    const rpr = nextStep.format(\"HH:mm\");\n    tramos.push({\n      rpr: nextStep.format(\"HH:mm\"),\n      compis: [],\n      time: nextStep\n    });\n    diff = fin.diff(nextStep, \"minutes\");\n    console.log(`hay ${diff} de diferencia entre ${fin.format(\"DD-MM-YYYY HH:mm\")} y ${nextStep.format(\"DD-MM-YYYY HH:mm\")}`);\n  }\n\n  return tramos;\n};\n\nconst SemanaActiva = props => {\n  _s2();\n\n  const {\n    tramo\n  } = props;\n  const tramoPasado = {\n    i: tramo.i.subtract(\"days\", 7),\n    f: tramo.f.subtract(\"days\", 7)\n  };\n  const [currentTramo, setCurrentTramo] = useState(tramoGenerator(tramoPasado.i, tramoPasado.f));\n\n  const handleWheel = ev => {\n    ev.target.scrollLeft += 100;\n    console.log(ev.target.scrollLeft);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Row, {\n    className: \"bg-white mx-auto p-0 align-items-start h-100\",\n    children: [/*#__PURE__*/_jsxDEV(Col, {\n      xs: 12,\n      className: \"p-0 m-0\",\n      style: {\n        height: \"15%\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-white w-100 m-0 bg-info ps-2 text-capitalize\",\n        children: tramoPasado.i.format(\"dddd [pasado] HH:mm - \" + tramoPasado.f.format(\"HH:mm\"))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Col, {\n      className: \"p-0 m-0 bg-warning\",\n      style: {\n        height: \"85%\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"m-0 p-0 bg-success flex-nowrap h-100 position-relative\",\n        style: {\n          overflowX: \"scroll\"\n        },\n        onWheel: handleWheel,\n        children: currentTramo.map(t => /*#__PURE__*/_jsxDEV(TramoHolder, {\n          children: t.rpr\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 9\n  }, this);\n};\n\n_s2(SemanaActiva, \"FpaAdbwFmgAEnE8hPpgxu9YFpew=\");\n\n_c3 = SemanaActiva;\nexport default _s3(() => {\n  _s3();\n\n  const {\n    semanaAnterior,\n    tramoHorario\n  } = useHorarioEditorContext();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-dark w-100 mx-auto m-0 p-0\",\n    style: {\n      height: \"20%\"\n    },\n    children: tramoHorario ? /*#__PURE__*/_jsxDEV(SemanaActiva, {\n      tramo: tramoHorario\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 29\n    }, this) : /*#__PURE__*/_jsxDEV(SemanaInactiva, {\n      semanaAnterior: semanaAnterior\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 69\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 9\n  }, this);\n}, \"dX1zEY+mALz9quyOM872byOAwYU=\", false, function () {\n  return [useHorarioEditorContext];\n});\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"SemanaInactiva\");\n$RefreshReg$(_c2, \"TramoHolder\");\n$RefreshReg$(_c3, \"SemanaActiva\");","map":{"version":3,"sources":["/home/luisfer/Escritorio/rerovaji-control/src/admin/horario/SemanaPasada.js"],"names":["moment","React","useRef","useState","Col","Row","FaArrowLeft","FaArrowRight","useHorarioEditorContext","DiaBarraaHolder","locale","SemanaInactiva","props","semanaAnterior","dias","map","d","trabajadores","length","TramoHolder","active","setActive","children","height","tramoGenerator","inicio","fin","step","diff","nextStep","tramos","rpr","format","compis","time","clone","add","push","console","log","SemanaActiva","tramo","tramoPasado","i","subtract","f","currentTramo","setCurrentTramo","handleWheel","ev","target","scrollLeft","overflowX","t","tramoHorario"],"mappings":"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","sourcesContent":["import moment from \"moment\";\nimport React, { useRef, useState } from \"react\";\nimport { Col, Row } from \"react-bootstrap\";\nimport { FaArrowLeft, FaArrowRight } from \"react-icons/fa\";\nimport { useHorarioEditorContext } from \"../../contexts/HorarioEditorContext\";\nimport DiaBarraaHolder from \"./DiaBarraaHolder\";\n\nmoment.locale('es')\n\nconst SemanaInactiva = (props) => {\n    const { semanaAnterior } = props\n    return (\n        <>\n            <div className=\"h-50 \">\n                <Row className=\"text-white p-0 m-0 h-100 w-100\">\n                    <DiaBarraaHolder>M</DiaBarraaHolder>\n                    {semanaAnterior.dias.map((d) =>\n                        <DiaBarraaHolder>\n                            {d.trabajadores?.length || 0}\n                        </DiaBarraaHolder>\n                    )}\n                </Row>\n            </div>\n            <div className=\"h-50\">\n                <Row className=\"text-white p-0 m-0 h-100 w-100\">\n                    <DiaBarraaHolder>N</DiaBarraaHolder>\n                    {semanaAnterior.dias.map((d) =>\n                        <DiaBarraaHolder>\n                            {d.trabajadores?.length || 0}\n                        </DiaBarraaHolder>\n                    )}\n                </Row>\n\n            </div>\n        </>\n    )\n}\n\nconst TramoHolder = (props) => {\n    const [active, setActive] = useState(false)\n    const { children } = props\n    return (\n        <Col className=\"border d-flex justify-content-center align-items-start\"\n            style={{height:\"90%\"}}\n            xs={2}\n            onClick={() => { setActive(!active) }}\n        >\n            {children}\n        </Col>\n    )\n}\n\nconst tramoGenerator = (inicio, fin, step = 30) => {\n\n    let diff = fin.diff(inicio, \"minutes\")\n    let nextStep = null\n    const tramos = [{ rpr: inicio.format(\"HH:mm\"), compis: [], time: inicio }]\n\n\n    while (diff > 0) {\n        nextStep = nextStep ? nextStep.clone().add(30, \"minutes\") : inicio.clone().add(30, \"minutes\")\n        const rpr = nextStep.format(\"HH:mm\")\n        tramos.push({ rpr: nextStep.format(\"HH:mm\"), compis: [], time: nextStep })\n        diff = fin.diff(nextStep, \"minutes\")\n        console.log(`hay ${diff} de diferencia entre ${fin.format(\"DD-MM-YYYY HH:mm\")} y ${nextStep.format(\"DD-MM-YYYY HH:mm\")}`)\n    }\n\n    return tramos\n}\n\nconst SemanaActiva = (props) => {\n    const { tramo } = props\n    \n    const tramoPasado = { i: tramo.i.subtract(\"days\", 7), f: tramo.f.subtract(\"days\", 7) }\n    const [currentTramo, setCurrentTramo] = useState(tramoGenerator(tramoPasado.i, tramoPasado.f))\n    \n    const handleWheel=(ev)=>{\n       \n        \n        ev.target.scrollLeft +=100\n        console.log(ev.target.scrollLeft)\n    }\n\n\n    return (\n        <Row className=\"bg-white mx-auto p-0 align-items-start h-100\">\n            <Col xs={12} className=\"p-0 m-0\" style={{ height: \"15%\" }}>\n                <p className=\"text-white w-100 m-0 bg-info ps-2 text-capitalize\">\n                    {tramoPasado.i.format(\"dddd [pasado] HH:mm - \" + tramoPasado.f.format(\"HH:mm\"))}\n                </p>\n            </Col>\n            <Col className=\"p-0 m-0 bg-warning\"   style={{ height: \"85%\" }}>\n                <Row className=\"m-0 p-0 bg-success flex-nowrap h-100 position-relative\" style={{ overflowX: \"scroll\" }} \n                     onWheel={handleWheel}\n                    >\n                    \n                    {currentTramo.map(t =>\n                        <TramoHolder>\n                            {t.rpr}\n                        </TramoHolder>\n                    )}\n\n                </Row>\n            </Col>\n        </Row>\n    )\n}\n\n\nexport default () => {\n\n    const { semanaAnterior, tramoHorario } = useHorarioEditorContext()\n\n\n    return (\n        <div className=\"bg-dark w-100 mx-auto m-0 p-0\" style={{ height: \"20%\" }}>\n            {tramoHorario ? <SemanaActiva tramo={tramoHorario} /> : <SemanaInactiva semanaAnterior={semanaAnterior} />}\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}