{"ast":null,"code":"import _objectSpread from\"/home/luisfer/Escritorio/rerovaji-control/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/luisfer/Escritorio/rerovaji-control/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable import/no-anonymous-default-export */import React,{useEffect,useRef,useState}from'react';import{Col,Form,Row,InputGroup,Button}from'react-bootstrap';import{FaBeer,FaBullhorn,FaExclamationTriangle}from'react-icons/fa';import{useAuth}from'../../contexts/AuthContext';import{useCompis}from'../../contexts/CompisContext';import{useMesage}from'../../contexts/MessageContext';import MainHolder from'./MainHolder';import moment from'moment';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var getFormated=function getFormated(date){console.log(\"formateando\");var duration=moment.duration(moment().diff(date));var minutes=duration.asMinutes();var days=duration.asDays();var menosDe30=minutes<30;var ayer=days>=1&&days<2;var hoy=days>0&&days<1&&!menosDe30;var isProximo=menosDe30||ayer||hoy;var _getFormated=function _getFormated(){var formated=null;var soloHoras=date.format(\"HH:MM\");switch(true){case!isProximo:formated=date.format(\"ddd. DD-MM-YY HH:MM\");break;case ayer:formated=\"ayer \"+soloHoras;break;case hoy:formated=soloHoras;break;case minutes<1:formated=\"ahora mismo\";break;case menosDe30:formated=\"hace \"+Math.round(minutes)+\" minutos\";break;default:console.log();break;}return formated;};return _getFormated();};var MsgFecha=function MsgFecha(props){var date=props.date;var _useState=useState(getFormated(date)),_useState2=_slicedToArray(_useState,2),formated=_useState2[0],setFormated=_useState2[1];useEffect(function(){var timer=setInterval(function(){var newTime=getFormated(date);newTime!=formated&&setFormated(getFormated(date));},60000);return function(){return clearInterval(timer);};},[setFormated]);return/*#__PURE__*/_jsx(\"p\",{className:\"w-100 m-0 p-0 text-end pe-2 text-warning\",children:formated});};var MsgFrom=function MsgFrom(props){var _useAuth=useAuth(),userAPI=_useAuth.userAPI;var children=props.children,from=props.from,date=props.date,__type=props.__type;var _useCompis=useCompis(),compis=_useCompis.compis;var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),me=_useState4[0],setMe=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),itsMine=_useState6[0],setItsMine=_useState6[1];useEffect(function(){if(compis&&userAPI){var find=compis.find(function(c){return c.correo===from;});find&&console.log(find.id);console.log(userAPI);setItsMine(find&&find.id===userAPI.id);setMe(find);}},[setMe,compis]);console.log(date);return/*#__PURE__*/_jsxs(Row,{className:\"justify-content-center px-0 mx-auto  \".concat(itsMine&&\"flex-row-reverse\"),children:[/*#__PURE__*/_jsx(Col,{xs:true,sm:5,lg:4,className:\"d-flex align-items-center text-white \",children:/*#__PURE__*/_jsxs(Row,{className:\"w-100 mx-auto p-0 text-dark\",children:[/*#__PURE__*/_jsx(Col,{xs:12,className:\"mx-auto text-capitalize text-white\",children:me&&me.nombre}),/*#__PURE__*/_jsx(Col,{xs:12,className:\" shadow mx-auto py-3 text-start \".concat(itsMine?\"bocadillo-me\":\"bocadillo\",\" \").concat(__type==\"alarm\"&&\"bg-oscuro  text-amarillo\",\" border border-3 border-white d-flex align-items-center \"),children:children}),/*#__PURE__*/_jsx(MsgFecha,{date:date})]})}),/*#__PURE__*/_jsx(Col,{xs:2,md:1,className:\"d-flex justify-content-center  align-items-center\",children:me&&/*#__PURE__*/_jsx(\"img\",{src:me.pic_url,style:{width:\"48px\",height:\"48px\"},className:\"rounded-circle border border-3 border-white shadow\"})})]});};var Mensaje=function Mensaje(props){var msg=props.msg,date=props.date,author=props.author,__type=props.__type;return/*#__PURE__*/_jsx(Row,{className:\"mx-auto justify-content-center my-2 w-100\",children:/*#__PURE__*/_jsxs(MsgFrom,{from:author,date:date,__type:__type,children:[__type==\"alarm\"&&/*#__PURE__*/_jsx(\"div\",{className:\"position-absolute text-white\",style:{top:\"-10px\",right:\"-10px\"},children:/*#__PURE__*/_jsx(FaBullhorn,{className:\"m-0 p-0\",size:25})}),msg]})});};export default function(){var _useMesage=useMesage(),mensajes=_useMesage.mensajes,sendMensaje=_useMesage.sendMensaje;var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),type=_useState8[0],setType=_useState8[1];var msgText=useRef();var msgsBottom=useRef(null);useEffect(function(){if(msgsBottom)msgsBottom.current.scrollTop=msgsBottom.current.scrollHeight*2;},[mensajes]);var handleSend=function handleSend(){if(msgText.current){var text=msgText.current.value;text!=\"\"&&sendMensaje({msg:text});}};return/*#__PURE__*/_jsxs(MainHolder,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-100 p-0 m-0 d-flex bg-oscuro-claro flex-column justify-content-end\",style:{height:\"80%\",overflow:\"hidden\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"py-5 position-relative\",style:{maxHeight:\"100%\",overflowX:\"hidden\",overflowY:\"scroll\"},ref:msgsBottom,children:[mensajes&&mensajes.map(function(m){return/*#__PURE__*/_jsx(Mensaje,_objectSpread({},m));}),/*#__PURE__*/_jsx(Row,{className:\"bg-info \",style:{bottom:\"0\",height:\"10vh\"}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-warning m-0 w-100  position-absolute bg-dark d-flex border-top border-3 border-white\",style:{minHeight:\"20%\",bottom:\"0\"},children:/*#__PURE__*/_jsx(Form,{className:\"my-auto mx-auto  p-2 w-100\",children:/*#__PURE__*/_jsx(Form.Group,{className:\"mb-2\",children:/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",ref:msgText,className:\"rounded rounded-4\",placeHolder:\"mensaje...\"}),/*#__PURE__*/_jsx(InputGroup.Text,{as:Button,onClick:handleSend,variant:\"success px-4\",children:\"Enviar\"})]})})})})]});}","map":{"version":3,"sources":["/home/luisfer/Escritorio/rerovaji-control/src/components/common/Messenger.js"],"names":["React","useEffect","useRef","useState","Col","Form","Row","InputGroup","Button","FaBeer","FaBullhorn","FaExclamationTriangle","useAuth","useCompis","useMesage","MainHolder","moment","getFormated","date","console","log","duration","diff","minutes","asMinutes","days","asDays","menosDe30","ayer","hoy","isProximo","_getFormated","formated","soloHoras","format","Math","round","MsgFecha","props","setFormated","timer","setInterval","newTime","clearInterval","MsgFrom","userAPI","children","from","__type","compis","me","setMe","itsMine","setItsMine","find","c","correo","id","nombre","pic_url","width","height","Mensaje","msg","author","top","right","mensajes","sendMensaje","type","setType","msgText","msgsBottom","current","scrollTop","scrollHeight","handleSend","text","value","overflow","maxHeight","overflowX","overflowY","map","m","bottom","minHeight"],"mappings":"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","sourcesContent":["/* eslint-disable import/no-anonymous-default-export */\nimport React, { useEffect, useRef, useState } from 'react'\nimport { Col, Form, Row, InputGroup, Button } from 'react-bootstrap'\nimport { FaBeer, FaBullhorn, FaExclamationTriangle } from 'react-icons/fa'\nimport { useAuth } from '../../contexts/AuthContext'\nimport { useCompis } from '../../contexts/CompisContext'\nimport { useMesage } from '../../contexts/MessageContext'\nimport MainHolder from './MainHolder'\nimport moment from 'moment'\n\n\nconst getFormated = (date) => {\n    console.log(\"formateando\")\n    var duration = moment.duration(moment().diff(date));\n\n    var minutes = duration.asMinutes()\n    var days = duration.asDays()\n\n\n    const menosDe30 = minutes < 30\n    const ayer = days >= 1 && days < 2\n    const hoy = (days > 0 && days < 1) && !menosDe30\n\n    const isProximo = (menosDe30 || ayer || hoy)\n\n    const _getFormated = () => {\n        let formated = null\n        const soloHoras = date.format(\"HH:MM\")\n        switch (true) {\n            case (!isProximo):\n                formated = date.format(\"ddd. DD-MM-YY HH:MM\")\n                break\n            case (ayer):\n                formated = \"ayer \" + soloHoras\n                break\n\n            case (hoy):\n                formated = soloHoras\n                break\n\n            case (minutes < 1):\n                formated = \"ahora mismo\"\n                break;\n            case (menosDe30):\n                formated = \"hace \" + Math.round(minutes) + \" minutos\"\n                break\n\n            default:\n                console.log()\n                break;\n        }\n        return formated\n    }\n    return _getFormated()\n}\n\n\n\n\nconst MsgFecha = (props) => {\n    const { date } = props\n    const [formated, setFormated] = useState(getFormated(date))\n\n    useEffect(() => {\n\n        const timer = setInterval(() => {\n            const newTime = getFormated(date)\n            newTime != formated && setFormated(getFormated(date))\n        }, 60000)\n\n        return () => clearInterval(timer);\n    }, [setFormated])\n\n    return <p className=\"w-100 m-0 p-0 text-end pe-2 text-warning\">{formated}</p>\n}\n\n\nconst MsgFrom = (props) => {\n    const { userAPI } = useAuth()\n    const { children, from, date, __type } = props\n    const { compis } = useCompis()\n    const [me, setMe] = useState()\n    const [itsMine, setItsMine] = useState(false)\n\n    useEffect(() => {\n\n        if (compis && userAPI) {\n\n            const find = compis.find(c => c.correo === from)\n            find && console.log(find.id)\n            console.log(userAPI)\n            setItsMine(find && find.id === userAPI.id)\n            setMe(find)\n        }\n    }, [setMe, compis])\n\n    console.log(date)\n\n\n    return (\n        <Row className={`justify-content-center px-0 mx-auto  ${itsMine && \"flex-row-reverse\"}`}>\n            <Col xs sm={5} lg={4} className=\"d-flex align-items-center text-white \">\n                <Row className=\"w-100 mx-auto p-0 text-dark\">\n                    <Col xs={12} className=\"mx-auto text-capitalize text-white\">{me && me.nombre}</Col>\n                    <Col xs={12} className={` shadow mx-auto py-3 text-start ${itsMine ? \"bocadillo-me\" : \"bocadillo\"} ${__type == \"alarm\" && \"bg-oscuro  text-amarillo\"} border border-3 border-white d-flex align-items-center `}>\n                        {children}\n                    </Col>\n                    <MsgFecha date={date} />\n                </Row>\n\n            </Col>\n            <Col xs={2} md={1} className=\"d-flex justify-content-center  align-items-center\">\n\n                {me && <img src={me.pic_url} style={{ width: \"48px\", height: \"48px\" }} className=\"rounded-circle border border-3 border-white shadow\" />}\n\n\n            </Col>\n\n\n\n        </Row >\n\n    )\n}\n\n\nconst Mensaje = (props) => {\n    const { msg, date, author, __type } = props\n\n    return (\n        <Row className=\"mx-auto justify-content-center my-2 w-100\">\n            <MsgFrom from={author} date={date} __type={__type}>\n\n                {\n                    __type == \"alarm\" &&\n                        <div className=\"position-absolute text-white\" style={{ top: \"-10px\", right: \"-10px\" }}>\n                            <FaBullhorn className=\"m-0 p-0\" size={25} />\n                        </div>\n                }\n                {msg}\n\n\n\n            </MsgFrom>\n\n        </Row>\n\n    )\n}\n\n\n\nexport default function () {\n    const { mensajes, sendMensaje } = useMesage()\n    const [type, setType] = useState()\n    const msgText = useRef()\n    const msgsBottom = useRef(null)\n\n\n    useEffect(() => {\n        if (msgsBottom) msgsBottom.current.scrollTop = msgsBottom.current.scrollHeight *2\n    }, [mensajes])\n\n\n    const handleSend = () => {\n        if (msgText.current) {\n            const text = msgText.current.value\n            text != \"\" && sendMensaje({ msg: text })\n        }\n    }\n\n\n    return (\n        <MainHolder>\n\n            <div className=\"w-100 p-0 m-0 d-flex bg-oscuro-claro flex-column justify-content-end\" style={{ height: \"80%\", overflow: \"hidden\" }} >\n                <div className=\"py-5 position-relative\" style={{ maxHeight: \"100%\", overflowX: \"hidden\", overflowY: \"scroll\" }}ref={msgsBottom}  >\n                    {mensajes && mensajes.map(m => <Mensaje {...m} />)}\n                    <Row className=\"bg-info \" style={{bottom:\"0\" ,height: \"10vh\" }} />\n                </div>\n\n            </div>\n\n\n\n\n            <div className=\"bg-warning m-0 w-100  position-absolute bg-dark d-flex border-top border-3 border-white\" style={{ minHeight: \"20%\", bottom: \"0\" }}>\n                <Form className=\"my-auto mx-auto  p-2 w-100\">\n\n                    <Form.Group className=\"mb-2\">\n                        <InputGroup>\n\n                            <Form.Control as=\"textarea\" ref={msgText} className=\"rounded rounded-4\" placeHolder={\"mensaje...\"} />\n                            <InputGroup.Text as={Button} onClick={handleSend} variant=\"success px-4\">Enviar</InputGroup.Text>\n                        </InputGroup>\n                    </Form.Group>\n\n\n                </Form>\n            </div>\n        </MainHolder>\n\n    )\n}"]},"metadata":{},"sourceType":"module"}