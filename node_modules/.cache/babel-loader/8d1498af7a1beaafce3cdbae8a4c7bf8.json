{"ast":null,"code":"var _jsxFileName = \"/home/luisfer/Escritorio/rerovaji-control/src/contexts/HorarioEditorContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { FaPython } from 'react-icons/fa';\nimport { database } from '../firebase';\nimport { useCompis } from './CompisContext';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst generaSemana = (i, trabajadores) => {\n  const inicio = i.clone().startOf('day');\n  let dias = [];\n\n  for (let c = 0; c != 7; c++) {\n    console.log(inicio.clone().add(\"days\", c));\n    dias.push({\n      i: inicio.clone().add(\"days\", c),\n      nombre: i.format(\"dddd\"),\n      abbr: i.format(\"dddd\").charAt(0),\n      trabajadores,\n      errores: [],\n      horas: 0\n    });\n  }\n\n  return {\n    horas: 0,\n    dias,\n    errores: []\n  };\n};\n\nconst generaTramos = (inicio, tramos) => {\n  const inicioTramoM = moment(inicio.format(\"YYYY-MM-DD\") + \" \" + tramos[0].i);\n  const finTramoM = moment(inicio.format(\"YYYY-MM-DD\") + \" \" + tramos[0].f);\n  console.log(finTramoM.diff(\"min\", inicioTramoM));\n  let tramoM = [];\n  let tramoN = [];\n  return null;\n};\n\nexport const HorarioEditorContext = /*#__PURE__*/React.createContext();\nexport function useHorarioEditorContext() {\n  _s();\n\n  return React.useContext(HorarioEditorContext);\n}\n\n_s(useHorarioEditorContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport function HorarioEditorProvider(props) {\n  _s2();\n\n  const {\n    children,\n    i,\n    t\n  } = props;\n  const {\n    compis\n  } = useCompis();\n  const [incio, setInicio] = useState(i);\n  const [tramos, setTramos] = useState(generaTramos(i, t));\n  const [semana, setSemana] = useState(generaSemana(i, compis));\n  const [semanaAnterior, setSemanaAnterior] = useState(generaSemana(i.clone().add(\"days\", 7), compis));\n  const [tramoHorario, setTramoHorario] = useState();\n  useEffect(() => {\n    console.log(compis);\n    compis && setInicio(generaSemana(i, compis));\n  }, [compis]);\n  useEffect(() => {\n    console.log(\"tramo horario \" + (tramoHorario === null || tramoHorario === void 0 ? void 0 : tramoHorario.i.format(\"dddd HH:MM\")) || \"vacio\");\n  }, [tramoHorario]);\n  const value = {\n    incio,\n    semana,\n    semanaAnterior,\n    tramoHorario,\n    setTramoHorario\n  };\n  return /*#__PURE__*/_jsxDEV(HorarioEditorContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(HorarioEditorProvider, \"dYO10dMCKC2Aa8YYgw48wpkn86g=\", false, function () {\n  return [useCompis];\n});\n\n_c = HorarioEditorProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"HorarioEditorProvider\");","map":{"version":3,"sources":["/home/luisfer/Escritorio/rerovaji-control/src/contexts/HorarioEditorContext.js"],"names":["React","useEffect","useState","FaPython","database","useCompis","moment","generaSemana","i","trabajadores","inicio","clone","startOf","dias","c","console","log","add","push","nombre","format","abbr","charAt","errores","horas","generaTramos","tramos","inicioTramoM","finTramoM","f","diff","tramoM","tramoN","HorarioEditorContext","createContext","useHorarioEditorContext","useContext","HorarioEditorProvider","props","children","t","compis","incio","setInicio","setTramos","semana","setSemana","semanaAnterior","setSemanaAnterior","tramoHorario","setTramoHorario","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { FaPython } from 'react-icons/fa'\nimport { database } from '../firebase'\nimport {useCompis} from './CompisContext'\nimport moment from 'moment'\n\nconst generaSemana = (i,trabajadores) => {\n\n\n    const inicio = i.clone().startOf('day')\n   \n    let dias=[]\n    for(let c=0;c!=7;c++){\n        console.log(inicio.clone().add(\"days\",c)    )\n        dias.push({\n            i:inicio.clone().add(\"days\",c),\n            nombre:i.format(\"dddd\"),\n            abbr:i.format(\"dddd\").charAt(0),\n            trabajadores,\n            errores:[],\n            horas:0,\n        })\n    }\n    return {horas:0,dias,errores:[]}\n}\n\nconst generaTramos=(inicio,tramos)=>{\n\n    const inicioTramoM=moment(inicio.format(\"YYYY-MM-DD\")+\" \"+tramos[0].i)\n    const finTramoM=moment(inicio.format(\"YYYY-MM-DD\")+\" \"+tramos[0].f)\n    console.log(finTramoM.diff(\"min\",inicioTramoM))\n    let tramoM=[]\n    let tramoN=[]\n\n\n\n    return null\n\n}\n\n\nexport const HorarioEditorContext = React.createContext();\n\n\n\n\nexport function useHorarioEditorContext() {\n    return React.useContext(HorarioEditorContext)\n}\n\nexport function HorarioEditorProvider(props) {\n    const { children, i,t } = props\n    const {compis}=useCompis()\n\n    const [incio, setInicio] = useState(i)\n    const [tramos,setTramos]=useState(generaTramos(i,t))\n    const [semana, setSemana] = useState(generaSemana(i,compis))\n    const [semanaAnterior,setSemanaAnterior]=useState(generaSemana(i.clone().add(\"days\",7),compis))\n    const [tramoHorario, setTramoHorario] = useState()\n\n    useEffect(() => {\n        console.log(compis)\n        compis && setInicio(generaSemana(i,compis))\n    }, [compis])\n\n    useEffect(() => {\n        console.log(\"tramo horario \"+tramoHorario?.i.format(\"dddd HH:MM\") || \"vacio\")\n    }, [tramoHorario])\n\n    const value = {\n        incio,\n        semana,\n        semanaAnterior,\n        tramoHorario,\n        setTramoHorario\n\n    }\n\n\n    return (\n        <HorarioEditorContext.Provider value={value}>\n\n            {children}\n\n        </HorarioEditorContext.Provider>\n    )\n}"]},"metadata":{},"sourceType":"module"}