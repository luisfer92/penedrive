{"ast":null,"code":"var _jsxFileName = \"/home/luisfer/Escritorio/rerovaji-control/src/components/common/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Card, Button, Form, Alert, Row, Col } from 'react-bootstrap';\nimport logo from '../../assets/logo.png';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { Redirect } from 'react-router-dom';\nimport { useHistory } from \"react-router-dom\";\nimport { auth } from '../../firebase';\nimport { useProducto } from '../../contexts/ProductoContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Login(props) {\n  _s();\n\n  const emailRef = useRef();\n  const passWordRef = useRef();\n  const {\n    login,\n    currentUser,\n    loadUserData\n  } = useAuth();\n  const [error, setError] = useState('');\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const {\n    loadProductos\n  } = useProducto();\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    try {\n      setError('');\n      setLoading(true);\n      const usuario = await login(emailRef.current.value, passWordRef.current.value);\n\n      if (usuario) {\n        setLoggedIn(true);\n      } else {\n        setError(\"No se puede iniciar sesion \");\n      }\n    } catch (error) {\n      console.log(error);\n      setError(\"No se puede iniciar sesion con esta cuenta\");\n    }\n  }\n\n  const prev = props.location.state && props.location.state.prevPath;\n  const redirection = prev ? prev : \"/\";\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [currentUser && /*#__PURE__*/_jsxDEV(Redirect, {\n      to: redirection\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 29\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"bg-oscuro text-white\",\n      style: {\n        display: \"flex\",\n        height: \"100vh\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        xs: 11,\n        md: 5,\n        lg: 2,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"mx-auto d-block shadow my-5\",\n          src: logo,\n          style: {\n            width: \"100px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          className: \"mt-3\",\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-danger text-center\",\n            children: error ? error : \" \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              className: \"textoPrimario\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"email\",\n              ref: emailRef,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              className: \"textoPrimario\",\n              children: \"Contrase\\xF1a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              ref: passWordRef,\n              required: true,\n              value: \"galletita\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            disable: loading,\n            className: \"w-100 mt-2 bg-success\",\n            type: \"submit\",\n            children: \"Iniciar sesion\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Login, \"Aw8X6WNNGWHgE4OpQdo2A0Acz3Y=\", false, function () {\n  return [useAuth, useProducto];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/luisfer/Escritorio/rerovaji-control/src/components/common/Login.js"],"names":["React","useEffect","useRef","useState","Card","Button","Form","Alert","Row","Col","logo","useAuth","Redirect","useHistory","auth","useProducto","Login","props","emailRef","passWordRef","login","currentUser","loadUserData","error","setError","loggedIn","setLoggedIn","loading","setLoading","loadProductos","handleSubmit","e","preventDefault","usuario","current","value","console","log","prev","location","state","prevPath","redirection","display","height","justifyContent","alignItems","width"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { Card, Button, Form, Alert, Row, Col } from 'react-bootstrap'\nimport logo from '../../assets/logo.png';\nimport { useAuth } from '../../contexts/AuthContext'\nimport { Redirect } from 'react-router-dom';\nimport { useHistory } from \"react-router-dom\";\n\nimport { auth } from '../../firebase';\nimport { useProducto } from '../../contexts/ProductoContext'\n\nexport default function Login(props) {\n\n    const emailRef = useRef();\n    const passWordRef = useRef();\n    const { login, currentUser,loadUserData } = useAuth();\n    const [error, setError] = useState('');\n    const [loggedIn, setLoggedIn] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const { loadProductos } = useProducto();\n\n\n     \n\n    async function handleSubmit(e) {\n\n        e.preventDefault();\n\n        try {\n\n            setError('')\n            setLoading(true)\n            const usuario = await login(emailRef.current.value, passWordRef.current.value)\n            \n            if (usuario) {\n               \n                setLoggedIn(true);\n                \n            } else {\n                setError(\"No se puede iniciar sesion \")\n            }\n\n\n        } catch (error) {\n            console.log(error)\n            setError(\"No se puede iniciar sesion con esta cuenta\")\n        }\n\n    }\n\n\n    \n\n    const prev=props.location.state && props.location.state.prevPath\n    const redirection=prev?prev:\"/\"\n    return (\n        <>\n            {currentUser && <Redirect to={redirection} />}\n            <Row className=\"bg-oscuro text-white\" style={{ display: \"flex\",height:\"100vh\",justifyContent: \"center\", alignItems: \"center\" }}>\n                <Col xs={11} md={5} lg={2}>\n                \n                 <img className=\"mx-auto d-block shadow my-5\" src={logo} style={{width:\"100px\"}}/>\n                    \n                    \n                    <Form  className=\"mt-3\" onSubmit={handleSubmit}>\n                    <p className=\"text-danger text-center\">{error?error:\" \"}</p>\n                        <Form.Group className=\"mb-2\">\n                            <Form.Label className=\"textoPrimario\">\n                                Email\n                        </Form.Label>\n                            <Form.Control type=\"email\" ref={emailRef} required  />\n                        </Form.Group>\n\n                        <Form.Group className=\"mb-2\">\n                            <Form.Label className=\"textoPrimario\">\n                                Contrase√±a\n                        </Form.Label>\n                            <Form.Control type=\"password\" ref={passWordRef} required value={\"galletita\"}/>\n                        </Form.Group>\n\n\n\n                        <Button disable={loading} className=\"w-100 mt-2 bg-success\" type=\"submit\">Iniciar sesion</Button>\n                       \n                    </Form>\n               \n\n                \n                </Col>\n            \n                   \n\n            </Row>\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}