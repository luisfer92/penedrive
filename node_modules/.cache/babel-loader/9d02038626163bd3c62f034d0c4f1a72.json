{"ast":null,"code":"import _slicedToArray from\"/home/luisfer/Escritorio/rerovaji-control/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Col,Row,Spinner,Button}from'react-bootstrap';import{Link,Redirect,useHistory}from'react-router-dom';import{useAuth}from'../../contexts/AuthContext';import BarraNav from'./BarraNav';import logo from'../../assets/logo.png';import{useLocal}from'../../contexts/LocalContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoadingCortine=function LoadingCortine(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),time=_useState2[0],setTimer=_useState2[1];var _useAuth=useAuth(),currentUser=_useAuth.currentUser;var _useLocal=useLocal(),local=_useLocal.local;var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),outOfTime=_useState4[0],setOutOfTime=_useState4[1];var history=useHistory();useEffect(function(){setTimer(setTimeout(function(){setOutOfTime(true);},5000));return clearTimeout(time);},[]);var TimeOutPanel=function TimeOutPanel(){return/*#__PURE__*/_jsx(Col,{xs:12,children:/*#__PURE__*/_jsxs(Row,{className:\"justify-content-center\",children:[/*#__PURE__*/_jsxs(Col,{xs:9,className:\"text-center my-auto text-danger mb-4 border border-danger py-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"fs-1 text-danger\",children:\"Ups algo salio mal\"}),\"Intenta iniciar sesion manualmente\"]}),/*#__PURE__*/_jsx(Col,{as:Link,to:\"/login\",xs:8,className:\"bg-info p-0\",children:/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"w-100\",children:\"Iniciar sesion\"})})]})});};var LoadingPanel=function LoadingPanel(){return/*#__PURE__*/_jsxs(Row,{className:\"d-flex justify-content-center align-items-\".concat(outOfTime?\"center\":\"start pt-5\",\" fs-1\"),children:[\"Cargando\",/*#__PURE__*/_jsx(Spinner,{animation:\"grow\",variant:\"warning\",className:\"ms-3\"})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"position-absolute bg-oscuro d-flex row text-warning justify-content-center mx-auto m-0 p-0\",style:{zIndex:\"200\",top:\"0\",width:\"100%\",height:\"100vh\"},children:[/*#__PURE__*/_jsx(Col,{className:\"d-flex justify-content-center align-items-\".concat(outOfTime?\"center\":\"end\",\" \"),children:/*#__PURE__*/_jsx(\"img\",{src:logo})}),!outOfTime&&/*#__PURE__*/_jsx(LoadingPanel,{}),outOfTime&&/*#__PURE__*/_jsx(TimeOutPanel,{})]});};export default function MainHolder(_ref){var children=_ref.children;var _useAuth2=useAuth(),currentUser=_useAuth2.currentUser,loading=_useAuth2.loading,userAPI=_useAuth2.userAPI;var _useLocal2=useLocal(),local=_useLocal2.local;var history=useHistory();var location=history.location;console.log(userAPI);return/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative vh-100 vw-100 bg-claro-oscuro\",style:{overflowY:\"scroll\"},children:[!currentUser&&!loading&&/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/login',state:{prevPath:location.pathname}}}),userAPI&&!local&&/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/local/selector',state:{prevPath:location.pathname}}}),/*#__PURE__*/_jsx(BarraNav,{}),/*#__PURE__*/_jsx(\"div\",{className:\"main-holder\",style:{width:\"100%\",height:\"90vh\",margin:\"0\"},children:children}),loading&&/*#__PURE__*/_jsx(LoadingCortine,{})]});}","map":{"version":3,"sources":["/home/luisfer/Escritorio/rerovaji-control/src/components/common/MainHolder.js"],"names":["React","useEffect","useState","Col","Row","Spinner","Button","Link","Redirect","useHistory","useAuth","BarraNav","logo","useLocal","LoadingCortine","time","setTimer","currentUser","local","outOfTime","setOutOfTime","history","setTimeout","clearTimeout","TimeOutPanel","LoadingPanel","zIndex","top","width","height","MainHolder","children","loading","userAPI","location","console","log","overflowY","pathname","state","prevPath","margin"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Col, Row, Spinner, Button } from 'react-bootstrap'\nimport { Link, Redirect, useHistory } from 'react-router-dom'\nimport { useAuth } from '../../contexts/AuthContext'\nimport BarraNav from './BarraNav'\nimport logo from '../../assets/logo.png'\nimport { useLocal } from '../../contexts/LocalContext'\n\n\n\nconst LoadingCortine = () => {\n    const [time, setTimer] = useState()\n    const { currentUser } = useAuth()\n    const {local}=useLocal()\n    const [outOfTime, setOutOfTime] = useState()\n    const history = useHistory()\n\n\n    \n\n    useEffect(() => {\n        setTimer(setTimeout(() => { setOutOfTime(true) }, 5000))\n        return clearTimeout(time)\n    }, [])\n\n    const TimeOutPanel = () => {\n        return (\n            <Col xs={12}>\n                <Row className=\"justify-content-center\">\n                    <Col xs={9} className=\"text-center my-auto text-danger mb-4 border border-danger py-4\" >\n                        <p className=\"fs-1 text-danger\">Ups algo salio mal</p>\n                        Intenta iniciar sesion manualmente\n                    </Col>\n                    <Col as={Link} to=\"/login\" xs={8} className=\"bg-info p-0\">\n                         <Button  variant=\"danger\" className=\"w-100\">Iniciar sesion</Button>\n                    </Col>\n                   \n                </Row>\n\n            </Col>\n        )\n    }\n\n    const LoadingPanel = () => {\n        return (\n            <Row className={`d-flex justify-content-center align-items-${outOfTime ? \"center\" : \"start pt-5\"} fs-1`}>\n                Cargando\n                <Spinner animation=\"grow\" variant=\"warning\" className=\"ms-3\" />\n            </Row>\n        )\n    }\n\n    return (\n        <div className=\"position-absolute bg-oscuro d-flex row text-warning justify-content-center mx-auto m-0 p-0\" style={{ zIndex: \"200\", top: \"0\", width: \"100%\", height: \"100vh\" }}>\n\n            <Col className={`d-flex justify-content-center align-items-${outOfTime ? \"center\" : \"end\"} `}>\n                <img src={logo} />\n            </Col>\n\n            {!outOfTime && <LoadingPanel />}\n\n            {outOfTime && <TimeOutPanel />}\n\n        </div>\n    )\n\n}\n\n\nexport default function MainHolder({ children }) {\n\n    const { currentUser, loading,userAPI } = useAuth()\n    const {local}=useLocal()\n    const history = useHistory()\n    const location = history.location\n    \n    console.log(userAPI)\n    return (\n        <div className=\"position-relative vh-100 vw-100 bg-claro-oscuro\" style={{overflowY:\"scroll\"}} >\n            {(!currentUser && !loading) && <Redirect to={{ pathname: '/login', state: { prevPath: location.pathname } }} />}\n            {(userAPI && !local)&& <Redirect  to={{ pathname: '/local/selector', state: { prevPath: location.pathname } }} />}\n            <BarraNav />\n            <div className=\"main-holder\" style={{ width:\"100%\",height:\"90vh\",margin:\"0\" }}>\n                {children}\n            </div>\n            {loading && <LoadingCortine />}\n\n        </div>\n\n\n\n    )\n}"]},"metadata":{},"sourceType":"module"}