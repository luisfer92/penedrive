{"ast":null,"code":"var _jsxFileName = \"/home/luisfer/Escritorio/rerovaji-control/src/admin/horario/HorarioCreator.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\nimport React, { useRef, useState } from 'react';\nimport { Button, Col, Row } from 'react-bootstrap';\nimport { FaEuroSign, FaMoon, FaSun, FaUsers } from 'react-icons/fa';\nimport { useAuth } from '../../contexts/AuthContext';\nimport moment from 'moment';\nimport { HorarioEditorProvider, useHorarioEditorContext } from '../../contexts/HorarioEditorContext';\nimport { useCompis } from '../../contexts/CompisContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet primerLunesDelMes = moment().year(2020).month(10).date(1).day(8);\nif (primerLunesDelMes.date() > 7) primerLunesDelMes.day(-6);\n\nconst Trabajador = props => {\n  const {\n    pic_url\n  } = props;\n  return /*#__PURE__*/_jsxDEV(Col, {\n    xs: 12,\n    sm: 10,\n    lg: 8,\n    as: \"img\",\n    src: pic_url,\n    className: \"shadow rounded-circle  border border-2 border-white mx-auto d-block my-2\",\n    style: {\n      maxHeight: \"100px\",\n      maxwidth: \"100px\"\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 9\n  }, this);\n};\n\n_c = Trabajador;\n\nconst DiaHolder = props => {\n  _s();\n\n  const {\n    children\n  } = props;\n  const {\n    setTramoHorario\n  } = useHorarioEditorContext();\n  const {\n    nombre,\n    abbr,\n    horas,\n    trabajadores,\n    tramo,\n    tr_index\n  } = props;\n  const length = trabajadores ? trabajadores.length : 0;\n  console.log(tramo);\n  return /*#__PURE__*/_jsxDEV(Col, {\n    className: \"text-white p-0 d-flex justify-content-center align-items-start  h-100 position-relative border\",\n    style: {\n      overflowY: \"scroll\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-2 d-block  h-100 p-0 mt-4\",\n      onClick: () => {\n        setTramoHorario(tramo);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-0 w-100 text-center border-bottom border-start border-white shadow fs-6  ${length === 0 && \"h-100\"}`,\n        style: {\n          position: \"absolute\",\n          top: \"0\",\n          left: \"0\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"d-block bg-oscuro text-warning\",\n          children: \"3500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"d-block bg-info\",\n          children: [length, \"/11\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), children]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n};\n\n_s(DiaHolder, \"QhW2yr5UvCL9AVZSjhfth56SE08=\", false, function () {\n  return [useHorarioEditorContext];\n});\n\n_c2 = DiaHolder;\n\nconst DiaBarraaHolder = ({\n  children\n}) => {\n  return /*#__PURE__*/_jsxDEV(Col, {\n    className: \"text-white p-0 d-flex justify-content-center align-items-center position-relative shadow border\",\n    style: {\n      maxHeight: \"100%\",\n      overflowY: \"hidden\"\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n\n_c3 = DiaBarraaHolder;\n\nconst SemanaHolder = props => {\n  _s2();\n\n  const {\n    turnoAbr,\n    handleTramoHorario,\n    tramo\n  } = props;\n  const {\n    userAPI\n  } = useAuth();\n  const {\n    semana\n  } = useHorarioEditorContext();\n  return /*#__PURE__*/_jsxDEV(Row, {\n    className: \"mx-auto h-100\",\n    children: [/*#__PURE__*/_jsxDEV(DiaBarraaHolder, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-0 w-100 text-center border-top border-white shadow fs-6 `,\n        style: {\n          position: \"absolute\",\n          top: \"0\",\n          left: \"0\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"d-block bg-oscuro text-warning\",\n          children: /*#__PURE__*/_jsxDEV(FaEuroSign, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 70\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"d-block bg-info\",\n          children: /*#__PURE__*/_jsxDEV(FaUsers, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 55\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), turnoAbr]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this), semana === null || semana === void 0 ? void 0 : semana.dias.map(d => {\n      var _d$trabajadores;\n\n      return /*#__PURE__*/_jsxDEV(DiaHolder, { ...d,\n        tr_index: turnoAbr === \"M\" ? 0 : 1,\n        children: (_d$trabajadores = d.trabajadores) === null || _d$trabajadores === void 0 ? void 0 : _d$trabajadores.map(t => /*#__PURE__*/_jsxDEV(Trabajador, { ...t\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }, this);\n};\n\n_s2(SemanaHolder, \"7kmD4uidPldjKoNaQb0YGVBN1us=\", false, function () {\n  return [useAuth, useHorarioEditorContext];\n});\n\n_c4 = SemanaHolder;\n\nconst BarraDias = props => {\n  return /*#__PURE__*/_jsxDEV(Row, {\n    className: \"bg-info text-white p-0 m-0\",\n    style: {\n      height: \"5%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(DiaBarraaHolder, {\n      children: [/*#__PURE__*/_jsxDEV(FaSun, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 30\n      }, this), \"-\", /*#__PURE__*/_jsxDEV(FaMoon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 40\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DiaBarraaHolder, {\n      children: \"L\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DiaBarraaHolder, {\n      children: \"M\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DiaBarraaHolder, {\n      children: \"X\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DiaBarraaHolder, {\n      children: \"J\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DiaBarraaHolder, {\n      children: \"V\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DiaBarraaHolder, {\n      children: \"S\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DiaBarraaHolder, {\n      children: \"D\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 9\n  }, this);\n};\n\n_c5 = BarraDias;\n\nconst SemanaPasada = props => {\n  _s3();\n\n  const {\n    semanaAnterior\n  } = useHorarioEditorContext();\n  const [tramoActivo, setTramoActivo] = useState();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-dark w-100 mx-auto m-0 p-0\",\n    style: {\n      height: \"20%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-50 \",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"text-white p-0 m-0 h-100 w-100\",\n        children: [/*#__PURE__*/_jsxDEV(DiaBarraaHolder, {\n          children: \"M\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this), semanaAnterior.dias.map(d => {\n          var _d$trabajadores2;\n\n          return /*#__PURE__*/_jsxDEV(DiaBarraaHolder, {\n            children: ((_d$trabajadores2 = d.trabajadores) === null || _d$trabajadores2 === void 0 ? void 0 : _d$trabajadores2.length) || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-50\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"text-white p-0 m-0 h-100 w-100\",\n        children: [/*#__PURE__*/_jsxDEV(DiaBarraaHolder, {\n          children: \"N\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this), semanaAnterior.dias.map(d => {\n          var _d$trabajadores3;\n\n          return /*#__PURE__*/_jsxDEV(DiaBarraaHolder, {\n            children: ((_d$trabajadores3 = d.trabajadores) === null || _d$trabajadores3 === void 0 ? void 0 : _d$trabajadores3.length) || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 9\n  }, this);\n};\n\n_s3(SemanaPasada, \"UnE5P+7w7IOdNn871+s6jsKW9vM=\", false, function () {\n  return [useHorarioEditorContext];\n});\n\n_c6 = SemanaPasada;\nexport default _s4(props => {\n  _s4();\n\n  const semanaPasada = useRef();\n  const apertura = \"09:30\";\n  const cambioTurno = \"17:00\";\n  const cierre = \"00:00\";\n  const {\n    compis\n  } = useCompis();\n  return /*#__PURE__*/_jsxDEV(HorarioEditorProvider, {\n    i: primerLunesDelMes,\n    t: [{\n      i: apertura,\n      f: cambioTurno\n    }, {\n      i: cambioTurno,\n      f: cierre\n    }],\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"vh-100 vw-100 bg-info p-0 m-0\",\n      children: [/*#__PURE__*/_jsxDEV(SemanaPasada, {\n        ref: semanaPasada\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(BarraDias, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-100 m-0 p-0\",\n        style: {\n          height: \"65%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-claro-oscuro h-50 p-0 mx-auto w-100\",\n          children: /*#__PURE__*/_jsxDEV(SemanaHolder, {\n            turnoAbr: \"M\",\n            tramo: {\n              i: apertura,\n              f: cambioTurno\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-oscuro h-50\",\n          children: /*#__PURE__*/_jsxDEV(SemanaHolder, {\n            turnoAbr: \"N\",\n            tramo: {\n              i: cambioTurno,\n              f: cierre\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-dark w-100 mx-auto m-0 p-0 \",\n        style: {\n          height: \"10%\",\n          overflowX: \"hidden\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          className: \"h-100  m-0 py-1 mx-auto bg-warning  px-1\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-100 bg-info d-flex \",\n            style: {\n              overflowX: \"scroll\"\n            },\n            children: compis === null || compis === void 0 ? void 0 : compis.map(c => /*#__PURE__*/_jsxDEV(Col, {\n              className: \"h-100 bg-info d-flex justify-content-center mx-2 bg-dark\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: c.pic_url,\n                className: \"rounded-circle border border-2 border-white\",\n                style: {\n                  height: \"100%\",\n                  width: \"auto\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 9\n  }, this);\n}, \"Qo1n9yicWYxxmZ+g1NT5iaI0qqc=\", false, function () {\n  return [useCompis];\n});\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Trabajador\");\n$RefreshReg$(_c2, \"DiaHolder\");\n$RefreshReg$(_c3, \"DiaBarraaHolder\");\n$RefreshReg$(_c4, \"SemanaHolder\");\n$RefreshReg$(_c5, \"BarraDias\");\n$RefreshReg$(_c6, \"SemanaPasada\");","map":{"version":3,"sources":["/home/luisfer/Escritorio/rerovaji-control/src/admin/horario/HorarioCreator.js"],"names":["React","useRef","useState","Button","Col","Row","FaEuroSign","FaMoon","FaSun","FaUsers","useAuth","moment","HorarioEditorProvider","useHorarioEditorContext","useCompis","primerLunesDelMes","year","month","date","day","Trabajador","props","pic_url","maxHeight","maxwidth","DiaHolder","children","setTramoHorario","nombre","abbr","horas","trabajadores","tramo","tr_index","length","console","log","overflowY","position","top","left","DiaBarraaHolder","SemanaHolder","turnoAbr","handleTramoHorario","userAPI","semana","dias","map","d","t","BarraDias","height","SemanaPasada","semanaAnterior","tramoActivo","setTramoActivo","semanaPasada","apertura","cambioTurno","cierre","compis","i","f","overflowX","c","width"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from 'react'\nimport { Button, Col, Row } from 'react-bootstrap'\nimport { FaEuroSign, FaMoon, FaSun, FaUsers } from 'react-icons/fa'\nimport { useAuth } from '../../contexts/AuthContext'\nimport moment from 'moment'\nimport { HorarioEditorProvider, useHorarioEditorContext } from '../../contexts/HorarioEditorContext'\nimport { useCompis } from '../../contexts/CompisContext'\n\n\nlet primerLunesDelMes = moment().year(2020).month(10).date(1).day(8);\nif (primerLunesDelMes.date() > 7)\n    primerLunesDelMes.day(-6);\n\nconst Trabajador = (props) => {\n    const { pic_url } = props\n    return (\n        <Col xs={12} sm={10} lg={8} as={\"img\"} src={pic_url} className=\"shadow rounded-circle  border border-2 border-white mx-auto d-block my-2\"\n            style={{ maxHeight: \"100px\", maxwidth: \"100px\" }} />\n    )\n}\n\nconst DiaHolder = (props) => {\n\n    const { children } = props\n    const {setTramoHorario}=useHorarioEditorContext()\n    const { nombre, abbr, horas, trabajadores,tramo,tr_index } = props\n    \n    const length = trabajadores ? trabajadores.length : 0\n    console.log(tramo) \n    return (\n        <Col\n            className=\"text-white p-0 d-flex justify-content-center align-items-start  h-100 position-relative border\"\n            style={{ overflowY: \"scroll\" }}\n\n        >\n\n            <div className=\"py-2 d-block  h-100 p-0 mt-4\" onClick={() => {setTramoHorario(tramo)}} >\n                <div className={`p-0 w-100 text-center border-bottom border-start border-white shadow fs-6  ${length === 0 && \"h-100\"}`} style={{ position: \"absolute\", top: \"0\", left: \"0\" }}  >\n\n                    <span className=\"d-block bg-oscuro text-warning\">3500</span>\n                    <span className=\"d-block bg-info\">{length}/11</span>\n                </div>\n\n                {children}\n            </div>\n\n        </Col>\n    )\n}\n\n\nconst DiaBarraaHolder = ({ children }) => {\n\n    return (\n        <Col className=\"text-white p-0 d-flex justify-content-center align-items-center position-relative shadow border\" style={{ maxHeight: \"100%\", overflowY: \"hidden\" }}>\n\n            {children}\n        </Col>\n    )\n}\n\n\nconst SemanaHolder = (props) => {\n\n    const { turnoAbr, handleTramoHorario,tramo } = props\n    const { userAPI } = useAuth()\n    const { semana } = useHorarioEditorContext()\n\n\n    return (\n        <Row className=\"mx-auto h-100\">\n            <DiaBarraaHolder>\n                <div className={`p-0 w-100 text-center border-top border-white shadow fs-6 `} style={{ position: \"absolute\", top: \"0\", left: \"0\" }}  >\n\n                    <span className=\"d-block bg-oscuro text-warning\"><FaEuroSign /></span>\n                    <span className=\"d-block bg-info\"><FaUsers /></span>\n                </div>\n\n                {turnoAbr}\n            </DiaBarraaHolder>\n            {semana?.dias.map(d =>\n                <DiaHolder {...d} tr_index={turnoAbr===\"M\"?0:1}>\n                    {d.trabajadores?.map(t =>\n                        <Trabajador {...t} />\n                    )}\n\n\n\n                </DiaHolder>\n            )}\n        </Row >\n    )\n\n\n}\n\n\n\nconst BarraDias = (props) => {\n    return (\n        <Row className=\"bg-info text-white p-0 m-0\" style={{ height: \"5%\" }}>\n            <DiaBarraaHolder><FaSun />-<FaMoon /></DiaBarraaHolder>\n            <DiaBarraaHolder>L</DiaBarraaHolder>\n            <DiaBarraaHolder>M</DiaBarraaHolder>\n            <DiaBarraaHolder>X</DiaBarraaHolder>\n            <DiaBarraaHolder>J</DiaBarraaHolder>\n            <DiaBarraaHolder>V</DiaBarraaHolder>\n            <DiaBarraaHolder>S</DiaBarraaHolder>\n            <DiaBarraaHolder>D</DiaBarraaHolder>\n        </Row>\n    )\n}\n\n\nconst SemanaPasada = (props) => {\n\n    const {semanaAnterior} = useHorarioEditorContext()\n    const [tramoActivo, setTramoActivo] = useState()\n\n    return (\n        <div className=\"bg-dark w-100 mx-auto m-0 p-0\" style={{ height: \"20%\" }}>\n            <div className=\"h-50 \">\n                <Row className=\"text-white p-0 m-0 h-100 w-100\">\n                    <DiaBarraaHolder>M</DiaBarraaHolder>\n                    {semanaAnterior.dias.map((d)=>\n                        <DiaBarraaHolder>\n                            {d.trabajadores?.length || 0}\n                        </DiaBarraaHolder>\n                    )}                    \n                </Row>\n            </div>\n            <div className=\"h-50\">\n            <Row className=\"text-white p-0 m-0 h-100 w-100\">\n                    <DiaBarraaHolder>N</DiaBarraaHolder>\n                    {semanaAnterior.dias.map((d)=>\n                        <DiaBarraaHolder>\n                            {d.trabajadores?.length || 0}\n                        </DiaBarraaHolder>\n                    )}                    \n                </Row>\n\n            </div>\n        </div>\n    )\n}\n\n\nexport default (props) => {\n    const semanaPasada = useRef()\n    const apertura = \"09:30\"\n    const cambioTurno = \"17:00\"\n    const cierre = \"00:00\"\n    const { compis } = useCompis()\n    return (\n        <HorarioEditorProvider i={primerLunesDelMes} t={[{ i: apertura, f: cambioTurno },{ i: cambioTurno, f: cierre }]}>\n            <div className=\"vh-100 vw-100 bg-info p-0 m-0\">\n                <SemanaPasada ref={semanaPasada} />\n                <BarraDias />\n                <div className=\"w-100 m-0 p-0\" style={{ height: \"65%\" }}>\n                    <div className=\"bg-claro-oscuro h-50 p-0 mx-auto w-100\">\n                        <SemanaHolder turnoAbr=\"M\" tramo={{ i: apertura, f: cambioTurno }} />\n                    </div>\n                    <div className=\"bg-oscuro h-50\">\n                        <SemanaHolder turnoAbr=\"N\" tramo={{ i: cambioTurno, f: cierre }} />\n                    </div>\n                </div>\n                <div className=\"bg-dark w-100 mx-auto m-0 p-0 \" style={{ height: \"10%\", overflowX: \"hidden\" }}>\n                    <Row className=\"h-100  m-0 py-1 mx-auto bg-warning  px-1\" >\n                        <div className=\"h-100 bg-info d-flex \" style={{ overflowX: \"scroll\" }} >\n                            {compis?.map(c =>\n                                <Col className=\"h-100 bg-info d-flex justify-content-center mx-2 bg-dark\">\n                                    <img src={c.pic_url} className=\"rounded-circle border border-2 border-white\" style={{ height: \"100%\", width: \"auto\" }} />\n\n                                </Col>\n                            )}\n\n                        </div>\n\n\n                    </Row>\n\n                </div>\n            </div>\n        </HorarioEditorProvider>\n\n    )\n}"]},"metadata":{},"sourceType":"module"}