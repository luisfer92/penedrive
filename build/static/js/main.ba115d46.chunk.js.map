{"version":3,"sources":["assets/maquinaria sync nonrecursive //.(png|jpe?g|svg|webp)$","assets/maquinaria/cafetera.webp","assets/maquinaria/camara.webp","assets/maquinaria/expositor.webp","assets/maquinaria/exprimidora.webp","assets/maquinaria/freidora.webp","assets/maquinaria/grifo.webp","assets/maquinaria/heladera.webp","assets/maquinaria/hielo.webp","assets/maquinaria/horno.webp","assets/maquinaria/impresora.webp","assets/maquinaria/kds.webp","assets/maquinaria/lavavajillas.webp","assets/maquinaria/maria.webp","assets/maquinaria/mesa.webp","assets/maquinaria/microondas.webp","assets/maquinaria/tpv.webp","firebase.js","contexts/ProductoContext.js","contexts/AuthContext.js","assets/logo.png","contexts/MaquinariaContext.js","contexts/TenicosContext.js","contexts/ContratoContext.js","contexts/TrabajadorContext.js","contexts/LocalContext.js","contexts/CompisContext.js","contexts/MessageContext.js","components/common/ProfilePic.js","components/common/BarraNav.js","components/common/UserProfile.js","components/trabajador/TrabajadorDia.js","components/trabajador/TrabajadorHorario.js","components/trabajador/TrabajadorIndex.js","components/common/MainHolder.js","components/MainApp.js","components/superAdmin/OrganizadorProductos.js","components/superAdmin/ProductoClasificable.js","components/superAdmin/CategoriaClasifier.js","components/superAdmin/AbcClasifier.js","components/superAdmin/PrecioCalisifier.js","components/ProductoIndex.js","components/common/Login.js","components/limpieza.js","assets/harina.png","components/Operativa.js","components/common/SecondaryHolder.js","components/superAdmin/ProductoEditor.js","assets/box.png","components/superAdmin/ProductoCreator.js","components/common/LocalSelector.js","components/common/NotFoundPage.js","components/common/Messenger.js","components/common/AlarmSender.js","components/superAdmin/MaquinariaCreator.js","admin/PlantillaCreator.js","contexts/HorarioEditorContext.js","admin/horario/DiaBarraaHolder.js","admin/horario/SemanaPasada.js","admin/horario/HorarioCreator.js","App.js","reportWebVitals.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","app","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","database","firestore","storage","ProductoContext","React","createContext","useProducto","useContext","ProductoProvider","children","useState","productos","setProductos","categorias","setCategorias","value","loadProductoContext","collection","get","then","querySnapshot","lista","forEach","documentSnapshot","push","data","catch","error","console","log","query","document","upgradeProducto","prodID","deleteKey","doc","update","newProductos","producto","match","categoria_id","undefined","assign","upgradeProductoBulk","productosID","batch","nuevosProductos","ref","find","p","commit","dataProductos","nuevoProducto","np","Provider","AuthContext","useAuth","AuthProvider","currentUser","setCurrentUser","loggedOut","setLoggedOut","loading","setLoading","userAPI","setUserApi","login","email","password","setPersistence","signInWithEmailAndPassword","errorCode","errorMessage","message","logout","signOut","loadUserData","usuairo","uid","queryResult","exists","getDownloadURL","url","profileUrl","useEffect","onAuthStateChanged","user","images","r","item","index","replace","importAll","require","maquinasStandar","nombre","pic","cafetera","default","camara","expositor","exprimidora","freidora","grifo","heladera","hielo","horno","impresora","kds","lavavajillas","maria","mesa","microondas","tpv","MaquinariaContext","useMaquinaria","MaquinariaProvider","local","useLocal","maquinas","setMaquinas","selfDB","setDB","db","maquinaria","orderBy","onSnapshot","snap","m","_data","ms","createMaquina","add","disponibles","TecnicosContext","TecnicosProvider","tecnicos","setTecnicos","plantilla","t","createTecnico","ContratoContext","TrabajadorContext","TrabajadorProvider","trabajadores","setTrabajadores","createTrabajador","LocalContext","LocalProvider","locales","setLocales","setLocal","abandonarLocal","unsubscribre","load","where","correo","size","length","CompisProvider","MessageProvider","CompisContext","useCompis","compis","setCompis","allowed_users","newCompis","c","pic_url","moment","locale","MesageContext","useMesage","mensajes","setMensajes","setMisMensajes","msgs","newMsg","myMsg","date","utc","seconds","from","sendMensaje","author","Timestamp","fromDate","Date","Pic","props","src","className","style","width","height","menuAdmin","BarraNav","show","setShow","location","useHistory","a","Row","Col","to","alt","logo","onClick","Offcanvas","onHide","Header","closeButton","closeVariant","Title","xs","Body","ListGroup","variant","minHeight","active","pathname","Item","action","as","Link","bottom","chapa","userApi","isAdmin","isSuperAdmin","UserProfile","justifyContent","sm","md","lg","Dia","turnos","libre","euro","bgColor","textColor","xxl","alignItems","Accordion","eventKey","UserHorario","borderTopLeftRadius","borderTopRightRadius","paddingTop","xl","TrabajadorIndex","LoadingCortine","time","setTimer","outOfTime","setOutOfTime","setTimeout","clearTimeout","TimeOutPanel","Button","LoadingPanel","Spinner","animation","zIndex","top","MainHolder","overflowY","state","prevPath","margin","MainApp","BottomBar","class","right","Categoria","categoria","setCategoria","IDProducto","PrecioProducto","precio","Math","round","toFixed","expand","editable","handleEditar","CategoriaClasifier","setCategoriaActiva","prodXcat","filter","alphabet","Array","i","x","String","fromCharCode","splice","generaAlphabet","l","toUpperCase","startsWith","generaProductos","letra","sort","b","setActive","maxHeight","overflow","window","ProductoIndex","params","order","setOrderBy","Form","labelKey","option","codBarras","options","placeholder","Group","Label","Dropdown","Toggle","Menu","AbcClasifier","Login","emailRef","useRef","passWordRef","setError","setLoggedIn","loadProductos","preventDefault","current","prev","redirection","display","onSubmit","Control","type","required","disable","limpieza","icono","items","compi","fecha","freidoras","numero","harina","Freidora","left","FreidoraHolder","flex","borderRadius","maxWidth","overflowX","Harina","harinaImg","CategoriaLimpiezaItem","CategoriaLimpieza","Limpieza","zona","Operativa","title","back","FormItem","holder","lock","cambios","handleChange","saved","initial","setInitial","autosave","setAutosave","saving","includes","toLowerCase","setValue","event","val","target","trim","newCambio","newChanges","InputGroup","readOnly","onChange","Text","CategoriaEdicion","Editor","useParams","setCurrent","setCambios","setSaved","catId","save","handleSave","handleDropdowns","iva","unidades","paquetes","peso","codigo_barras","codisis_id","SecondaryHolder","Select","Check","inline","label","name","hoder","nombreInput","createRef","precioInput","categoriaInput","handleSubmit","categoriaID","box","Local","direccion","history","Badge","bg","fontSize","getFormated","duration","diff","minutes","asMinutes","days","asDays","menosDe30","ayer","hoy","isProximo","formated","soloHoras","format","_getFormated","MsgFecha","setFormated","timer","setInterval","clearInterval","MsgFrom","__type","me","setMe","itsMine","setItsMine","Mensaje","msg","msgText","msgsBottom","scrollTop","scrollHeight","placeHolder","text","AlarmaProductos","que","cuanto","motivoVal","setMotivoVal","motivos","ev","mStr","topic","__ref","FormularioMaquina","selected","alias","setAlias","marca","setMarca","modelo","setModelo","consumo","setConsumo","defaultValue","status","MaquinaLocal","setSelected","Input","generaSemana","tramos","inicio","clone","startOf","dias","ni","abbr","charAt","errores","horas","generaTramos","momentedTramos","inicioTramoM","finTramoM","f","tramoM","inicioTramoN","finTramoN","HorarioEditorContext","useHorarioEditorContext","HorarioEditorProvider","incio","setInicio","semana","semanaAnterior","tramoHorario","setTramoHorario","hidden","expanded","SemanaInactiva","DiaBarraaHolder","d","SemanaActiva","tramo","tramoPasado","subtract","primerLunesDelMes","year","month","day","Trabajador","maxwidth","DiaHolder","tr_index","dia_abbr","position","turnoAbr","TrabajadorTriada","DiaActivo","SemanaHolder","handleTramoHorario","BarraDias","Horario","semanaPasada","cambioTurno","SemanaPasada","createHistory","App","exact","path","component","LocalSelector","Messenger","AlarmSender","PlantillaCreator","ProductoCreator","ProductoEditor","MaquinariaCreator","HorarioCreator","exatt","NotFoundPage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ba115d46.chunk.js","sourcesContent":["var map = {\n\t\"./cafetera.webp\": 135,\n\t\"./camara.webp\": 136,\n\t\"./expositor.webp\": 137,\n\t\"./exprimidora.webp\": 138,\n\t\"./freidora.webp\": 139,\n\t\"./grifo.webp\": 140,\n\t\"./heladera.webp\": 141,\n\t\"./hielo.webp\": 142,\n\t\"./horno.webp\": 143,\n\t\"./impresora.webp\": 144,\n\t\"./kds.webp\": 145,\n\t\"./lavavajillas.webp\": 146,\n\t\"./maria.webp\": 147,\n\t\"./mesa.webp\": 148,\n\t\"./microondas.webp\": 149,\n\t\"./tpv.webp\": 150\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 134;","export default __webpack_public_path__ + \"static/media/cafetera.67ab1e7c.webp\";","export default __webpack_public_path__ + \"static/media/camara.edc67465.webp\";","export default __webpack_public_path__ + \"static/media/expositor.c372634b.webp\";","export default __webpack_public_path__ + \"static/media/exprimidora.6fc8d82d.webp\";","export default __webpack_public_path__ + \"static/media/freidora.48d017bc.webp\";","export default __webpack_public_path__ + \"static/media/grifo.fcab3c7b.webp\";","export default __webpack_public_path__ + \"static/media/heladera.d1cb0178.webp\";","export default __webpack_public_path__ + \"static/media/hielo.7d8860e9.webp\";","export default __webpack_public_path__ + \"static/media/horno.215bc88e.webp\";","export default __webpack_public_path__ + \"static/media/impresora.bf2b38b9.webp\";","export default __webpack_public_path__ + \"static/media/kds.84a69c03.webp\";","export default __webpack_public_path__ + \"static/media/lavavajillas.043e263d.webp\";","export default __webpack_public_path__ + \"static/media/maria.e457ae01.webp\";","export default __webpack_public_path__ + \"static/media/mesa.f5bf8391.webp\";","export default __webpack_public_path__ + \"static/media/microondas.a64a7e3f.webp\";","export default __webpack_public_path__ + \"static/media/tpv.91cb0b04.webp\";","import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\"\nimport \"firebase/storage\"\n\n\n/*\nconst firebaseConfig = \n  {\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n    databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGIN_SENDER_ID,\n    appId:process.env.REACT_APP_FIREBASE_APP_ID,\n    measurementId: process.env.REACT_APP_FIREBASE_MESUREMENT_ID\n  };\n  */\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBukkU97B7vluXcCqGBDJkUyI8lDChx4ZY\",\n  authDomain: \"rerovaji-inventario.firebaseapp.com\",\n  databaseURL: \"https://rerovaji-inventario-default-rtdb.europe-west1.firebasedatabase.app\",\n  projectId: \"rerovaji-inventario\",\n  storageBucket: \"rerovaji-inventario.appspot.com\",\n  messagingSenderId: \"876754150010\",\n  appId: \"1:876754150010:web:48e84f26a17f6ed7b411c3\",\n  measurementId: \"G-SHD718HJGH\"\n};\n\nconst app = firebase.initializeApp(firebaseConfig);\n\n\nexport default app;\nexport const auth = app.auth();\nexport const database = app.firestore();\nexport const storage=app.storage();\n","import React, { useState, useEffect } from 'react';\nimport { database } from '../firebase'\n\nconst ProductoContext = React.createContext();\n\n\n\nexport function useProducto() {\n    return React.useContext(ProductoContext)\n}\n\n\nexport function ProductoProvider({ children }) {\n\n   \n    const [productos, setProductos] = React.useState();\n    const [categorias, setCategorias] = React.useState();\n\n    const value = {\n        productos,\n        categorias,\n        loadProductoContext,\n        upgradeProducto,\n        upgradeProductoBulk\n    }\n\n    function loadProducto() {\n        const productosRef = database.collection(\"productos\")\n        productosRef.get().then(querySnapshot => {\n           \n            const lista = []\n            querySnapshot.forEach(documentSnapshot => {\n                lista.push({ id: documentSnapshot.id, ...documentSnapshot.data() })\n            });\n            setProductos(lista)\n\n        }).catch(error => {\n            console.log(error)\n        });\n    }\n\n    function loadProductoContext() {\n        loadProducto();\n        database.collection(\"categorias_producto\").get().then(query => {\n            const lista = []\n            query.forEach(document => { lista.push({ id: document.id, ...document.data() }) })\n            \n            setCategorias(lista)\n        })\n    }\n\n    function upgradeProducto(prodID, data, deleteKey) {\n        console.log(prodID)\n\n        database.collection(\"productos\").doc(prodID).update(data).\n            then(() => {\n                console.log(\"exito?\")\n                const newProductos = productos.map((producto) => {\n\n                    const match = (producto.id == prodID)\n                    data = deleteKey ? { categoria_id: undefined } : data\n                    return match ? Object.assign({}, producto, data) : producto\n                })\n                \n                setProductos(newProductos)\n            })\n    }\n\n\n\n    function upgradeProductoBulk(productosID, data, deleteKey) {\n        const batch = database.batch()\n        const nuevosProductos =[]\n        \n        productosID.forEach((prodID) => {\n            \n            const ref = database.collection(\"productos\").doc(prodID)\n            batch.update(ref, data)\n\n            \n            data = deleteKey ? { categoria_id: undefined } : data\n            \n            let producto =productos.find(p=>p.id==productosID)\n            producto=Object.assign({},producto,data)\n            nuevosProductos.push(producto)\n            \n        })\n\n        batch.commit().then(()=>{\n            \n            let dataProductos=productos.map((producto)=>{\n                const nuevoProducto =nuevosProductos.find((np)=>{return np.id===producto.id})\n                nuevoProducto && console.log(nuevosProductos)\n                return nuevoProducto? nuevoProducto:producto\n            })\n\n            setProductos(dataProductos)\n        })\n\n\n\n    }\n\n    return (\n        <ProductoContext.Provider value={value}>\n            {children}\n        </ProductoContext.Provider>\n    )\n}","import React, { useEffect } from 'react'\n\n\n\nimport { useProducto } from './ProductoContext';\nimport firebase,{auth,database,storage} from '../firebase'\n\nconst AuthContext = React.createContext();\n\n\n\nexport function useAuth() {\n    return React.useContext(AuthContext)\n}\n\n\nexport function AuthProvider({ children }) {\n\n    const [currentUser, setCurrentUser] = React.useState(auth.currentUser);\n    const [loggedOut,setLoggedOut]=React.useState(false)\n    const [loading, setLoading] = React.useState(true);\n    const {loadProductoContext} = useProducto();\n    const [userAPI,setUserApi]=React.useState()\n\n    const value = {\n        currentUser,\n        userAPI,\n        loggedOut,\n        loading,\n        login,\n        logout,\n        loadUserData\n        \n    }\n\n    function  loadUserData (usuairo) {\n        const uid=usuairo.uid\n        database.collection(\"usuarios\").doc(uid).get().then(queryResult=>{\n            const data=queryResult.data()\n           \n            \n            queryResult.exists && storage.ref('fotos_perfil/'+uid+\".png\").getDownloadURL().\n                then((url)=>setUserApi(Object.assign({},data,{id:uid,profileUrl:url})))\n        })\n    }\n\n    function login(email, password) {\n        \n\n        return auth.setPersistence(\"local\")\n            .then(() => {\n                // Existing and future Auth states are now persisted in the current\n                // session only. Closing the window would clear any existing state even\n                // if a user forgets to sign out.\n                // ...\n                // New sign-in will be persisted with session persistence.\n                setLoading(true)\n                return firebase.auth().signInWithEmailAndPassword(email, password);\n            })\n            .catch((error) => {\n                // Handle Errors here.\n                var errorCode = error.code;\n                var errorMessage = error.message;\n                console.log(`error:${errorCode} \\n ${errorMessage}`)\n            });\n       \n       \n    }\n\n    function logout() {\n        setLoggedOut(true)\n        return auth.signOut();\n    }\n\n    useEffect(() => {\n        \n        \n        const unsubscribre = auth.onAuthStateChanged(user => {\n            setCurrentUser(user)\n            user && loadUserData(user)\n            user && loadProductoContext()\n        })\n        \n\n        return unsubscribre;\n    }, [])\n\n    useEffect(()=>{\n        currentUser && setLoading(false)\n        console.log(userAPI)\n    },[currentUser])\n\n\n    return (\n        <AuthContext.Provider value={value}>\n            {children}\n        </AuthContext.Provider>\n    )\n}","export default \"data:image/png;base64,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DH2Is7PGYXbWP1emdA64YOqxo98+AMfA4JjK7Snlgn+7sO6p/FGPBh1+kqZRyby+l3K5WOwoqMbHu84JrgjWtQj/E8VQMdWXNx5G7k0xuO97EzEpOWLUK4kr5NKAPy06U9nhccpgvZdPTAI1bdPS50DB6SZsO1CFti5+FrXmQ1AEABi6Jzh2rhXHzrUi0qDG7Kx4zMmJw4SEsKB5AvT3ohqgKNCt8A2WHbrGP13ZjsIzzThb3RGUla2DJgCX6jDb8NXBSnx1sBIqpQzJ40KRGheK8XEGJEXrYAhVwRCiGtXEDnI1N8uip9eJbottaIi01Y6GFgtqmntQ09wTNJNeRhKUAbiU3TGI8loTymtNl73OMEBYiBJhOhX0WiXUKhmkDAOFXAqFXAIJI4FGxc+f38PDDff6z0ugVPDTXpfb/d1Ts377AFgWcDgH0dPnvGFW6LyeoA/A9bAsYLY6OA/YEjq+FogQO8F2hBHiDxQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiarIrXzCGqgPRDkJ4d61zm6n5+nk2AG0hRBDoEoiIGgWAiBoFgIja/wPz1pu8ef/59wAAAABJRU5ErkJggg==\"","import React, { useEffect, useState } from 'react'\nimport firebase, { database, storage } from '../firebase'\nimport { useAuth } from './AuthContext';\nimport { useLocal } from './LocalContext';\n\nfunction importAll(r) {\n    let images = {};\n    r.keys().forEach((item, index) => {\n        images[item.replace('./', '').replace('.webp', '')] = r(item);\n\n    });\n    return images\n}\nconst images = importAll(require.context('../assets/maquinaria/', false, /\\.(png|jpe?g|svg|webp)$/));\n\n\nconst maquinasStandar = [\n    { nombre: \"cafetera\", pic: images.cafetera.default },\n    { nombre: \"camara\", pic: images.camara.default },\n    { nombre: \"expositor\", pic: images.expositor.default },\n    { nombre: \"exprimidora\", pic: images.exprimidora.default },\n    { nombre: \"freidora\", pic: images.freidora.default },\n    { nombre: \"grifo cerveza\", pic: images.grifo.default },\n    { nombre: \"heladera\", pic: images.heladera.default },\n    { nombre: \"maquina hielo\", pic: images.hielo.default },\n    { nombre: \"horno\", pic: images.horno.default },\n    { nombre: \"impresora red\", pic: images.impresora.default },\n    { nombre: \"pantalla pedidos\", pic: images.kds.default },\n    { nombre: \"lavavajillas\", pic: images.lavavajillas.default },\n    { nombre: \"bao maria\", pic: images.maria.default },\n    { nombre: \"mesa fria\", pic: images.mesa.default },\n    { nombre: \"microondas\", pic: images.microondas.default },\n    { nombre: \"tpv\", pic: images.tpv.default },\n\n\n\n\n\n\n\n]\n\n\n\nexport const MaquinariaContext = React.createContext();\n\n\n\n\nexport function useMaquinaria() {\n    return React.useContext(MaquinariaContext)\n}\nexport function MaquinariaProvider({ children }) {\n    const { local } = useLocal()\n    const [maquinas, setMaquinas] = useState()\n    const [selfDB, setDB] = useState()\n\n    console.log(local)\n\n    useEffect(() => {\n\n        if(local){\n             const db = database.collection(\"locales\").doc(local.id).collection(\"maquinaria\")\n        setDB(db)\n\n        }\n       \n\n    }, [local])\n\n    useEffect(() => {\n       \n        let unsubscribe = null\n        if (selfDB) {\n            const maquinaria = []\n            console.log(\"carga inicial\")\n            selfDB.orderBy(\"nombre\").onSnapshot((snap) => {\n                snap.forEach((m) => {\n                    const _data = m.data()\n                    console.log(\"cambio detectado\")\n                    const data = Object.assign({}, _data, { pic: maquinasStandar.find(ms => ms.nombre == _data.nombre)?.pic })\n                    console.log(data)\n                    maquinaria.push({ id: m.id, ...data })\n                })\n                setMaquinas(maquinaria)\n            })\n        }\n\n        return unsubscribe ? () => unsubscribe() : null\n    }, [selfDB, setMaquinas])\n\n    const createMaquina = (data) => {\n        selfDB.add(data).then((query) => {\n            console.log(\"lo subii\")\n        })\n    }\n\n    const value = {\n        maquinas,\n        createMaquina,\n        disponibles: maquinasStandar,\n    }\n\n\n    return (\n        <MaquinariaContext.Provider value={value}>\n            {children}\n        </MaquinariaContext.Provider>\n    )\n}","import React, { useEffect, useState } from 'react'\nimport  { database } from '../firebase'\n\n\nimport { useLocal } from './LocalContext';\n\n\n\n\nexport const TecnicosContext = React.createContext();\n\n\n\n\nexport function useTecnicos() {\n    return React.useContext(TecnicosContext)\n}\nexport function TecnicosProvider({ children }) {\n    const { local } = useLocal()\n    const [tecnicos, setTecnicos] = useState()\n    const [selfDB, setDB] = useState()\n\n  \n\n    useEffect(() => {\n\n        if(local){\n             const db = database.collection(\"locales\").doc(local.id).collection(\"tecnicos\")\n        setDB(db)\n\n        }\n       \n\n    }, [local])\n\n    useEffect(() => {\n       \n        let unsubscribe = null\n        if (selfDB) {\n            const plantilla = []\n            console.log(\"carga inicial trabajadores\")\n            selfDB.orderBy(\"nombre\").onSnapshot((snap) => {\n                snap.forEach((t) => {\n                   \n                    plantilla.push({ id: t.id, ...t.data() })\n                })\n                setTecnicos(plantilla)\n            })\n        }\n\n        return unsubscribe ? () => unsubscribe() : null\n    }, [selfDB, setTecnicos])\n\n    const createTecnico = (data) => {\n        selfDB.add(data).then((query) => {\n            console.log(\"lo subii\")\n        })\n    }\n\n    const value = {\n        tecnicos,\n        createTecnico,\n        \n    }\n\n\n    return (\n        <TecnicosContext.Provider value={value}>\n            \n                {children}\n                      \n        </TecnicosContext.Provider>\n    )\n}","import React, { useEffect, useState } from 'react'\nimport  firebase,{ database } from '../firebase'\n\nimport { useLocal } from './LocalContext';\nimport { useTrabajador } from './TrabajadorContext';\n\n\n\n\nexport const ContratoContext = React.createContext();\n\n\n\n\nexport function useContrato() {\n    return React.useContext(ContratoContext)\n}\nexport function ContratoProvider({ children }) {\n    const { trabajadores } = useTrabajador()\n    const {local}=useLocal()\n    const [contrato,setContrato]=useState()\n    const [contratos, setContratos] = useState()\n    const [selfDB, setDB] = useState()\n    \n    console.log(local)\n\n    useEffect(() => {\n\n        if(local){\n             const db = database.collection(\"locales\").doc(local.id).collection(\"contratos\")\n        setDB(db)\n\n        }\n       \n\n    }, [local])\n\n    useEffect(()=>{\n        if(trabajadores){\n            const t_ids=trabajadores.map((t)=>t.id)\n            const contracts=[]\n            selfDB.\n                where(\"trabajador_id\",\"in\",t_ids).\n                where(\"activo\",\"==\",true).\n                get().\n                then(c=>{\n                    contracts.append({id:c.id,...c.data()})\n                })\n        }\n        \n    },[trabajadores])\n\n    \n    const createContrato = (data) => {\n        selfDB.add(data).then((query) => {\n            console.log(\"lo subii\")\n        })\n    }\n\n    const value = {\n        contrato,\n        contratos,\n        createContrato,\n        \n    }\n\n\n    return (\n        <ContratoContext.Provider value={value}>\n            {children}\n        </ContratoContext.Provider>\n    )\n}","import React, { useEffect, useState } from 'react'\nimport  { database } from '../firebase'\nimport { ContratoContext } from './ContratoContext';\n\nimport { useLocal } from './LocalContext';\n\n\n\n\nexport const TrabajadorContext = React.createContext();\n\n\n\n\nexport function useTrabajador() {\n    return React.useContext(TrabajadorContext)\n}\nexport function TrabajadorProvider({ children }) {\n    const { local } = useLocal()\n    const [trabajadores, setTrabajadores] = useState()\n    const [selfDB, setDB] = useState()\n\n    console.log(local)\n\n    useEffect(() => {\n\n        if(local){\n             const db = database.collection(\"locales\").doc(local.id).collection(\"plantilla\")\n        setDB(db)\n\n        }\n       \n\n    }, [local])\n\n    useEffect(() => {\n       \n        let unsubscribe = null\n        if (selfDB) {\n            const plantilla = []\n            console.log(\"carga inicial trabajadores\")\n            selfDB.orderBy(\"nombre\").onSnapshot((snap) => {\n                snap.forEach((t) => {\n                   \n                    plantilla.push({ id: t.id, ...t.data() })\n                })\n                setTrabajadores(plantilla)\n            })\n        }\n\n        return unsubscribe ? () => unsubscribe() : null\n    }, [selfDB, setTrabajadores])\n\n    const createTrabajador = (data) => {\n        selfDB.add(data).then((query) => {\n            console.log(\"lo subii\")\n        })\n    }\n\n    const value = {\n        trabajadores,\n        createTrabajador,\n        \n    }\n\n\n    return (\n        <TrabajadorContext.Provider value={value}>\n            <ContratoContext.Provider>\n                {children}\n            </ContratoContext.Provider>            \n        </TrabajadorContext.Provider>\n    )\n}","import React, { useEffect } from 'react'\nimport { database } from '../firebase'\nimport { useAuth } from './AuthContext';\nimport { CompisProvider } from './CompisContext';\nimport { MaquinariaProvider } from './MaquinariaContext';\nimport { MessageProvider } from './MessageContext'\nimport { TecnicosProvider } from './TenicosContext';\nimport { TrabajadorProvider } from './TrabajadorContext';\n\nconst LocalContext = React.createContext();\n\n\n\nexport function useLocal() {\n    return React.useContext(LocalContext)\n}\n\n\nexport function LocalProvider({ children }) {\n\n    const { userAPI } = useAuth()\n    const [locales, setLocales] = React.useState()\n    const [local, setLocal] = React.useState(null);\n    const [categorias, setCategorias] = React.useState();\n\n    const value = {\n        local,\n        locales,\n        abandonarLocal: () => { setLocal(null) },\n        setLocal,\n        setLocales\n    }\n\n    useEffect(() => {\n        let unsubscribre = null\n        if (local) {\n            unsubscribre = database.\n                collection('locales').\n                doc(local.id).\n                onSnapshot(\n                    snap => {\n                        setLocal({ id: snap.id, ...snap.data() })\n                    }\n                )\n        }\n        return unsubscribre ? () => unsubscribre() : null\n    }, [setLocal])\n\n\n    useEffect(() => {\n        if (userAPI) {\n\n            const load = []\n            database.collection(\"locales\").\n                where('allowed_users', 'array-contains', userAPI.correo).\n                get().then((query) => {\n                    query.forEach(doc => {\n                        load.push({ id: doc.id, ...doc.data() })\n                    })\n                    const size = load.length\n                    console.log(size)\n                    setLocales(load)\n                    size == 1 && setLocal(load[0])\n                })\n\n        }\n    }, [userAPI])\n\n\n    return (\n        <LocalContext.Provider value={value}>\n            <TecnicosProvider>\n\n                <MaquinariaProvider>\n\n                    <CompisProvider>\n\n                        <TrabajadorProvider>\n\n                            <MessageProvider>\n                                {children}\n                            </MessageProvider>\n\n                        </TrabajadorProvider>\n\n                    </CompisProvider>\n                    \n                </MaquinariaProvider>\n\n            </TecnicosProvider>\n\n\n\n\n        </LocalContext.Provider>\n    )\n}","import React, { useEffect, useState } from 'react'\nimport firebase, { database, storage } from '../firebase'\n\n\nimport { useLocal } from './LocalContext'\n\n\nexport const CompisContext = React.createContext();\n\n\n\n\nexport function useCompis() {\n    return React.useContext(CompisContext)\n}\nexport function CompisProvider({ children }) {\n    const { local } = useLocal()\n    const [compis, setCompis] = useState()\n\n\n\n\n    useEffect(() => {\n        local && console.log(\"buscando compis\" + local.allowed_users)\n\n        let newCompis = []\n        local && database.collection(\"usuarios\").where('correo', 'in', local.allowed_users).get().then((query) => {\n            query.forEach(\n                (c) => {\n                    \n                    const { id } = c\n                    storage.ref(`fotos_perfil/${id}.png`).getDownloadURL().then((url) => { \n                       \n                        const data = Object.assign({}, c.data(), { pic_url: url }) \n                        console.log(data)\n                        newCompis.push({ id, ...data })\n                    })\n\n                   \n                }\n            )\n            console.log(\"compis encontrados\")\n            console.log(newCompis)\n            setCompis(newCompis)\n        })\n\n    }, [setCompis, local])\n\n\n\n    const value = {\n        compis,\n\n    }\n\n\n    return (\n        <CompisContext.Provider value={value}>\n            {children}\n        </CompisContext.Provider>\n    )\n}","import React, { useEffect, useState } from 'react'\nimport { database, storage } from '../firebase'\nimport { useAuth } from './AuthContext';\nimport { useCompis } from './CompisContext';\nimport { useLocal } from './LocalContext'\nimport firebase from \"firebase/app\";\n\nimport moment from 'moment'\nimport 'moment/locale/es';\n\nmoment.locale(\"es\")\n\n\nexport const MesageContext = React.createContext();\n\n\n\n\nexport function useMesage() {\n    return React.useContext(MesageContext)\n}\nexport function MessageProvider({ children }) {\n    const { local } = useLocal()\n    const { userAPI } = useAuth()\n    const [localRef, setLocalRef] = useState()\n\n    const [mensajes, setMensajes] = useState()\n    const [misMensajes, setMisMensajes] = useState()\n\n\n\n    useEffect(() => {\n        let msgs = null\n        if (local) {\n            msgs = database.collection(\"locales\").doc(local.id).collection(\"mensajes\").orderBy('date').onSnapshot((query) => {\n                const newMsg = []\n                const myMsg = []\n                query.forEach(m => {\n                    const id = m.id\n                    const _data = m.data()\n                    const date=moment.utc(_data.date.seconds*1000)\n                    \n                    const data=Object.assign({},_data,{date})\n                    const { from } = data\n                    if ((from === userAPI)) {\n                        myMsg.push({ id, ...data })\n                    }\n                    newMsg.push({ id, ...data })\n\n\n                })\n                setMensajes(newMsg)\n                setMisMensajes(myMsg)\n            })\n        }\n        return msgs ? () => msgs() : null\n    }, [setMensajes, local, userAPI])\n\n    const sendMensaje = (data) => {\n        const author = userAPI.correo\n\n        const date = firebase.firestore.Timestamp.fromDate(new Date())\n        database.collection(\"locales\").doc(local.id).collection(\"mensajes\").add({ author, date, ...data })\n    }\n\n    const value = {\n        mensajes,\n        sendMensaje,\n    }\n\n\n    return (\n        <MesageContext.Provider value={value}>\n            {children}\n        </MesageContext.Provider>\n    )\n}","import React, { useEffect, useState } from 'react'\nimport { useAuth } from '../../contexts/AuthContext'\n\n\nexport default function Pic(props) {\n    const {userAPI}=useAuth()\n    const {size=200}=props\n    \n    \n\n\n    return (\n       \n            <img \n            src={userAPI && userAPI.profileUrl}\n            className=\"rounded-circle shadow border border-3\"\n            style={{width:size, height:size}}\n             />\n        \n        \n    )\n}","import React, { useState } from 'react';\nimport { Navbar, Container, NavDropdown, Nav, Button, ListGroup, Row, Col } from 'react-bootstrap'\nimport logo from '../../assets/logo.png'\nimport { FaAdjust, FaArrowAltCircleLeft, FaBars, FaBell, FaWrench } from 'react-icons/fa';\nimport Offcanvas from 'react-bootstrap/Offcanvas'\nimport { Link, Redirect, useHistory } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useMesage } from '../../contexts/MessageContext';\nimport ProfilePic from './ProfilePic'\nimport { useLocal } from '../../contexts/LocalContext';\n\n\n\n\nconst menuAdmin = [\n    {\n        nombre: \"Cambiar local\",\n        url: \"/local/selector\"\n        \n    },\n    {\n        nombre: \"Productos\",\n        url: \"/productos\"\n\n    },\n    {\n        nombre:\"Maquinaria\",\n        url:\"/maquinaria/nuevo\"\n    },\n\n    {\n        nombre: \"Horarios\",\n        url: \"/horarios/nuevo\"\n\n    },\n    {\n        nombre: \"Operativa\",\n        url: \"/operativa\"\n\n    },\n    {\n        nombre:\"Plantilla\",\n        url:\"/plantilla/nuevo\"\n    },\n\n\n\n]\n\n\nexport default function BarraNav() {\n\n    const [show, setShow] = useState(false);\n\n\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n\n    const { logout, userAPI } = useAuth();\n    const { location } = useHistory()\n    const { mensajes } = useMesage()\n    const { local } = useLocal()\n\n\n    async function handleLogut() {\n\n        try {\n            await logout();\n\n        } catch {\n\n        }\n\n    }\n\n    return (\n        <>\n\n            <Row className=\"sticky-top bg-oscuro text-white mx-auto border-bottom border-white border-2 shadow\" style={{ width: \"100%\", height: \"10vh\" }}>\n                <Col className=\"my-auto d-flex justify-content-start p-0 ps-2\">\n                    <Link to=\"/\">\n\n                        <img\n                            alt=\"\"\n                            src={logo}\n                            width=\"30\"\n                            height=\"30\"\n                            className=\"mx-2\"\n                        />{' '}\n\n                    </Link>\n                    \n\n                </Col >\n\n                <Col className=\"my-auto d-flex justify-content-center\">\n                    {local?.nombre}\n                </Col>\n\n                <Col className=\"my-auto d-flex justify-content-end pe-3\">\n\n                    {mensajes && <Link to=\"/local/mensajes\"> <FaBell size=\"30\" className=\" p-1 me-2 text-amarillo\" /></Link>}\n                    <FaBars size=\"30\" className=\"border p-1\" onClick={handleShow} />\n\n                </Col>\n\n\n            </Row>\n\n            <Offcanvas show={show} onHide={handleClose} className=\"bg-claro border-dark vh-100 overflow-hidden\">\n                <Offcanvas.Header closeButton closeVariant=\"white\" className=\"bg-dark\">\n                    <Offcanvas.Title>\n                        <span className=\"text-white\">MENU</span>\n                    </Offcanvas.Title>\n                </Offcanvas.Header>\n\n                <Row className=\"shadow-lg py-1 bg-dark rounded-3 justify-content-around mt-2 border border-4 border-white\">\n                    <Col xs={3} className=\"bg-info d-flex p-0 justify-content-center border-right border-info\">\n                        <ProfilePic size={64} />\n                    </Col>\n                    <Col className=\"align-items-center d-flex bg-warning\">\n                        <p className=\"text-center text-white w-100 fs-5  my-auto\">{userAPI && userAPI.correo}</p>\n\n                    </Col>\n\n\n                </Row>\n\n                <Offcanvas.Body>\n\n                    <Row className=\"\">\n                        <ListGroup variant=\"flush\" className=\"w-100 bg-info p-0\" style={{ minHeight: \"80%\" }}>\n\n\n\n                            {\n                                menuAdmin.map((item) => {\n                                    const { url, nombre } = item\n                                    const active = location.pathname === url\n                                    return (\n                                        <ListGroup.Item action as={!active && Link} to={url} className={`my-2 ${active && \"active\"}`}>\n                                            {nombre}\n                                        </ListGroup.Item>\n                                    )\n                                })\n                            }\n\n\n\n\n\n                        </ListGroup>\n                    </Row>\n\n                    <Row>\n\n                        <ListGroup variant=\"flush\" className=\" w-100\" style={{ bottom: \"0\" }}>\n                            <ListGroup.Item action >\n                                <FaAdjust className=\"me-2\" /> Ajustes\n                            </ListGroup.Item>\n                            <ListGroup.Item action onClick={handleLogut}>\n                                <FaArrowAltCircleLeft className=\"me-2\" /> Cerrar session\n                            </ListGroup.Item>\n                        </ListGroup>\n                    </Row>\n                </Offcanvas.Body>\n            </Offcanvas>\n\n        </>\n\n    )\n}","import React from 'react'\nimport { Col, Container, Row } from 'react-bootstrap'\nimport { FaChessKing, FaChessKnight, FaChessPawn, FaChessQueen, FaEdit } from 'react-icons/fa'\nimport { useAuth } from '../../contexts/AuthContext'\nimport { useProducto } from '../../contexts/ProductoContext'\nimport ProfilePic from './ProfilePic'\n\n\nconst chapa = (userApi) => {\n\n    const { isAdmin, isSuperAdmin } = userApi\n    \n    let chapa = isSuperAdmin ? <FaChessKing /> : isAdmin ? <FaChessQueen /> : <FaChessPawn />\n\n\n    return chapa\n}\n\n\nexport default function UserProfile(props) {\n\n    const {userAPI} =useAuth()\n\n    return (\n\n       \n            <Row className=\"p-2 mx-auto\" style={{ justifyContent: \"center\"}}>\n                <Col xs={10} sm={8}  md={3} lg={4}  className=\"bg-oscuro border  py-4 rounded rounded-4 shadow-lg\" md={6}>\n                    <div className=\"d-flex text-white px-2\" style={{ justifyContent: \"space-between\" }}>\n                        {userAPI && chapa(userAPI)} <FaEdit />\n                    </div>\n\n                    <div className=\"d-flex justify-content-center\">\n                       <ProfilePic /> \n                    </div>\n                    \n                    <h4 className=\"mt-4 text-center text-silver\">\n                        {userAPI && userAPI.nombre}\n                    </h4>\n\n\n                </Col>\n\n            </Row>\n       \n\n    )\n}","import React from 'react'\nimport { Col, ListGroup, Row, Accordion, Container } from 'react-bootstrap'\n\nexport default function Dia(props) {\n\n    const { nombre, turnos, libre = false,euro=false } = props\n    const bgColor = libre ? \"bg-verde\" : \"bg-oscuro\"\n    const textColor=euro?\"text-warning\":libre?\"text-dark\":\"text-white\"\n    return (\n        <Col  sm={5} lg={3} xxl className={`p-3 h-100 ${bgColor} m-2 rounded shadow-lg ${textColor} mx-xl-2 d-xl-flex align-items-end`}>\n            <Row className=\" h-100 w-100 mx-auto\">\n            <p className=\"text-uppercase w-100\">{nombre}:</p>\n            \n\n            <div className={`d-flex flex-column  py-4  justify-content-center`} style={{ alignItems: \"center\" }}>\n                {libre && <p className=\"text-center \">Libre</p>}\n                {(!libre) && <p className=\"text-center \">{turnos[0]}</p>}\n                {(!libre && turnos.length == 2) && <p className=\"text-center w-100 \">{turnos[1]}</p>}\n            </div>\n\n            <div className=\"text-dark p-0\" style={{ width: \"100%\" }}>\n                <Accordion>\n                    <Accordion.Item eventKey=\"0\">\n                        <Accordion.Header >\n                            Compis\n                            </Accordion.Header>\n                        <Accordion.Body>\n                            <p>Compi 1</p>\n                            <p>Compi 1</p>\n                            <p>Compi 1</p>\n                            <p>Compi 1</p>\n                            <p>Compi 1</p>\n                            <p>Compi 1</p>\n                            <p>Compi 1</p>\n                            <p>Compi 1</p>\n                        </Accordion.Body>\n                    </Accordion.Item>\n                </Accordion>\n            </div>\n\n\n\n            </Row>\n            \n            \n\n\n        </Col>\n    )\n}","import React from 'react'\nimport { Col, Container, ListGroup, Row } from 'react-bootstrap'\nimport TrabajadorDia from './TrabajadorDia'\n\n\nexport default function UserHorario() {\n  return (\n    <div className=\"w-100 bg-oscuro border pb-2\">\n      <h4 className=\"text-white p-4\">Horario</h4>\n\n      <div className=\"d-flex flex-column bg-claro pb-2\" style={{ borderTopLeftRadius: \"25px\", borderTopRightRadius: \"25px\", paddingTop: \"30px\" }}>\n\n        <Row className=\"justify-content-around mx-auto w-100\">\n          <Col xs={12}>\n            <Row className=\"justify-content-around px-4\">\n              <Col xs={12} md={4} className=\"border py-4 mx-2 my-2 sm-m-0 shadow-sm bg-white\">\n                <p className=\"h5 text-center\">Hoy</p>\n                <p className=\"h5 text-center  \"> 17:00 - cierre</p>\n              </Col>\n\n\n              <Col xs={12} md={4} className=\"border py-4 mx-2 my-2 sm-m-0 shadow-sm bg-white\">\n                <p className=\"h5 text-center\">Maana</p>\n                <p className=\"h5 text-center  \"> 17:00 - cierre</p>\n              </Col>\n            </Row>\n          </Col>\n\n\n          <Col xs={11} >\n\n            <h5 className=\"mt-4 mb-2\">Esta semana:</h5>\n\n            <Row className=\"d-flex justify-content-around justify-content-xl-start\" xl={7}>\n\n              <TrabajadorDia nombre=\"lunes\" turnos={[\"17:00 - cierre\"]} />\n              <TrabajadorDia nombre=\"martes\" libre={true} />\n              <TrabajadorDia nombre=\"miercoles\" turnos={[\"12:30 - 16:00\", \"20:00 - 00:00\"]} euro={true} />\n              <TrabajadorDia nombre=\"jueves\" turnos={[\"17:00 - cierre\"]} />\n              <TrabajadorDia nombre=\"viernes\" turnos={[\"17:00 - cierre\"]} />\n              <TrabajadorDia nombre=\"sabado\" libre={true} />\n              <TrabajadorDia nombre=\"domingo\" turnos={[\"12:30 - 16:00\", \"20:00 - 00:00\"]} euro={true} />\n\n\n\n            </Row>\n\n\n\n          </Col>\n        </Row>\n\n\n\n\n\n\n\n\n\n      </div>\n\n    </div>\n\n\n  )\n}","import React from 'react'\nimport UserProfile from '../common/UserProfile'\nimport UserHorario from './TrabajadorHorario'\n\nexport default function TrabajadorIndex() {\n    return (\n        <>\n            <UserProfile />\n            <UserHorario />\n        </>\n    )\n}","import React, { useEffect, useState } from 'react'\nimport { Col, Row, Spinner, Button } from 'react-bootstrap'\nimport { Link, Redirect, useHistory } from 'react-router-dom'\nimport { useAuth } from '../../contexts/AuthContext'\nimport BarraNav from './BarraNav'\nimport logo from '../../assets/logo.png'\nimport { useLocal } from '../../contexts/LocalContext'\n\n\n\nconst LoadingCortine = () => {\n    const [time, setTimer] = useState()\n    const { currentUser } = useAuth()\n    const {local}=useLocal()\n    const [outOfTime, setOutOfTime] = useState()\n    const history = useHistory()\n\n\n    \n\n    useEffect(() => {\n        setTimer(setTimeout(() => { setOutOfTime(true) }, 5000))\n        return clearTimeout(time)\n    }, [])\n\n    const TimeOutPanel = () => {\n        return (\n            <Col xs={12}>\n                <Row className=\"justify-content-center\">\n                    <Col xs={9} className=\"text-center my-auto text-danger mb-4 border border-danger py-4\" >\n                        <p className=\"fs-1 text-danger\">Ups algo salio mal</p>\n                        Intenta iniciar sesion manualmente\n                    </Col>\n                    <Col as={Link} to=\"/login\" xs={8} className=\"bg-info p-0\">\n                         <Button  variant=\"danger\" className=\"w-100\">Iniciar sesion</Button>\n                    </Col>\n                   \n                </Row>\n\n            </Col>\n        )\n    }\n\n    const LoadingPanel = () => {\n        return (\n            <Row className={`d-flex justify-content-center align-items-${outOfTime ? \"center\" : \"start pt-5\"} fs-1`}>\n                Cargando\n                <Spinner animation=\"grow\" variant=\"warning\" className=\"ms-3\" />\n            </Row>\n        )\n    }\n\n    return (\n        <div className=\"position-absolute bg-oscuro d-flex row text-warning justify-content-center mx-auto m-0 p-0\" style={{ zIndex: \"200\", top: \"0\", width: \"100%\", height: \"100vh\" }}>\n\n            <Col className={`d-flex justify-content-center align-items-${outOfTime ? \"center\" : \"end\"} `}>\n                <img src={logo} />\n            </Col>\n\n            {!outOfTime && <LoadingPanel />}\n\n            {outOfTime && <TimeOutPanel />}\n\n        </div>\n    )\n\n}\n\n\nexport default function MainHolder({ children }) {\n\n    const { currentUser, loading,userAPI } = useAuth()\n    const {local}=useLocal()\n    const history = useHistory()\n    const location = history.location\n    \n    console.log(userAPI)\n    return (\n        <div className=\"position-relative vh-100 vw-100 bg-claro-oscuro\" style={{overflowY:\"scroll\"}} >\n            {(!currentUser && !loading) && <Redirect to={{ pathname: '/login', state: { prevPath: location.pathname } }} />}\n            {(userAPI && !local)&& <Redirect  to={{ pathname: '/local/selector', state: { prevPath: location.pathname } }} />}\n            <BarraNav />\n            <div className=\"main-holder\" style={{ width:\"100%\",height:\"90vh\",margin:\"0\" }}>\n                {children}\n            </div>\n            {loading && <LoadingCortine />}\n\n        </div>\n\n\n\n    )\n}","import Rect, { useState } from 'react'\nimport { Badge } from 'react-bootstrap';\nimport { useAuth } from '../contexts/AuthContext'\nimport { useProducto } from '../contexts/ProductoContext'\nimport BarraNav from '../components/common/BarraNav'\nimport TrabajadorIndex from './trabajador/TrabajadorIndex'\nimport MainHolder from './common/MainHolder';\nexport default function MainApp() {\n\n    const { currentUser } = useAuth();\n    const { productos } = useProducto();\n\n\n\n\n    return (\n        <MainHolder>\n            <TrabajadorIndex />\n        </MainHolder>\n\n    )\n}","import React, { useEffect, useState } from 'react'\nimport { Container, Row, Button, Modal, Col } from 'react-bootstrap'\nimport { useProducto } from '../../contexts/ProductoContext'\nimport ProductoCategoria from '../common/productoCategoria';\n\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\n\nexport default function (props) {\n    const { show, setShow, categoria } = props\n\n    const { productos, upgradeProductoBulk } = useProducto()\n\n    const [agregados, setAgregados] = useState([])\n    const [eliminados, setEliminados] = useState([])\n    const [upload, setUpload] = useState(false)\n\n\n\n\n    const [huerfanos, setHuerfanos] = useState([])\n    \n    const [propios, setPropios] = useState([])\n\n    useEffect(() => {\n        if (show && productos) {\n            console.log(\"cambiando huerfanos\")\n            const h = productos ? productos.filter((p) => p.categoria_id == undefined) : []\n            const p = (productos && categoria) ? productos.filter(p => p.categoria_id === categoria.id) : []\n            setHuerfanos(h)\n            setPropios(p)\n            \n        }else{\n            setHuerfanos([])\n            setPropios([])\n           \n        }\n        setAgregados([])\n        setEliminados([]) \n\n    }, [show, upload])\n\n\n\n    const handleAgregar = (productoId, operation) => {\n        console.log(operation + \" a categoria \")\n        \n        operation == \"+\" && setAgregados([...agregados,productoId])\n        operation == \"-\" && setAgregados(agregados.filter(id => id === productoId))\n       \n    }\n\n    const handleEliminar = (productoId, operation) => {\n        operation == \"+\" && setEliminados([...agregados, productoId])\n        operation == \"-\" && setEliminados(agregados.filter(id => id === productoId))\n    }\n\n\n    const handleModificar = () => {\n\n        upgradeProductoBulk(agregados, { categoria_id: categoria.id })\n        upgradeProductoBulk(eliminados, { categoria_id: firebase.firestore.FieldValue.delete() }, true)\n        \n        setUpload(true)\n    }\n\n    console.log(agregados)\n    return (\n        <Modal show={show} fullscreen={true} onHide={() => setShow(false)}>\n            <Modal.Header className=\"bg-oscuro text-white\" closeVariant=\"white\" closeButton>\n                <Modal.Title className=\"text-white\">{categoria && categoria.nombre}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body className=\"bg-claro position-relative\">\n                <Row className=\"d-flex justify-content-center pb-5\">\n\n                    <Col xs={12} md={11}>\n                        <Row className=\"d-flex justify-content-around \">\n\n\n                            {propios.map((producto) => {\n                                return (\n                                    <ProductoCategoria id={producto.id} producto={producto} propio={true} agregar={handleEliminar} eliminar={handleEliminar} />\n                                )\n                            })}\n                            {huerfanos.map((producto) => {\n\n                                return (\n                                    <ProductoCategoria id={producto.id} producto={producto} agregar={handleAgregar} eliminar={handleAgregar} />\n                                )\n                            })}\n\n                        </Row>\n\n\n\n                    </Col>\n\n                </Row>\n                <div className=\" w-100 fixed-bottom \">\n                    <Row className=\"d-flex justify-content-around bg-oscuro py-2\">\n                        <Col xs={12} md={9} lg={2} xl={3}>\n                            <Button variant=\"success w-100 \" onClick={handleModificar}> Guardar </Button>\n                        </Col>\n                    </Row>\n\n                </div>\n\n            </Modal.Body>\n        </Modal>\n    )\n}","import React, { useEffect, useState } from 'react'\nimport { Button, Col, Form, InputGroup, Row, Dropdown, Spinner } from 'react-bootstrap';\nimport { FaBug, FaBullhorn, FaEdit, FaEuroSign, FaExclamationTriangle, FaFingerprint } from 'react-icons/fa';\nimport { Link } from 'react-router-dom';\nimport { useProducto } from '../../contexts/ProductoContext';\n\n\n\nconst BottomBar = (props) => {\n    const { id } = props\n    return (\n        <Col xs={12}>\n            <Row className=\"bg-warning \">\n\n                <Col\n                    as={Link}\n                    to={`local/alarmas/productos/${id}`}\n                    className=\"rounded border border-white p-2 m-2 shadow-lg fs-5 position-relative bg-oscuro\">\n                    <FaBullhorn className=\"text-white\"/>\n                    <span class=\"badge badge-light position-absolute text-warning\" style={{ top: \"0\", right: \"0\" }}>4</span>\n                </Col>\n\n                <Col className=\"rounded border border-white p-2 m-2 shadow-lg fs-5 position-relative bg-oscuro\">\n                    <FaBug />\n                    <span class=\"badge badge-light position-absolute text-warning\" style={{ top: \"0\", right: \"0\" }}>4</span>\n                </Col>\n                <Col\n                    className=\"rounded border border-white p-2 m-2 shadow-lg fs-5 position-relative bg-oscuro\"\n                    as={Link}\n                    to={`productos/editar/${id}`}\n                >\n                    <FaEdit className=\"text-white\" />\n                </Col>\n            </Row>\n        </Col>\n    )\n}\n\nconst Categoria = (props) => {\n    const { id } = props\n    const { categorias } = useProducto()\n    const [categoria, setCategoria] = useState({})\n\n    useEffect(() => {\n        categorias && setCategoria(categorias.find(c => c.id === id))\n    }, [categorias])\n\n    const { nombre } = categoria\n\n    return (\n        <Col xs={12}>\n            <h4 className=\"text-center w-100 my-auto text-white py-4 mt-2 border-top border-2 border-white\">{nombre}</h4>\n        </Col>\n    )\n}\n\nconst IDProducto = (props) => {\n    const { id } = props\n\n    return (\n        <Col xs={12} className=\"text-dark bg-warning py-1 mb-3\">\n            <Row className=\"d-inline fs-1\">\n                <span><FaFingerprint /></span>\n                <span>{id}</span>\n            </Row>\n\n\n        </Col>\n    )\n}\n\nconst PrecioProducto = (props) => {\n    const { precio } = props\n\n    return (\n        <Col xs={12} className=\"text-warning mt-2\">\n            <p className=\"text-center my-auto\">\n                <span className=\"fs-1\">{(Math.round(precio * 100) / 100).toFixed(2)}</span>\n                <span><FaEuroSign /></span>\n            </p>\n\n        </Col>\n    )\n}\n\nexport default (props) => {\n    const { id, nombre, precio, categoria_id } = props\n    const { expand = false, editable = false } = props\n    return (\n        <Col className=\"bg-oscuro text-white my-2  m-sm-2 text-center  shadow-lg rounded rounded-3 \"\n            xs={11} sm={expand ? 12 : 5} lg={expand ? 12 : 3} >\n\n            <Row className=\"align-items-end h-100\">\n                {editable && <IDProducto id={id} />}\n\n                <Col xs={12} className=\"my-2\">\n                    <p className=\"text-capitalize fs-3 text-center my-auto\">{nombre}</p>\n                </Col>\n                {editable && <PrecioProducto precio={precio} />}\n\n\n                {(editable && categoria_id) && <Categoria id={categoria_id} />}\n                {!editable && <BottomBar id={id} />}\n\n            </Row>\n\n\n\n        </Col>\n    )\n}","\nimport React, { useEffect, useLayoutEffect, useState } from \"react\";\nimport { Accordion, Col, Row, Button } from \"react-bootstrap\";\nimport { FaBug, FaEdit, FaEuroSign, FaExclamationTriangle, FaFingerprint, FaPlus } from \"react-icons/fa\";\nimport { useProducto } from \"../../contexts/ProductoContext\";\nimport AgregarProducto from '../superAdmin/OrganizadorProductos'\nimport Producto from './ProductoClasificable'\n\n\n\n\nconst Categoria = (props) => {\n    const { categoria, handleEditar, productos } = props\n\n\n    return (\n        <Accordion className=\"p-1 acordion-flush my-2\" >\n            <Accordion.Item eventKey=\"0\" >\n                <Accordion.Header as=\"h5\">\n\n                    <span className=\"text-capitalize\">\n                        {categoria.nombre} ({productos && productos.length})\n                    </span>\n\n\n                </Accordion.Header>\n                <Accordion.Body className=\"border border-dark \" >\n\n                    <Row className=\"d-flex justify-content-center\">\n\n                        <Col sm={12} className=\"d-xs-flex d-sm-flex d-md-none border p-0 \">\n                            <Button className=\"w-100\" variant=\"dark\" onClick={() => handleEditar(categoria)}>\n                                editar categoria\n                            </Button>\n                        </Col>\n\n                        {\n                            productos && productos.map((p) => <Producto {...p} />)\n                        }\n\n                        <Col sm={12} className=\"d-none d-md-flex border p-0\">\n                            <Button className=\"w-100\" variant=\"info\" onClick={() => handleEditar(categoria)}>\n                                editar categoria\n                            </Button>\n                        </Col>\n                    </Row>\n\n\n\n                </Accordion.Body>\n            </Accordion.Item>\n\n        </Accordion>\n    )\n}\n\n\nexport default function CategoriaClasifier(props) {\n    const { categorias, productos } = useProducto()\n    const [show, setShow] = useState(false)\n    const [categoriaActiva, setCategoriaActiva] = useState()\n\n    const handleEditar = (categoria) => {\n\n        setCategoriaActiva(categoria)\n        setShow(true)\n    }\n\n\n    return (\n    \n\n            <Row className=\"boder bg-oscuro px-0 mt-2 mx-auto\" style={{height:\"65vh\",overflowY:\"scroll\"}}>\n\n\n                {categorias && categorias.map((c) => {\n                    const prodXcat = productos.filter((p) => p.categoria_id === c.id)\n                    return (\n                        <Col xs={12} >\n                            <Categoria handleEditar={handleEditar} categoria={c} productos={prodXcat} />\n                        </Col>)\n                })}\n            </Row>\n          \n\n\n\n        \n\n\n\n\n\n    )\n}","import React, { useState } from 'react'\nimport { Button, Col, Form, InputGroup, Row, Dropdown, Spinner, Nav } from 'react-bootstrap';\nimport { useProducto } from '../../contexts/ProductoContext';\nimport ProductoCategoria from '../common/productoCategoria';\nimport Producto from './ProductoClasificable'\n\n\nconst alpha = Array.from(Array(26)).map((e, i) => i + 65);\nconst alphabet = alpha.map((x) => String.fromCharCode(x));\nalphabet.splice(15, 0, \"\")\n\nconst generaAlphabet = (productos) => {\n    return alphabet.filter(l => productos.find(p => p.nombre.toUpperCase().startsWith(l)))\n}\n\nconst generaProductos = (productos, letra) => {\n    return productos.filter(p => {\n\n        return p.nombre.toUpperCase().startsWith(letra)\n    }).\n        sort((a, b) => (a.nombre > b.nombre) ? 1 : ((b.nombre > a.nombre) ? -1 : 0)).\n        map(p => <Producto {...p} />)\n}\nexport default (props) => {\n    const { productos } = useProducto()\n    const [active, setActive] = useState(\"A\")\n\n\n    return (\n        <>\n              <Row className=\" boder bg-oscuro px-0 mt-2 mx-auto \" style={{height:\"65vh\",overflowY:\"scroll\"}}>\n                <Col xs={12} className=\"d-lg-none mt-2 bg-oscuro text-warning text-center fs-1 shadow border-bottom border-white\">\n                    {active}\n                    </Col>\n                \n                <Col \n                    xs={2} \n                    lg={12} \n                    style={{ maxHeight: \"100%\", overflow: \"scroll\" }}\n                    className=\"border border-end border-dark border-4\"\n                    >\n                    <Row className=\"py-lg-2 px-0 px-md-2 justify-content-md-around\">\n                        {generaAlphabet(productos).map(letra => {\n                            return (\n                                (letra!=active)&&\n                                <Col\n                                    xs={12}\n                                    lg={\"auto\"}\n                                    onClick={() => setActive(letra)}\n                                    className=\"my-2 py-2 text-center mx-lg-2 bg-oscuro px-lg-5 text-warning\"\n                                >\n\n                                    {letra}\n                                </Col>\n                            )\n                        })}\n                    </Row>\n                    <Col xs={12} className=\"d-none d-lg-block sticky-top mt-2 bg-oscuro text-warning text-center fs-1\">{active}</Col>\n                </Col>\n                <Col xs={10} lg={12} style={{ maxHeight: \"\", overflow: \"auto\" }}>\n\n                    <Row className=\" justify-content-md-between px-3 px-md-4 bg-claro\">\n                        {generaProductos(productos, active)}\n                    </Row>\n\n\n                </Col>\n\n            </Row>\n\n\n\n\n\n\n        </>\n    )\n}","import React, { useState } from 'react'\nimport { Button, Col, Form, InputGroup, Row, Dropdown, Spinner, Nav } from 'react-bootstrap';\nimport { useProducto } from '../../contexts/ProductoContext';\nimport ProductoCategoria from '../common/productoCategoria';\nimport Producto from './ProductoClasificable'\n\n\nexport default () => {\n    const { productos } = useProducto()\n\n    const ordenar=()=>{\n        window.productos=productos\n        return productos.sort((a,b)=> a.precio - b.precio)\n    }\n\n    return (\n        <Row className=\"justify-content-around\" style={{ maxHeight: \"80vh\", overflow: \"auto\" }}>\n            {ordenar().map(p=><Producto {...p}/>)}\n        </Row>\n\n    )\n\n}","\nimport React, { useState } from 'react';\nimport { Button, Col, Form, InputGroup, Row, Dropdown, Spinner } from 'react-bootstrap';\nimport { Typeahead } from 'react-bootstrap-typeahead';\nimport { FaDatabase, FaGlobe, FaPlus, FaSearch, FaShoppingCart } from 'react-icons/fa';\nimport { useProducto } from '../contexts/ProductoContext';\nimport CategoriaClasifier from './superAdmin/CategoriaClasifier';\nimport MainHolder from './common/MainHolder';\nimport AgregarProducto from './superAdmin/OrganizadorProductos';\nimport AbcClasifier from './superAdmin/AbcClasifier';\nimport PrecioClasifier from './superAdmin/PrecioCalisifier'\nimport { Link } from 'react-router-dom';\n\n\n\n\nexport default function ProductoIndex(params) {\n\n\n    const [singleSelections, setSingleSelections] = useState([]);\n    const [order, setOrderBy] = useState([\"Categorias\"])\n\n    const { productos, categorias } = useProducto();\n\n\n\n    return (\n\n        <MainHolder>\n\n            <div className=\"w-100 mx-auto\">\n                <h2 className=\"px-2 mt-2 text-white\"> Productos </h2>\n\n                <Row className=\"mx-auto bg-claro\" style={{ justifyContent: \"space-around\" }}>\n\n                    <Col xs={5} sm={4} md={2} className=\"bg-amarillo rounded shadow pt-1 px-3 pb-2 m-2 text-dark \" >\n                        <p className=\"text-end\"><FaShoppingCart /></p>\n                        <h4 className=\"text-center\">1</h4>\n                        <p className=\"text-sm text-center\">Prestamos</p>\n                    </Col>\n\n                    <Col xs={5} sm={4} md={2} className=\"bg-azul rounded shadow pt-1 px-3 pb-2 m-2 text-white \" >\n                        <p className=\"text-end\"><FaShoppingCart /></p>\n                        <h4 className=\"text-white text-center\">1</h4>\n                        <p className=\"text-sm text-center\">Deudas</p>\n                    </Col>\n\n\n                    <Col xs={5} sm={4} md={2} className=\"bg-dark rounded shadow pt-1 px-3 pb-2 m-2 text-white \" >\n                        <p className=\"text-end\"><FaGlobe /></p>\n                        <h4 className=\"text-white text-center\">{productos ? productos.length : \"...\"}</h4>\n                        <p className=\"text-sm text-center\">Productos</p>\n                    </Col>\n\n                    <Col as={Link} to=\"/productos/nuevo\" xs={5} sm={4} md={2} className=\"nounderline bg-dark rounded shadow pt-1 px-3 pb-2 m-2 text-white \" >\n                        <p className=\"text-end\"><FaDatabase /></p>\n                        <h4 className=\"text-white text-center\"><FaPlus /></h4>\n                        <p className=\"text-sm text-center\">Nuevo</p>\n                    </Col>\n\n                </Row>\n\n\n\n\n            </div>\n\n\n\n\n\n            <div className=\"border-top border-white mx-auto h-100 \" style={{ overflowY: \"hidden\" }}>\n\n                <Form className=\"text-white py-3 w-100 d-flex justify-content-center\" style={{ height: \"10%\" }}>\n\n\n                    <Typeahead\n                        className=\"w-75\"\n                        id=\"labelkey-example\"\n                        labelKey={(option) => `${option.nombre} ${option.codBarras}`}\n                        options={[\n                            { nombre: 'Pan 100M', codBarras: '123456789' },\n                            { nombre: 'Pan chapata crital', codBarras: '123456789' },\n                            { nombre: 'Pan cereales', codBarras: '123456789' },\n                            { nombre: 'Galletas Oreo', codBarras: '123456789' },\n                            { nombre: 'Mayonesa Prima', codBarras: '123456789' },\n                            { nombre: 'Salsa cheddar', codBarras: '123456789' },\n                        ]}\n                        placeholder=\"Nombre del producto?\"\n                    />\n\n\n\n\n\n\n\n\n                </Form>\n\n\n\n\n\n                <div className=\" bg-claro pb-2 shadow mx-auto \" style={{ borderTopLeftRadius: \"25px\", borderTopRightRadius: \"25px\", paddingTop: \"30px\", maxHeight: \"90%\" }}>\n\n                    <Form.Group as={Row} className=\"px-2 justify-content-end mx-auto h-25\" >\n                        <Form.Label as={Col} className=\"text-end h-100 my-auto \">Orden:</Form.Label>\n\n                        <Dropdown as={Col} className=\"col-auto\">\n                            <Dropdown.Toggle variant=\"warning\" className=\" border border-dark\">\n                                {order}\n                            </Dropdown.Toggle>\n\n                            <Dropdown.Menu>\n\n                                <Dropdown.Item onClick={() => { setOrderBy(\"Nombre\") }}>Nombre</Dropdown.Item>\n                                <Dropdown.Item onClick={() => { setOrderBy(\"Precio\") }}>Precio</Dropdown.Item>\n                                <Dropdown.Item onClick={() => { setOrderBy(\"Categorias\") }}>Categorias</Dropdown.Item>\n\n                            </Dropdown.Menu>\n                        </Dropdown>\n\n\n                    </Form.Group>\n                    <div className=\"h-75 w-100 mx-auto bg-dark\">\n                        {\n\n\n                            (productos && categorias) ?\n                                order == \"Categorias\" ? <CategoriaClasifier /> : null\n                                :\n                                <div className=\"d-flex bg-oscuro justify-content-center align-items-center\" style={{ minHeight: \"33vh\" }}>\n                                    <Spinner animation=\"border\" variant=\"light\" />\n                                </div>\n                        }\n\n                        {\n                            order == \"Nombre\" ? <AbcClasifier /> : null\n\n                        }\n\n                        {\n                            order == \"Precio\" ? <PrecioClasifier /> : null\n\n                        }\n                    </div>\n\n\n\n\n\n\n                </div>\n\n\n\n\n\n\n\n\n            </div>\n\n\n\n\n        </MainHolder>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    )\n}","import React, { useEffect, useRef, useState } from 'react';\nimport { Card, Button, Form, Alert, Row, Col } from 'react-bootstrap'\nimport logo from '../../assets/logo.png';\nimport { useAuth } from '../../contexts/AuthContext'\nimport { Redirect } from 'react-router-dom';\nimport { useHistory } from \"react-router-dom\";\n\nimport { auth } from '../../firebase';\nimport { useProducto } from '../../contexts/ProductoContext'\n\nexport default function Login(props) {\n\n    const emailRef = useRef();\n    const passWordRef = useRef();\n    const { login, currentUser,loadUserData } = useAuth();\n    const [error, setError] = useState('');\n    const [loggedIn, setLoggedIn] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const { loadProductos } = useProducto();\n\n\n     \n\n    async function handleSubmit(e) {\n\n        e.preventDefault();\n\n        try {\n\n            setError('')\n            setLoading(true)\n            const usuario = await login(emailRef.current.value, passWordRef.current.value)\n            \n            if (usuario) {\n               \n                setLoggedIn(true);\n                \n            } else {\n                setError(\"No se puede iniciar sesion \")\n            }\n\n\n        } catch (error) {\n            console.log(error)\n            setError(\"No se puede iniciar sesion con esta cuenta\")\n        }\n\n    }\n\n\n    \n\n    const prev=props.location.state && props.location.state.prevPath\n    const redirection=prev?prev:\"/\"\n    return (\n        <>\n            {currentUser && <Redirect to={redirection} />}\n            <Row className=\"bg-oscuro text-white\" style={{ display: \"flex\",height:\"100vh\",justifyContent: \"center\", alignItems: \"center\" }}>\n                <Col xs={11} md={5} lg={2}>\n                \n                 <img className=\"mx-auto d-block shadow my-5\" src={logo} style={{width:\"100px\"}}/>\n                    \n                    \n                    <Form  className=\"mt-3\" onSubmit={handleSubmit}>\n                    <p className=\"text-danger text-center\">{error?error:\" \"}</p>\n                        <Form.Group className=\"mb-2\">\n                            <Form.Label className=\"textoPrimario\">\n                                Email\n                        </Form.Label>\n                            <Form.Control type=\"email\" ref={emailRef} required  />\n                        </Form.Group>\n\n                        <Form.Group className=\"mb-2\">\n                            <Form.Label className=\"textoPrimario\">\n                                Contrasea\n                        </Form.Label>\n                            <Form.Control type=\"password\" ref={passWordRef} required value={\"galletita\"}/>\n                        </Form.Group>\n\n\n\n                        <Button disable={loading} className=\"w-100 mt-2 bg-success\" type=\"submit\">Iniciar sesion</Button>\n                       \n                    </Form>\n               \n\n                \n                </Col>\n            \n                   \n\n            </Row>\n        </>\n    )\n}","\nconst limpieza= [\n\n    {\n        nombre: \"Cocina\",\n        icono: null,\n        items: [\n            { nombre: \"Suelos y sumideros\", compi: \"luisfer\", fecha: \"11/11/2020\" },\n            { nombre: \"Freidoras\", compi: \"luisfer\", fecha: \"11/11/2020\" },\n            { nombre: \"Hornos\", compi: \"luisfer\", fecha: \"11/11/2020\" },\n            { nombre: \"Microondas\", compi: \"luisfer\", fecha: \"11/11/2020\" },\n            { nombre: \"Cortadora jamon\", compi: \"luisfer\", fecha: \"11/11/2020\" },\n            { nombre: \"Tostador Montyroll\", compi: \"luisfer\", fecha: \"11/11/2020\" },\n            { nombre: \"Congeladores\", compi: \"luisfer\", fecha: \"11/11/2020\" },\n            { nombre: \"Refrigeradores\", compi: \"luisfer\", fecha: \"11/11/2020\" },\n            { nombre: \"Mesas frias\", compi: \"luisfer\", fecha: \"11/11/2020\" },\n            { nombre: \"Campana\", compi: \"luisfer\", fecha: \"11/11/2020\" },\n            { nombre: \"Placa induccion\", compi: \"luisfer\", fecha: \"11/11/2020\" },\n            { nombre: \"Fregaderos\", compi: \"luisfer\", fecha: \"11/11/2020\" },\n            { nombre: \"Menaje\", compi: \"luisfer\", fecha: \"11/11/2020\" },\n        ]\n    },\n\n    {\n        nombre: \"Office / Almacen seco\",\n        icono: null,\n        items: [\n            { nombre: \"Suelos rincones y sumideros\", compi: \"luisfer\", fecha: \"11/11/2020\" },\n        ]\n    },\n\n    {\n        nombre: \"Cuartos basuras / Cubos\",\n        icono: null,\n        items: [\n            { nombre: \"Suelos rincones y sumideros\", compi: \"luisfer\", fecha: \"11/11/2020\" },\n        ]\n    },\n\n    {\n        nombre: \"Barra\",\n        icono: null,\n        items: [\n            { nombre: \"Suelos rincones y sumideros\", compi: \"luisfer\", fecha: \"11/11/2020\" },\n        ]\n    },\n\n    {\n        nombre: \"Sala\",\n        icono: null,\n        items: [\n            { nombre: \"Suelos rincones y sumideros\", compi: \"luisfer\", fecha: \"11/11/2020\" },\n        ]\n    },\n\n    {\n        nombre: \"Terraza\",\n        icono: null,\n        items: [\n            { nombre: \"Suelos rincones y sumideros\", compi: \"luisfer\", fecha: \"11/11/2020\" },\n        ]\n    },\n\n    {\n        nombre: \"Vestuarios\",\n        icono: null,\n        items: [\n            { nombre: \"Suelos rincones y sumideros\", compi: \"luisfer\", fecha: \"11/11/2020\" },\n        ]\n    }\n\n]\n\n\nexport default limpieza","export default __webpack_public_path__ + \"static/media/harina.843657ac.png\";","import React, { useState } from 'react'\nimport { FaHandHoldingHeart, FaTimes, FaUtensils, FaTint } from 'react-icons/fa';\nimport { Button, Row, Col, Dropdown, ButtonGroup } from 'react-bootstrap';\nimport limpieza from './limpieza'\nimport MainHolder from './common/MainHolder';\nimport harinaImg from '../assets/harina.png'\n\n\nconst freidoras = [\n    { numero: 1, fecha: \"11/11/2021\", compi: \"Fulanito\" },\n    { numero: 2, fecha: \"12/11/2021\", compi: \"Menganito\" },\n    { numero: 3, fecha: \"13/11/2021\", compi: \"Alguien\" },\n    { numero: 4, fecha: \"14/11/2021\", compi: \"ultimo\" }\n]\n\nconst harina = { fecha: \"11/11/2020\", compi: \"Luisfer\" }\n\n\n\n\n\nconst Freidora = (props) => {\n    const { numero, fecha, compi } = props\n\n    return (\n        <Col className=\"bg-dark pb-5 pt-2 m-2 mx-lg-5 rounded border border-5 border-warning position-relative shadow\" \n            sm={5} xs={10} md={3} lg={2} >\n\n\n            <h1 className=\"align-items-center justify-content-center rounded-circle border border-3 border-warning text-white mx-auto my-auto d-flex \" style={{ width: \"64px\", height: \"64px\" }}>{numero}</h1>\n            <p className=\"mb-0 mt-2\">Ultima vez: {compi}</p>\n            <p className=\"text-center\">{fecha}</p>\n            <Button className=\"w-100 text-dark position-absolute\" variant=\"warning\" style={{ left: \"0\", bottom: \"0\" }}>Filtrar</Button>\n        </Col>\n    )\n}\n\nconst FreidoraHolder = (props) => {\n    const { freidoras } = props\n\n    return (\n        <>\n            <p className=\"ps-2 h5 text-white\"> Freidoras</p>\n\n            <Row className=\"py-3 bg-white  flex-nowrap mx-auto w-100 justify-content-lg-center\" flex={false} style={{ borderRadius: \"25px\", maxWidth: \"100%\", overflowX: \"auto\" }}>\n\n                <Col className=\"text-white d-lg-none\" md={1} sm={2} xs={1}>.</Col>\n\n                {freidoras.map(freidora => <Freidora {...freidora} />)}\n\n\n\n\n                <Col className=\"text-white d-lg-none\" md={1} sm={2} xs={1} >.</Col>\n\n\n\n            </Row>\n\n            <Button className=\"mx-auto mt-2 \" variant=\"success\">Filtrar todas</Button>\n        </>\n    )\n}\n\n\nconst Harina = (props) => {\n\n\n    const { compi, fecha } = props\n\n    return (\n        <Row className=\"w-100 p-2 mx-auto\">\n\n            <Row className=\"w-100 mx-auto align-items-center bg-claro rounded-3 py-4 \" >\n                <p className=\"ps-4 h5 \"> Harina</p>\n                <Col xs={\"auto\"} sm=\"auto\" md={4} className=\"d-none d-sm-flex h-100 align-items-center rounded\" >\n                    <div className=\" d-flex  mx-auto align-items-center justify-content-center \">\n                    <img src={harinaImg} className=\"border border-3 border-dark rounded-circle bg-warning shadow-lg\" style={{width:\"200px\"}}/>\n\n                    </div>\n                </Col>\n\n                <Col className=\"mx-auto h-auto border border-3 rounded border-warning bg-dark pt-2 shadow-lg \">\n\n                    <p >Ultimo cambio:</p>\n                    <p className=\"text-center\">{compi} : {fecha}</p>\n                    <Button variant=\"warning my-2 w-100 mx-auto\"> Cambiar</Button>\n                </Col>\n\n            </Row>\n\n        </Row>\n    )\n}\n\nconst CategoriaLimpiezaItem = (props) => {\n    const { nombre, compi, fecha } = props\n    const [active, setActive] = useState(false)\n    return (\n        <Col xs={12} sm={12} className=\"mb-2 px-2\" >\n            <Row className={`bg-warning text-dark mx-auto w-100 rounded rounded-3 p-0  border border-2 border-warning`} >\n                <Col xs={active ? 10 : 12} sm={!active ? 12 : 11} className=\"text-center fs-4\" onClick={() => setActive(!active)}>\n                    {nombre}\n                </Col>\n                {active &&\n                    <Col xs={1} sm={1} className=\"text-end\" onClick={() => setActive(!active)}>\n                        <FaTimes />\n                    </Col>}\n                {\n                    active && <Col xs={12} md={4} className=\"bg-dark text-white text-center  py-2\">\n                        {compi}\n                    </Col >\n                }\n                {active && <Col xs={12} sm={12} md={8} className=\"text-center bg-white text-center py-2 \">\n                    {fecha}\n                </Col>}\n\n                {active && <Col className=\"p-0 bg-dark py-2 d-flex justify-content-center border-top border-warning\">\n                    <Button className=\"w-75\" variant=\"warning\">\n                        Actualizar\n                    </Button>\n                </Col>}\n            </Row>\n        </Col>\n    )\n}\n\nconst CategoriaLimpieza = (props) => {\n    const { nombre, icono, items } = props\n    const [active, setActive] = useState(false)\n    return (\n        <Row className={`align-items-center  bg-dark p-0 mb-2 ${active && \"border border-2 border-dark\"} position-relative`}>\n            {active && <Row className=\"w-100 mx-auto p-0  position-absolute\" style={{ top: \"0\" }}>\n                <p className=\"w-100 text-end pe-2 text-white \"><FaTimes /></p> </Row>}\n\n            <Col sm={12} xs={12} className={`p-0 d-flex align-items-center  ${active && \"mb-2\"}`}  >\n\n                <Row className=\"d-flex w-100 mx-auto p-0\" onClick={() => setActive(!active)} style={{ zIndex: \"200\" }}>\n                    <Col xs={12} sm={12} className=\"d-flex align-items-center p-0\" >\n                        <p className=\"fs-3 w-100 text-center my-auto \"  >  <span >{nombre}</span> {icono} </p>\n                    </Col>\n\n                </Row>\n\n            </Col>\n            <Row className=\"bg-white mx-auto pt-2 px-0\">\n                {\n                    active && items.map((i) => <CategoriaLimpiezaItem {...i} />)\n                }\n            </Row>\n\n\n\n\n\n\n\n\n        </Row>\n    )\n}\n\nconst Limpieza = (props) => {\n    return (\n\n        <Row className=\"w-100 mx-auto py-2 px-2\">\n            <p className=\"ps-0 h5 text-white ps-0\"> Limpieza</p>\n\n            <Col xs={12} sm={12} md={11} lg={8} className=\"mx-auto pt-3 px-4 bg-white rounded rounded-6\">\n\n                {limpieza.map(zona => <CategoriaLimpieza {...zona} />)}\n\n            </Col>\n\n\n        </Row>\n    )\n}\n\n\nexport default function Operativa(props) {\n\n    return (\n        <MainHolder>\n\n\n            <h3 className=\"my-2 py-2 px-2\">Operativa</h3>\n\n            <div className=\"bg-dark py-2 w-100 text-white d-flex flex-column \">\n\n\n                <FreidoraHolder freidoras={freidoras} />\n\n                <Harina {...harina} />\n\n                <Limpieza />\n\n            </div>\n        </MainHolder>\n    )\n}","import React from 'react'\nimport { Col, Row } from 'react-bootstrap'\nimport { FaAngleLeft } from 'react-icons/fa'\nimport { Link } from 'react-router-dom'\nimport MainHolder from './MainHolder'\n\n\n\nexport default (props)=>{\n    const {children,title,back}=props\n    return (\n        <MainHolder>\n            <Row className=\" ps-3 py-2 mx-auto\" >\n                <Col xs={2} sm={1} as={Link} to={back} className=\"bg-dark text-warning justify-content-center rounded rounded-4 py-3 d-flex\">\n                    <FaAngleLeft size=\"35\" />\n\n                </Col>\n                <Col className=\"d-flex  my-auto  mx-auto\">\n                    <h4 className=\"my-auto\">{title}</h4>\n                </Col>\n            </Row>\n            <Row className=\"vh-100 justify-content-center mx-auto\">\n                {children}\n            </Row>\n\n            \n        </MainHolder>\n    )\n\n}","import React, { useEffect, useRef, useState } from 'react'\nimport MainHolder from '../common/MainHolder'\nimport { Link, useParams } from \"react-router-dom\";\nimport { useProducto } from '../../contexts/ProductoContext';\nimport { Col, Form, Row, InputGroup, Spinner } from 'react-bootstrap';\nimport { FaAdjust, FaEuroSign, FaBox, FaFingerprint, FaLock, FaShareAlt, FaThumbsUp, FaAngleRight, FaAngleLeft } from 'react-icons/fa';\nimport Producto from './ProductoClasificable'\nimport SecondaryHolder from '../common/SecondaryHolder';\n\n\n\nconst FormItem = (props) => {\n    const { nombre, value, holder, lock = false, cambios, handleChange, saved } = props\n    const [initial, setInitial] = useState(value)\n    const [autosave, setAutosave] = useState(null)\n    const saving = (cambios && Object.keys(cambios).includes(nombre.toLowerCase()) && autosave)\n\n\n    const setValue = (event) => {\n        const val = event.target.value.trim().toLowerCase()\n        var newCambio = {}\n        if (initial !== val) {\n            newCambio[nombre.toLowerCase()] = val\n            const newChanges = Object.assign({}, cambios, newCambio)\n\n            setInitial(val)\n            handleChange(newChanges)\n        } else {\n\n        }\n    }\n\n\n    const handleItemChange = (event) => {\n        console.log(initial)\n        const val = event.target.value\n        if ((val !== \"\") && (initial !== val)) {\n            if (autosave) {\n                console.log(\"sigues escribiendo\")\n                clearTimeout(autosave)\n                setAutosave(setTimeout(() => { setValue(event) }, 2000))\n            } else {\n                console.log(\"has empezado a escribir\")\n                setAutosave(setTimeout(() => { setValue(event) }, 2000))\n            }\n        } else {\n            console.log(\"los valores de inicio y actual coinciden\")\n            clearTimeout(autosave)\n            setAutosave(false)\n        }\n\n    }\n\n\n    return (\n        <Form.Group className=\"mb-2\" as={Col} xs={12}>\n            <Form.Label>\n                {nombre}\n            </Form.Label>\n            <InputGroup className=\"mb-2\">\n\n                <Form.Control placeholder={value ? value : holder} readOnly={lock} onChange={handleItemChange} />\n\n\n                {lock && <InputGroup.Text className=\"text-warning fs-1 bg-transparent\"><FaLock /></InputGroup.Text>}\n                {(saving && !saved) && <InputGroup.Text className=\"text-warning fs-1 bg-transparent\"><Spinner animation=\"grow\" /></InputGroup.Text>}\n\n            </InputGroup>\n\n        </Form.Group>\n\n    )\n}\n\n\n\nconst CategoriaEdicion = (props) => {\n    const { children, nombre, icono } = props\n\n    const [active, setActive] = useState(false)\n\n    return (\n\n        <Col sm={12} lg={12} xl={6} className={`${active ? \"border\" : \"border-top\"} border-white border-3 rounded rounded-2 px-2 mb-sm-2 h-auto my-2`}>\n\n            <Col xs={12} className={`${!active ? \"border border-3\" : \"border-bottom\"} border-white fs-3 d-flex py-auto justify-content-center  text-white`} onClick={() => setActive(!active)}>\n                <span className=\"me-2 text-capitalize\">{nombre}</span>\n                <span>{icono}</span>\n            </Col>\n\n            <Col xs={12} className=\"px-2\">\n                {active && children}\n\n            </Col>\n\n\n\n        </Col>\n    )\n}\n\n\nconst Categoria = (props) => {\n    const { nombre, id } = props\n\n    return <option value={id}>{nombre}</option>\n}\n\n\nconst Editor = (props) => {\n    const { id } = useParams();\n    const { productos, categorias, upgradeProducto } = useProducto()\n    const [current, setCurrent] = useState({})\n    const [cambios, setCambios] = useState(null)\n    const [autosave, setAutosave] = useState(null)\n    const [saved, setSaved] = useState(false)\n\n    useEffect(() => {\n        productos && setCurrent(productos.find(p => p.id == id))\n    }, [productos])\n\n    useEffect(() => {\n        cambios && upgradeProducto(id, cambios)\n    }, [cambios])\n\n    const getCategoria = (catId) => {\n        const categoria = categorias.find(c => c.id === catId)\n        return categoria\n    }\n\n    const save = (cambios) => {\n        console.log(\"Guardando los cambios en firebase\")\n        setCambios(cambios)\n        setSaved(true)\n    }\n\n    const handleSave = (cambios) => {\n        console.log(\"cambio requrido\")\n        console.log(cambios)\n        setSaved(false)\n        if (autosave) {\n            console.log(\"sigues modificando el formulario\")\n            window.clearTimeout(autosave)\n            setAutosave(window.setTimeout(() => { save(cambios) }, 5000))\n        } else {\n            console.log(\"has modificado el formulario\")\n            setAutosave(window.setTimeout(() => { save(cambios) }, 5000))\n        }\n    }\n\n    const handleDropdowns = (event) => {\n        const { value, id } = event.target\n\n        console.log(id)\n        if (id === \"categorias\") {\n            handleSave(Object.assign({}, cambios, { categoria_id: value }))\n        }\n        if (id === \"iva\") {\n            handleSave(Object.assign({}, cambios, { iva: value }))\n        }\n    }\n\n\n\n\n    const { nombre, precio, unidades, paquetes, peso, iva, categoria_id } = current\n    const { codigo_barras, codisis_id } = current\n    const categoria = categoria_id && getCategoria(categoria_id)\n\n    return (\n        <SecondaryHolder title={\"Editar - \"+nombre} back=\"/productos\">\n            <Row className=\"justify-content-center justify-content-lg-around mx-auto w-100 align-items-center pt-2\" >\n\n                \n                <Col xs={12} md={8} lg={4} xl={3} className=\"d-flex  justify-content-center align-items-center \">\n                    {productos && <Producto {...current} editable={true} expand={true} />}\n                </Col>\n\n                <Col md={12} lg={7} xl={8} className=\" text-white py-2 px-0\" >\n                    <Form as={Row} className=\"bg-oscuro justify-content-around\">\n\n\n\n                        <FormItem nombre=\"Nombre\" value={nombre} holder=\"Nombre del producto\" handleChange={handleSave} cambios={cambios} saved={saved} />\n                        <Form.Group className=\"mb-2\" as={Col} xs={12} >\n                            <Form.Label>Categoria</Form.Label>\n                            <Form.Select id=\"categorias\" onChange={handleDropdowns}>\n                                {categoria ? <Categoria {...categoria} /> : <option> Categoria del producto </option>}\n                                {categorias && categorias.map(c => c.id !== categoria_id ? <Categoria {...c} /> : null)}\n                            </Form.Select>\n                        </Form.Group>\n\n                        <CategoriaEdicion nombre=\"exclusivo\">\n\n                            <Form.Group className=\"mb-2 ps-3 ps-md-0 d-sm-flex d-lg-block justify-content-center pt-2 bg-info\" as={Col} xs={12} >\n                                <Form.Check\n                                    inline\n                                    label=\"No\"\n                                    name=\"no_exclusivo\"\n                                    type='checkbox'\n                                    id='no'\n                                    className=\"w-100 w-md-auto  my-2 my-md-auto  w-lg-100 \"\n\n\n                                />\n                                <Form.Check\n                                    inline\n                                    label=\"Andalucia\"\n                                    name=\"andalucia\"\n                                    type='checkbox'\n                                    id='andalucia'\n                                    className=\"w-100 w-md-auto  my-2 my-md-auto  w-lg-100 \"\n\n\n                                />\n                                <Form.Check\n                                    inline\n                                    label=\"Levante\"\n                                    name=\"levante\"\n                                    type='checkbox'\n                                    id='levante'\n                                    className=\"w-100 w-md-auto  my-2 my-md-auto w-lg-100 \"\n                                />\n\n                                <Form.Check\n                                    inline\n                                    label=\"Canarias\"\n                                    name=\"canarias\"\n                                    type='checkbox'\n                                    id='canarias'\n                                    className=\"w-100 w-md-auto my-2 my-md-auto  w-lg-100 \"\n\n                                />\n\n                                <Form.Check\n                                    inline\n                                    label=\"Baleares\"\n                                    name=\"baleares\"\n                                    type='checkbox'\n                                    id='baleares'\n                                    className=\"w-100 w-md-auto  my-2 my-md-auto  w-lg-100 \"\n\n                                />\n\n                                <Form.Check\n                                    inline\n                                    label=\"Santa justa\"\n                                    name=\"santa_justa\"\n                                    type='checkbox'\n                                    id='santa_justa'\n                                    className=\"w-100 w-md-auto  my-2 my-md-auto  w-lg-100 \"\n\n                                />\n\n\n\n                            </Form.Group>\n\n\n\n                        </CategoriaEdicion>\n\n                        <CategoriaEdicion nombre=\"identificacion\" icono={<FaFingerprint />}>\n\n                            <FormItem nombre=\"ID\" value={id} hoder=\"Id del producto\" lock handleChange={handleSave} saved={saved} />\n                            <FormItem nombre=\"codigo_barras\" value={codigo_barras} hoder=\"Codigo de barras del producto\" handleChange={handleSave} saved={saved} />\n                            <FormItem nombre=\"codisis_id\" value={codisis_id} hoder=\"Codigo de barras del producto\" handleChange={handleSave} saved={saved} />\n\n\n                        </CategoriaEdicion>\n\n                        <CategoriaEdicion nombre=\"valor\" icono={<FaEuroSign />}>\n\n                            <FormItem nombre=\"Precio\" value={precio} hoder=\"Precio del producto\" handleChange={handleSave} saved={saved} />\n\n                            <Form.Group className=\"mb-2\" as={Col} xs={12}>\n                                <Form.Label>IVA</Form.Label>\n                                <Form.Select id=\"iva\" onChange={handleDropdowns}>\n                                    <option>{iva ? iva : \"IVA del producto\"}</option>\n                                    <option value=\"10\">10%</option>\n                                    <option value=\"4\">4%</option>\n                                    <option value=\"21\">21%</option>\n                                </Form.Select>\n                            </Form.Group>\n                        </CategoriaEdicion>\n\n\n\n                        <CategoriaEdicion nombre=\"empaquetado\" icono={<FaBox />}>\n\n                            <FormItem nombre=\"Unidades\" value={unidades} holder=\"unidades por caja\" handleChange={handleSave} saved={saved} />\n\n                            <FormItem nombre=\"Paquetes\" value={paquetes} holder=\"paquetes por caja\" handleChange={handleSave} saved={saved} />\n\n                            <FormItem nombre=\"Peso\" value={peso} holder=\"peso del paquete\" handleChange={handleSave} saved={saved} />\n\n                        </CategoriaEdicion>\n\n\n\n                    </Form>\n                </Col>\n\n            </Row>\n\n        </SecondaryHolder>\n    )\n}\n\n\nexport default Editor","export default __webpack_public_path__ + \"static/media/box.63de4f0b.png\";","import React, { createRef, useState } from 'react'\nimport { Col, Form, Row, Button } from 'react-bootstrap'\nimport { useProducto } from '../../contexts/ProductoContext'\nimport MainHolder from '../common/MainHolder'\nimport box from '../../assets/box.png'\nimport { FaAngleLeft } from 'react-icons/fa'\nimport { Link } from 'react-router-dom'\nimport SecondaryHolder from '../common/SecondaryHolder'\n\n\n\n\nexport default (props) => {\n    const { categorias } = useProducto()\n    const [error, setError] = useState(null)\n    const nombreInput = createRef(null)\n    const precioInput = createRef(null)\n    const categoriaInput = createRef(null)\n\n\n    const handleSubmit = () => {\n        if (nombreInput.current && precioInput.current && categoriaInput.current) {\n            const nombre = nombreInput.current.value\n            const precio = precioInput.current.value\n            const categoriaID = categoriaInput.current.value\n\n            if (nombre && precio && categoriaID) {\n                console.log(`${nombre}: ${precio} cat-(${categoriaID})`)\n            } else {\n                setError(\"Debes rellenar todos los campos\")\n            }\n\n        }\n\n    }\n\n\n    return (\n\n\n\n        <SecondaryHolder title={\"Nuevo producto\"} back={\"/productos\"}>\n\n            <Form as={Row} className=\"text-white px-4 py-4 justify-content-center rounded rounded-3\" >\n                <Col xs={11} className=\"d-flex justify-content-center py-2 mb-2\">\n                    <img src={box} className=\"mx-auto rounded-circle bg-warning border border-5 border-white shadow-lg\" style={{ width: \"220px\" }} />\n                </Col>\n                <Row className=\"pt-3 mb-2 border rounded rounded-3 border-white bg-oscuro \">\n                    <Form.Group as={Col} xs={12} sm={6} lg={4} className=\"pb-4\">\n                        <Form.Label>\n                            Nombre\n                    </Form.Label>\n                        <Form.Control placeholder=\"Nombre del producto\" ref={nombreInput} />\n                    </Form.Group>\n\n                    <Form.Group as={Col} xs={12} sm={6} lg={4} className=\"pb-4\">\n                        <Form.Label>\n                            Precio\n                    </Form.Label>\n                        <Form.Control placeholder=\"Precio del producto\" ref={precioInput} />\n                    </Form.Group>\n\n                    <Form.Group className=\"\" as={Col} xs={12} lg={4} className=\"pb-4\">\n                        <Form.Label>Categoria</Form.Label>\n                        <Form.Select id=\"categorias\" ref={categoriaInput}>\n                            <option value={0}> Categoria del producto </option>\n                            {categorias && categorias.map(\n                                c => <option value={c.id}>{c.nombre}</option>\n                            )\n                            }\n                        </Form.Select>\n                    </Form.Group>\n                </Row>\n\n\n                {error && <p className=\"fs-3 text-danger w-100 text-center\">{error}</p>}\n\n                <Col xs={4} sm={4} className=\"d-md-flex  p-0 mt-lg-3 me-2\">\n                    <Button variant=\"warning \" onClick={handleSubmit} className=\"w-100 text-dark\">Perfilar</Button>\n                </Col>\n\n                <Col xs={7} sm={4} className=\"d-md-flex mt-lg-3 p-0\">\n                    <Button variant=\"success\" onClick={handleSubmit} className=\"w-100\">Crear</Button>\n                </Col>\n\n            </Form>\n        </SecondaryHolder>\n    )\n}","import React from 'react'\nimport { Col, Row, Button, Badge } from 'react-bootstrap'\nimport { FaHome, FaMapMarkerAlt, FaShopware, FaUserAlt } from 'react-icons/fa'\nimport { Redirect, useHistory } from 'react-router-dom'\nimport { useLocal } from '../../contexts/LocalContext'\n\n\nconst Local = ({ local }) => {\n    const { nombre, direccion, allowed_users, pic_url } = local\n    const { setLocal } = useLocal()\n    const history = useHistory()\n\n    const handleSet = () => {\n        setLocal(local)\n        history.push(\"/\")\n    }\n\n    return (\n        <Col className=\"rounded rounded-3 mx-2 p-0 border border-2 border-warning bg-oscuro shadow-lg\"\n            xs={12} sm={6} md={5} lg={3} xl={4}>\n\n\n            <Row className=\"w-100 h-100 p-0 my-auto mx-0 \">\n                <p className=\"fs-3 w-100 p-0 m-0 text-center border-bottom border-4 border-warning text-warning\" style={{ height: \"10%\" }}>{nombre}</p>\n\n                <Row className=\"border-bottom border-white p-0 m-0 \" style={{ height: \"200px\" }}>\n\n                    <img src={pic_url} className=\"w-100 h-100 p-0 my-auto\" />\n\n                </Row>\n\n\n                <Row className=\"m-0 text-white p-0\" >\n                    <Col xs={2} className=\"d-flex align-items-center border-end border-2 border-white\">\n                        <FaMapMarkerAlt className=\"mx-auto\" />\n                    </Col>\n                    <Col className=\"p-0\" xs={10}>\n                        <p className=\"my-auto text-center py-2\">{direccion}</p>\n                    </Col>\n                    <Col xs={2} as={Badge} bg=\"warning\" className=\"d-flex align-items-center justify-content-center p-0 fs-4\">\n\n                        {allowed_users.length}\n\n                    </Col>\n                    <Col className=\"p-0\">\n                        <p className=\"my-auto text-center py-2\">Usuarios</p>\n                    </Col>\n\n                </Row>\n\n                <Row as={Button} variant=\"warning\" className=\"m-0 border-top border-2 \" onClick={handleSet}>\n                    Seleccionar\n                        </Row>\n\n            </Row>\n\n\n        </Col>\n    )\n}\n\n\n\nexport default (props) => {\n    const { locales,local } = useLocal()\n\n    const prev=props.location.state && props.location.state.prevPath\n    const redirection=prev?prev:\"/\"\n    return (\n\n        \n        <Row className=\" p-0 mx-auto justify-content-center vh-100\" >\n            \n            <Col xs={12} className=\"fs-4 text-white bg-dark p-0 m-0 d-flex justify-content-center shadow\" style={{height:\"10%\"}}>\n                <span className=\"fs-1 p-0 d-flex me-2 bg-warning rounded-circle justify-content-center align-items-center my-auto border border-2 border-white\" style={{width:\"50px\",height:\"50px\"}}><FaHome /></span>\n                <span className=\" my-auto\">Tus locales</span>\n\n            </Col>\n            <Col xs={12} xl={8}  className=\"align-items-center  d-flex px-0 px-lg-5  \" style={{height:\"80%\"}}>\n                <Row  className=\" px-4 m-0 flex-nowrap flex-md-wrap justify-content-md-evenly  px-md-0 py-4 shadow-lg \" style={{ overflow: \"auto\" }}>\n                    {locales && locales.map(l => <Local local={l}  />)}\n                </Row>\n            </Col>\n            <Col  md={3} lg={5} className=\"p-0 d-flex\" style={{height:\"9%\"}}>\n                <Button variant=\"warning\" className=\"w-100 my-auto\">Nuevo</Button>\n            </Col>\n\n\n        </Row>\n\n    )\n}","import React from 'react'\n\n\n\nexport default ()=>{\n    return (\n        <div className=\"d-flex align-items-center justify-content-center vw-100 vh-100 mx-auto bg-oscuro\">\n            <p className=\"me-4\" style={{fontSize:\"50px\"}}>404</p>\n            <p className=\"text-white fs-1\">pagina no encontrada</p>\n        </div>\n    )\n}","/* eslint-disable import/no-anonymous-default-export */\nimport React, { useEffect, useRef, useState } from 'react'\nimport { Col, Form, Row, InputGroup, Button } from 'react-bootstrap'\nimport { FaBeer, FaBullhorn, FaExclamationTriangle } from 'react-icons/fa'\nimport { useAuth } from '../../contexts/AuthContext'\nimport { useCompis } from '../../contexts/CompisContext'\nimport { useMesage } from '../../contexts/MessageContext'\nimport MainHolder from './MainHolder'\nimport moment from 'moment'\n\n\nconst getFormated = (date) => {\n    console.log(\"formateando\")\n    var duration = moment.duration(moment().diff(date));\n\n    var minutes = duration.asMinutes()\n    var days = duration.asDays()\n\n\n    const menosDe30 = minutes < 30\n    const ayer = days >= 1 && days < 2\n    const hoy = (days > 0 && days < 1) && !menosDe30\n\n    const isProximo = (menosDe30 || ayer || hoy)\n\n    const _getFormated = () => {\n        let formated = null\n        const soloHoras = date.format(\"HH:MM\")\n        switch (true) {\n            case (!isProximo):\n                formated = date.format(\"ddd. DD-MM-YY HH:MM\")\n                break\n            case (ayer):\n                formated = \"ayer \" + soloHoras\n                break\n\n            case (hoy):\n                formated = soloHoras\n                break\n\n            case (minutes < 1):\n                formated = \"ahora mismo\"\n                break;\n            case (menosDe30):\n                formated = \"hace \" + Math.round(minutes) + \" minutos\"\n                break\n\n            default:\n                console.log()\n                break;\n        }\n        return formated\n    }\n    return _getFormated()\n}\n\n\n\n\nconst MsgFecha = (props) => {\n    const { date } = props\n    const [formated, setFormated] = useState(getFormated(date))\n\n    useEffect(() => {\n\n        const timer = setInterval(() => {\n            const newTime = getFormated(date)\n            newTime != formated && setFormated(getFormated(date))\n        }, 60000)\n\n        return () => clearInterval(timer);\n    }, [setFormated])\n\n    return <p className=\"w-100 m-0 p-0 text-end pe-2 text-warning\">{formated}</p>\n}\n\n\nconst MsgFrom = (props) => {\n    const { userAPI } = useAuth()\n    const { children, from, date, __type } = props\n    const { compis } = useCompis()\n    const [me, setMe] = useState()\n    const [itsMine, setItsMine] = useState(false)\n\n    useEffect(() => {\n\n        if (compis && userAPI) {\n\n            const find = compis.find(c => c.correo === from)\n            find && console.log(find.id)\n            console.log(userAPI)\n            setItsMine(find && find.id === userAPI.id)\n            setMe(find)\n        }\n    }, [setMe, compis])\n\n    console.log(date)\n\n\n    return (\n        <Row className={`justify-content-center px-0 mx-auto  ${itsMine && \"flex-row-reverse\"}`}>\n            <Col xs sm={5} lg={4} className=\"d-flex align-items-center text-white \">\n                <Row className=\"w-100 mx-auto p-0 text-dark\">\n                    <Col xs={12} className=\"mx-auto text-capitalize text-white\">{me && me.nombre}</Col>\n                    <Col xs={12} className={` shadow mx-auto py-3 text-start ${itsMine ? \"bocadillo-me\" : \"bocadillo\"} ${__type == \"alarm\" && \"bg-oscuro  text-amarillo\"} border border-3 border-white d-flex align-items-center `}>\n                        {children}\n                    </Col>\n                    <MsgFecha date={date} />\n                </Row>\n\n            </Col>\n            <Col xs={2} md={1} className=\"d-flex justify-content-center  align-items-center\">\n\n                {me && <img src={me.pic_url} style={{ width: \"48px\", height: \"48px\" }} className=\"rounded-circle border border-3 border-white shadow\" />}\n\n\n            </Col>\n\n\n\n        </Row >\n\n    )\n}\n\n\nconst Mensaje = (props) => {\n    const { msg, date, author, __type } = props\n\n    return (\n        <Row className=\"mx-auto justify-content-center my-2 w-100\">\n            <MsgFrom from={author} date={date} __type={__type}>\n\n                {\n                    __type == \"alarm\" &&\n                        <div className=\"position-absolute text-white\" style={{ top: \"-10px\", right: \"-10px\" }}>\n                            <FaBullhorn className=\"m-0 p-0\" size={25} />\n                        </div>\n                }\n                {msg}\n\n\n\n            </MsgFrom>\n\n        </Row>\n\n    )\n}\n\n\n\nexport default function () {\n    const { mensajes, sendMensaje } = useMesage()\n    const [type, setType] = useState()\n    const msgText = useRef()\n    const msgsBottom = useRef(null)\n\n\n    useEffect(() => {\n        if (msgsBottom) msgsBottom.current.scrollTop = msgsBottom.current.scrollHeight *2\n    }, [mensajes])\n\n\n    const handleSend = () => {\n        if (msgText.current) {\n            const text = msgText.current.value\n            text != \"\" && sendMensaje({ msg: text })\n        }\n    }\n\n\n    return (\n        <MainHolder>\n\n            <div className=\"w-100 p-0 m-0 d-flex bg-oscuro-claro flex-column justify-content-end\" style={{ height: \"80%\", overflow: \"hidden\" }} >\n                <div className=\"py-5 position-relative\" style={{ maxHeight: \"100%\", overflowX: \"hidden\", overflowY: \"scroll\" }}ref={msgsBottom}  >\n                    {mensajes && mensajes.map(m => <Mensaje {...m} />)}\n                    <Row className=\"bg-info \" style={{bottom:\"0\" ,height: \"10vh\" }} />\n                </div>\n\n            </div>\n\n\n\n\n            <div className=\"bg-warning m-0 w-100  position-absolute bg-dark d-flex border-top border-3 border-white\" style={{ minHeight: \"20%\", bottom: \"0\" }}>\n                <Form className=\"my-auto mx-auto  p-2 w-100\">\n\n                    <Form.Group className=\"mb-2\">\n                        <InputGroup>\n\n                            <Form.Control as=\"textarea\" ref={msgText} className=\"rounded rounded-4\" placeHolder={\"mensaje...\"} />\n                            <InputGroup.Text as={Button} onClick={handleSend} variant=\"success px-4\">Enviar</InputGroup.Text>\n                        </InputGroup>\n                    </Form.Group>\n\n\n                </Form>\n            </div>\n        </MainHolder>\n\n    )\n}","import React, { useEffect, useRef, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { database } from '../../firebase'\nimport MainHolder from './MainHolder'\nimport Producto from '../superAdmin/ProductoClasificable'\nimport { useProducto } from '../../contexts/ProductoContext'\nimport { Col, Form, Row, Button } from 'react-bootstrap'\nimport { useMesage } from '../../contexts/MessageContext'\n\n\nconst AlarmaProductos = (props) => {\n    const { id } = props\n    const { productos } = useProducto()\n    const [current, setCurrent] = useState(null)\n    const { sendMensaje } = useMesage()\n    const que=useRef()\n    const cuanto=useRef()\n    const [motivoVal, setMotivoVal] = useState(0)\n\n    const motivos = [\"Selecciona motivo\", \"No queda\", \"Esta en mal estado\"]\n\n    useEffect(() => {\n        productos && setCurrent(productos.find(p => p.id === id))\n    }, [id, productos])\n\n    const manageSend = () => {\n        console.log(\"enviando....\")\n        if(motivoVal>0){\n            const m=motivos[motivoVal]\n            const mStr=motivoVal==1?`\"${current.nombre}\" se nos ha acabado`:`Cuidado \"${current.nombre}\" en mal estado; ${que.current?.value} he encontrado:${cuanto.current?.value}`\n            sendMensaje({topic:\"productos\",__ref:\"id\",msg:mStr,__type:\"alarm\"})\n\n        } \n    }\n\n    return (\n        <Row className=\"mx-auto bg-claro justify-content-center\">\n            <Col xs={12} sm={8} className=\"d-flex justify-content-center mb-2\">\n                <Producto {...current} editable={true} expand={true} />\n            </Col>\n            <Form as={Col} xs={12} className=\"bg-oscuro text-white py-2\">\n                <Form.Group className=\"mb-2\">\n                    <Form.Label>\n                        Cual es la alarma?\n                    </Form.Label>\n                    <Form.Select onChange={(ev) => setMotivoVal(ev.target.value)} value={motivoVal}>\n                        {motivos.map((m, i) => <option value={i}>{m}</option>)}\n                    </Form.Select>\n                </Form.Group>\n                <Row>\n                    {motivoVal > 1 && <Form.Group as={Col} xs={12} className=\"my-2\" >\n                        <Form.Label>Cuanto</Form.Label>\n                        <Form.Control type=\"number\" ref={cuanto}/>\n                    </Form.Group>}\n                    {motivoVal > 1 && <Form.Group as={Col} xs={12}>\n                        <Form.Label >Que le pasa</Form.Label>\n                        <Form.Control as=\"textarea\" ref={que}/>\n                    </Form.Group>}\n                    \n                    {motivoVal > 0 && \n                        <Button as={Col} variant=\"warning\" className=\"mt-2\" onClick={manageSend}>\n                            Enviar\n                        </Button>\n                    }\n\n                </Row>\n\n            </Form>\n        </Row>\n\n    )\n}\n\n\nexport default (props) => {\n\n    const { topic, ref } = useParams()\n\n    return (\n        <MainHolder>\n            <h1>{topic}</h1>\n            {topic == \"productos\" && <AlarmaProductos id={ref} />}\n        </MainHolder>\n    )\n}","import React, { useEffect, useState } from \"react\";\nimport { Button, Col, Form, Row } from \"react-bootstrap\";\nimport { FaBolt, FaBullhorn, FaEdit } from \"react-icons/fa\";\nimport { useLocal } from \"../../contexts/LocalContext\";\nimport { useMaquinaria } from \"../../contexts/MaquinariaContext\";\nimport MainHolder from \"../common/MainHolder\";\n\nconst FormularioMaquina = (props) => {\n\n    const { selected } = props\n    const { maquinas } = useMaquinaria()\n    const numero=maquinas ? maquinas.filter(m => m.nombre === selected.nombre).length + 1 : 1\n    const [alias, setAlias] = useState()\n    const [marca, setMarca] = useState()\n    const [modelo, setModelo] = useState()\n    const [consumo, setConsumo] = useState()\n\n    const {createMaquina}=useMaquinaria()\n\n    const handleNuevaMaquina=()=>{\n        const {nombre}=selected\n        createMaquina({numero,alias,marca,modelo,consumo,nombre,status:\"success\"})\n    }\n\n    useEffect(()=>{\n        console.log(\"pintando effecto\")\n        console.log(selected)\n        setAlias(selected.nombre)\n    },[selected])\n\n    return (\n        <Form as={Row} className=\"w-100 mx-auto align-items-center text-white  justify-content-center h-100  px-0\">\n            \n            <Row className=\"mx-2 h-25 py-4 mx-auto border border-white shadow\">\n                <Col xs={4} sm={2} className=\"bg-warning shadow h-100 d-flex\">\n                    <img src={selected.pic} className=\"my-auto w-100 h-100  my-auto\" />\n                </Col>\n                <Col  className=\"px-0 d-flex flex-column py-2\">\n                    <h3 className=\"m-0 ms-2 text-white\">{alias}</h3>\n                    <p className=\"text-end m-0 pe-2 text-amarillo\">({marca ? marca : \"marca\"}-{modelo ? modelo : \"modelo\"})</p>\n                    <h3 className=\"text-center my-auto text-white\"><span className=\"text-amarillo\"> <FaBolt size={30} /> </span>{consumo ? consumo : \"00\"} Kw/h </h3>\n\n\n                </Col>\n\n            </Row>\n            <Row className=\"bg-oscuro my-auto py-3\">\n\n                <Form.Group as={Col} xs={4} className=\"py-2\">\n                    <Form.Label>\n                        Numero\n            </Form.Label>\n                    <Form.Control value={numero} readOnly />\n                </Form.Group>\n                <Form.Group as={Col} xs={8} className=\"py-2\">\n                    <Form.Label>\n                        Alias\n             </Form.Label>\n                    <Form.Control onChange={(ev) => setAlias(ev.target?.value)} defaultValue={alias}/>\n                </Form.Group>\n                <Form.Group as={Col} xs={5} className=\" py-2\">\n                    <Form.Label>\n                        Marca\n             </Form.Label>\n                    <Form.Control onChange={(ev) => setMarca(ev.target?.value)} />\n                </Form.Group>\n                <Form.Group as={Col} xs={7} className=\" py-2\">\n                    <Form.Label>\n                        Modelo\n            </Form.Label>\n                    <Form.Control onChange={(ev) => setModelo(ev.target?.value)} />\n                </Form.Group>\n                <Form.Group as={Col} xs={4} className=\" py-2\">\n                    <Form.Label>\n                        kw/h\n            </Form.Label>\n                    <Form.Control type=\"number\" onChange={(ev) => setConsumo(ev.target?.value)} />\n                </Form.Group>\n                <Form.Group as={Col} xs={8} className=\" py-2\">\n                    <Form.Label>\n                        Tecnico\n            </Form.Label>\n                    <Form.Select>\n                        <option>Selecciona tecnico</option>\n                    </Form.Select>\n                </Form.Group>\n                <Button variant=\"warning my-2 mx-0 text-dark\" onClick={handleNuevaMaquina}>Agregar</Button>\n            </Row>\n\n        </Form>\n    )\n}\n\n\nconst MaquinaLocal = (props) => {\n    const {nombre,pic,numero,marca,modelo,consumo,status,alias}=props\n    return (\n        <Row className=\"shadow bg-oscuro p-0 mx-auto my-2 my-lg-4  text-white border border-2 border-amarillo\">\n\n            <Col as=\"img\" xs={4}  src={pic} className=\"p-2  h-75 my-auto\" />\n            <Col xs={8} className=\" px-0 d-block border-start border-amarillo\">\n                <p className=\"ps-3 m-0 fs-4 d-block\">{alias?alias:nombre} {`-${numero}-`}</p>\n                <p className=\"text-end pe-1 m-0 border-bottom border-amarillo \">{marca}-{modelo}</p>\n                <p className=\"text-center fs-4 my-4\"><span className=\"text-amarillo me-2 fs-2\"><FaBolt /></span>{consumo} kw/h</p>\n\n            </Col>\n            <Col xs={12} className=\"p-0\">\n                <Row className=\"justify-content-end mx-auto w-100\">\n\n                    <Col xs={4} className=\"d-flex justify-content-center align-items-center\">\n                        Status:\n                         <div className={`bg-${status} my-auto ms-2 rounded-circle border boder-white border-2`} style={{ width: \"20px\", height: \"20px\" }} />\n                    </Col>\n                    <Col as={Button} xs={5} className=\"text-dark bg-warning border border-amarillo\">\n                        Averia\n                    </Col>\n                    <Col as={Button}  className=\"text-amarillo border border-amarillo\">\n                        <FaEdit />\n                    </Col>\n                </Row>\n            </Col>\n        </Row>\n    )\n}\n\nexport default (props) => {\n\n    const { maquinas, disponibles } = useMaquinaria()\n    const { local } = useLocal()\n    const [selected, setSelected] = useState()\n\n    return ( \n        <MainHolder>\n            <div className=\"h-100 w-100 p-0 m-0 bg-oscuro\" >\n\n                <div className=\"d-flex row flex-column py-2 h-100 m-auto align-items-center\" style={{}}>\n\n                    <h5 className=\"text-white  w-100 my-auto ps-3\">Maquinaria {local?.nombre}</h5>\n\n                    <Col xs={12} sm={10} lg={9} className=\"px-lg-5 bg-claro px-0 py-2 my-auto\" style={{ height: \"80%\", overflowY: \"scroll\" }}>\n                        {maquinas && maquinas.map(m => <MaquinaLocal {...m} />)}\n                    </Col>\n\n\n                </div>\n\n                <Row className=\"m-0 px-2 h-75 align-items-start bg-dark\" >\n                    <h5 className=\"p-0 my-auto text-white \">Maquinaria disponible</h5>\n                    <div className=\"d-flex  rounded rounded-5  align-items-center h-75 bg-claro flex-lg-wrap justify-content-lg-evenly\" style={{ overflowX: \"scroll\" }}>\n                        {disponibles && disponibles.map(m =>\n                            <Col xs={8} sm={4} md={3} className=\"shadow rounded ronded-3 h-75 mx-3 position-relative my-lg-4\" >\n                                <p className=\" text-center d-block text-truncate my-auto bg-dark border border-2 border-amarillo text-amarillo\">{m.nombre}</p>\n                                <img src={m.pic} className=\"w-100 h-75 bg-oscuro p-2\" />\n                                <Button variant=\"warning w-100 position-absolute border border-2 border-amarillo \" style={{ bottom: \"0\", left: \"0\" }} onClick={() => setSelected(m)}>Seleccionar</Button>\n                            </Col>\n                        )}\n                    </div>\n\n                </Row>\n                {selected && <FormularioMaquina selected={selected} />}\n            </div>\n\n        </MainHolder>\n    )\n}","import reactDom from \"react-dom\";\nimport React from 'react'\nimport MainHolder from \"../components/common/MainHolder\";\nimport { Row, Form, Col, Button } from \"react-bootstrap\";\n\nimport moment from 'moment';\n\n\n\nexport default (props) => {\n\n\n    const handleSubmit=(ev)=>{\n        ev.preventDefault()\n        console.log(\"enviando formulario\")\n    }\n\n\n    return (\n        <MainHolder>\n\n            <Form as={Row} className=\"bg-dark text-white mx-auto py-2\" onSubmit={handleSubmit}>\n                <Form.Label as={Col} xs={12} className=\"my-4 ps-2\">\n                    Informacion del trabajador\n                </Form.Label>\n                <Form.Group as={Col} xs={12}>\n                    <Form.Label >\n                        Correo usuario\n                    </Form.Label>\n                    <Form.Control />\n                </Form.Group>\n                <Form.Group as={Col} xs={12}>\n                    <Form.Label >\n                        Nombre\n                    </Form.Label>\n                    <Form.Control />\n                </Form.Group>\n\n                <Form.Label as={Col} xs={12} className=\"ps-2 my-4\">\n                    Contrato del trabajador\n                </Form.Label>\n                <Form.Group>\n                    <div  className=\"mb-3 d-flex justify-content-center\">\n                        <Form.Check type=\"checkbox\">\n                            <Form.Check.Input type=\"checkbox\"/>\n                            <Form.Check.Label className=\"ms-2\">Trabajador indefinido</Form.Check.Label>\n                            \n                        </Form.Check>\n                    </div>\n                \n                </Form.Group>\n\n                <Form.Group as={Col} xs={12}>\n                    <Form.Label >\n                        Inicio contrato\n                    </Form.Label>\n                    <Form.Control type=\"date\" />\n                </Form.Group>\n\n                <Form.Group as={Col} xs={12}>\n                    <Form.Label >\n                        Fin contrato\n                    </Form.Label>\n                    <Form.Control type=\"date\" />\n                </Form.Group>\n\n                <Form.Group as={Col} xs={12}>\n                    <Form.Label >\n                        Horas de trabajo\n                    </Form.Label>\n                    <Form.Control type=\"number\" />\n                </Form.Group>\n                <Form.Group as={Col} xs={6}>\n                    <Form.Label >\n                        Dias laborables\n                    </Form.Label>\n                    <Form.Control type=\"number\" defaultValue={5}/>\n                </Form.Group>\n                <Form.Group as={Col} xs={6}>\n                    <Form.Label >\n                        Dias descanso\n                    </Form.Label>\n                    <Form.Control type=\"number\" defaultValue={2}/>\n                </Form.Group>\n                <Form.Group as={Col} xs={12}>\n                    <Form.Label >\n                        Duracion vacaciones (dias)\n                    </Form.Label>\n                    <Form.Control type=\"number\" defaultValue={30}/>\n                </Form.Group>\n\n                <Form.Group as={Col} xs={12}>\n                    <Form.Label >\n                        Sueldo ()\n                    </Form.Label>\n                    <Form.Control type=\"number\" />\n                </Form.Group>\n\n                <Form.Group as={Col} xs={12}>\n                    <Form.Label >\n                        Seguros sociales ()\n                    </Form.Label>\n                    <Form.Control type=\"number\" />\n                </Form.Group>\n                <Button  className=\"w-100 mt-2 bg-success\" type=\"submit\" value=\"tu_culo\">Iniciar sesion</Button>\n\n\n            </Form>\n        </MainHolder>\n    )\n}","import React, { useEffect, useState } from 'react'\nimport { FaPython } from 'react-icons/fa'\nimport { database } from '../firebase'\nimport { useCompis } from './CompisContext'\nimport moment from 'moment'\n\nconst generaSemana = (i, trabajadores, tramos) => {\n\n\n    const inicio = i.clone().startOf('day')\n\n    let dias = []\n    for (let c = 0; c != 7; c++) {\n        const ni = inicio.clone().add(\"days\", c)\n        const nombre= ni.format(\"dddd\")\n        const abbr=nombre===\"mircoles\"?'x':nombre.charAt(0)\n      \n        dias.push({\n            i: ni,\n            nombre,\n            abbr,\n            trabajadores,\n            errores: [],\n            horas: 0,\n            tramos: generaTramos(ni, tramos)\n        })\n    }\n    return { horas: 0, dias, errores: [] }\n}\n\nconst generaTramos = (inicio, tramos) => {\n    let momentedTramos=[]\n\n    if (tramos) {\n        const inicioTramoM = moment(inicio.format(\"YYYY-MM-DD\") + \" \" + tramos[0].i)\n        const finTramoM = moment(inicio.format(\"YYYY-MM-DD\") + \" \" + tramos[0].f)\n        const diffM = finTramoM.diff(inicioTramoM, \"minutes\")\n        const tramoM={i:inicioTramoM,f:finTramoM,abbr:\"M\"}\n\n        const inicioTramoN = moment(inicio.format(\"YYYY-MM-DD\") + \" \" + tramos[1].i)\n        const finTramoN = moment(inicio.format(\"YYYY-MM-DD\") + \" \" + tramos[1].f)\n        const diffN = finTramoN.diff(inicioTramoN, \"minutes\")\n        const tramoN={i:inicioTramoN,f:finTramoN,abbr:\"N\"}\n\n       momentedTramos=[tramoM,tramoN]\n\n    }\n\n\n\n\n    return momentedTramos\n\n}\n\n\nexport const HorarioEditorContext = React.createContext();\n\n\n\n\nexport function useHorarioEditorContext() {\n    return React.useContext(HorarioEditorContext)\n}\n\nexport function HorarioEditorProvider(props) {\n    const { children, i, t } = props\n    const { compis } = useCompis()\n    const [incio, setInicio] = useState(i)\n\n    const [semana, setSemana] = useState(generaSemana(i, compis, t))\n    const [semanaAnterior, setSemanaAnterior] = useState(generaSemana(i.clone().add(\"days\", 7), compis))\n    const [tramoHorario, setTramoHorario] = useState()\n\n    useEffect(() => {\n        //console.log(compis)\n        compis && setInicio(generaSemana(i, compis))\n    }, [compis])\n\n    useEffect(() => {\n        console.log(\"tramo horario \" + tramoHorario?.i.format(\"(dddd) DD-MM-YYYY HH:mm\")+\" a \"+tramoHorario?.f.format(\"HH:mm\") || \"vacio\")\n    }, [tramoHorario])\n\n    const value = {\n        incio,\n        semana,\n        semanaAnterior,\n        tramoHorario,\n        setTramoHorario\n\n    }\n\n\n    return (\n        <HorarioEditorContext.Provider value={value}>\n\n            {children}\n\n        </HorarioEditorContext.Provider>\n    )\n}","import React from \"react\";\nimport { Col } from 'react-bootstrap'\n\nexport default (props) => {\n    const {children,active,expanded,hidden}=props\n        \n        return (\n            <Col xs={active?2:true} className=\"text-white p-0 d-flex justify-content-center align-items-center position-relative shadow border\" style={{display:hidden?\"none\":\"flex\", maxHeight: \"100%\", overflowY: \"hidden\" }}>\n\n                {children}\n            </Col>\n        )\n    \n}","import React, { useState } from \"react\";\nimport { Col, Row } from \"react-bootstrap\";\nimport { useHorarioEditorContext } from \"../../contexts/HorarioEditorContext\";\nimport DiaBarraaHolder from \"./DiaBarraaHolder\";\n\n\nconst SemanaInactiva = (props) => {\n    const {semanaAnterior}=props\n    return (\n        <>\n            <div className=\"h-50 \">\n                <Row className=\"text-white p-0 m-0 h-100 w-100\">\n                    <DiaBarraaHolder>M</DiaBarraaHolder>\n                    {semanaAnterior.dias.map((d) =>\n                        <DiaBarraaHolder>\n                            {d.trabajadores?.length || 0}\n                        </DiaBarraaHolder>\n                    )}\n                </Row>\n            </div>\n            <div className=\"h-50\">\n                <Row className=\"text-white p-0 m-0 h-100 w-100\">\n                    <DiaBarraaHolder>N</DiaBarraaHolder>\n                    {semanaAnterior.dias.map((d) =>\n                        <DiaBarraaHolder>\n                            {d.trabajadores?.length || 0}\n                        </DiaBarraaHolder>\n                    )}\n                </Row>\n\n            </div>\n        </>\n    )\n}\n\nconst SemanaActiva=(props)=>{\n    const {tramo}=props\n    const tramoPasado={i:tramo.i.subtract(\"days\",7),f:tramo.f.subtract(\"days\",7)}\n    return (\n        <Row>\n            <Col xs={12}>\n            <p className=\"text-white w-100 m-0 bg-info ps-2 text-capitalize\">\n                {tramoPasado.i.format(\"dddd [pasado] HH:mm - \"+tramoPasado.f.format(\"HH:mm\"))}\n            </p>\n            </Col>\n        </Row>\n    )\n}\n\n\nexport default () => {\n\n    const { semanaAnterior, tramoHorario } = useHorarioEditorContext()\n\n\n    return (\n        <div className=\"bg-dark w-100 mx-auto m-0 p-0\" style={{ height: \"20%\" }}>\n            {tramoHorario?<SemanaActiva tramo={tramoHorario}/>:<SemanaInactiva semanaAnterior={semanaAnterior}/>}\n        </div>\n    )\n}","import React, { useRef, useState } from 'react'\nimport { Button, Col, Form, Row } from 'react-bootstrap'\nimport { FaEuroSign, FaMoon, FaSun, FaUsers } from 'react-icons/fa'\nimport { useAuth } from '../../contexts/AuthContext'\nimport moment from 'moment'\nimport { HorarioEditorProvider, useHorarioEditorContext } from '../../contexts/HorarioEditorContext'\nimport { useCompis } from '../../contexts/CompisContext'\nimport SemanaPasada from './SemanaPasada'\nimport DiaBarraaHolder from './DiaBarraaHolder'\n\n\nlet primerLunesDelMes = moment().year(2020).month(10).date(1).day(8);\nif (primerLunesDelMes.date() > 7)\n    primerLunesDelMes.day(-6);\n\nconst Trabajador = (props) => {\n    const { pic_url } = props\n    return (\n        <Col xs={12} sm={10} lg={8} as={\"img\"} src={pic_url} className=\"shadow rounded-circle  border border-2 border-white mx-auto d-block my-2\"\n            style={{ maxHeight: \"100px\", maxwidth: \"100px\" }} />\n    )\n}\n\nconst DiaHolder = (props) => {\n\n    const { children } = props\n    const { setTramoHorario } = useHorarioEditorContext()\n    const { nombre, abbr, horas, trabajadores, tramos, tr_index, active } = props\n\n    const length = trabajadores ? trabajadores.length : 0\n\n\n\n    const handleSelecction = () => {\n        console.log(abbr)\n        setTramoHorario({ ...tramos[tr_index], dia_abbr: abbr })\n\n    }\n\n\n\n\n    return (\n        <Col xs={active ? 9 : true}\n            className=\"text-white p-0 d-flex justify-content-center align-items-start  h-100 position-relative border\"\n            style={{ overflowY: length > 0 ? \"scroll\" : \"hidden\" }}\n\n        >\n\n            <div className=\"py-2 d-block  h-100 p-0 mt-4\" onClick={handleSelecction} >\n                <div className={`p-0 w-100 text-center border-bottom border-start border-white shadow fs-6  ${length === 0 && \"h-100\"}`} style={{ position: \"absolute\", top: \"0\", left: \"0\" }}  >\n\n                    <span className=\"d-block bg-oscuro text-warning\">3500</span>\n                    <span className=\"d-block bg-info\">{length}/11</span>\n                </div>\n\n                {children}\n            </div>\n\n        </Col>\n    )\n}\n\nconst SemanaActiva = (props) => {\n    const { semana, turnoAbr } = props\n    return (\n        semana?.dias.map(d =>\n            <DiaHolder {...d} tr_index={turnoAbr === \"M\" ? 0 : 1}>\n                {d.trabajadores?.map(t =>\n                    <Trabajador {...t} />\n                )}\n\n\n\n            </DiaHolder>\n        )\n    )\n}\n\n\nconst TrabajadorTriada = (props) => {\n    const { pic_url } = props\n    return (\n        <Row className=\"bg-success mx-auto p-0 border my-2\" style={{ height: \"70px\" }}>\n            <Col xs={2} className=\"d-flex align-items-center p-0 h-100 bg-info\">\n                <div className=\"w-100 h-100 mx-auto my-auto d-flex\" style={{ overflowX: \"hidden\" }}>\n\n                    <img src={pic_url} className=\"mx-auto my-auto\" style={{ width: \"100%\", maxWidth: \"64px\", height: \"100%\", maxHeight: \"64px\" }} />\n                </div>\n            </Col>\n            <Col xs={10} className=\"p-0 h-100 bg-dark\">\n                <Row className=\"bg-info mx-auto p-0 h-100 w-100\">\n\n                    <Col xs={2} className=\"d-flex align-items-center justify-content-center h-100\">\n                        ant\n                    </Col>\n                    <Col className=\"d-flex m-0 p-0 align-items-center justify-content-center bg-white h-100\">\n                        <Row className=\"p-0 w-100 bg-dark h-100 align-items-center\" >\n                            <Col xs={5} className=\"p-0\">\n                               \n                               <input type=\"time\" className=\"w-100 p-0 d-flex justify-content-center\"/>\n                            </Col>\n                            <Col xs={5} className=\"p-0\">\n                               \n                               <input type=\"time\" className=\"w-100\"/>\n                            </Col>\n                            <Col xs={2} className=\"d-flex m-0 align-items-center justify-content-center text-white fs-6\">\n                                7.5\n                            </Col>\n                            \n\n                        </Row>\n                    </Col>\n                    <Col xs={2} className=\"d-flex align-items-center justify-content-center h-100\">\n                        sig\n                    </Col>\n\n                </Row>\n\n\n\n            </Col>\n        </Row>\n    )\n}\n\nconst DiaActivo = (props) => {\n\n    const { compis } = useCompis()\n\n    return <div className=\"mx-auto h-100 w-100 p-0\" style={{ overflowY: \"scroll\" }}>\n\n        {compis?.map(c =>\n            <TrabajadorTriada {...c} />\n        )}\n\n{compis?.map(c =>\n            <TrabajadorTriada {...c} />\n        )}\n\n{compis?.map(c =>\n            <TrabajadorTriada {...c} />\n        )}\n\n{compis?.map(c =>\n            <TrabajadorTriada {...c} />\n        )}\n\n{compis?.map(c =>\n            <TrabajadorTriada {...c} />\n        )}\n\n    </div>\n}\n\n\n\nconst SemanaHolder = (props) => {\n\n    const { turnoAbr, handleTramoHorario } = props\n    const { userAPI } = useAuth()\n    const { semana, tramoHorario } = useHorarioEditorContext()\n\n\n\n    return (\n        <Row className=\"mx-auto h-100\">\n\n            {!tramoHorario &&\n\n                <DiaBarraaHolder>\n                    <div className={`p-0 w-100 text-center border-top border-white shadow fs-6 `} style={{ position: \"absolute\", top: \"0\", left: \"0\" }}  >\n\n                        <span className=\"d-block bg-oscuro text-warning\"><FaEuroSign /></span>\n                        <span className=\"d-block bg-info\"><FaUsers /></span>\n                    </div>\n                    {turnoAbr}\n                </DiaBarraaHolder>\n            }\n\n\n            {tramoHorario ? <DiaActivo /> : <SemanaActiva semana={semana} turnoAbr={turnoAbr} />}\n        </Row >\n    )\n\n\n}\n\n\n\nconst BarraDias = (props) => {\n\n\n    const { tramoHorario, setTramoHorario } = useHorarioEditorContext()\n\n    return (\n        <Row className=\"bg-info text-white p-0 m-0\" style={{ height: \"5%\" }}>\n            <DiaBarraaHolder active={tramoHorario ? true : false}>\n                {!tramoHorario ? <><FaSun />-<FaMoon /></> : <FaUsers />}\n            </DiaBarraaHolder>\n            {!tramoHorario && <>\n                <DiaBarraaHolder >L</DiaBarraaHolder>\n                <DiaBarraaHolder >M</DiaBarraaHolder>\n                <DiaBarraaHolder >X</DiaBarraaHolder>\n                <DiaBarraaHolder >J</DiaBarraaHolder>\n                <DiaBarraaHolder >V</DiaBarraaHolder>\n                <DiaBarraaHolder >S</DiaBarraaHolder>\n                <DiaBarraaHolder >D</DiaBarraaHolder>\n            </>\n            }\n            {\n                tramoHorario &&\n                <Col xs={10} className=\"h-100 bg-dark p-0 \">\n                    <Row className=\"h-100 w-100 mx-auto\">\n                        <Col xs={2} className=\"justify-content-center d-flex align-items-center h-100\">\n                            ant\n                        </Col>\n                        <DiaBarraaHolder >\n                            <div className=\"w-100 h-100 m-0 p-0 d-flex align-items-center justify-content-center\" onClick={() => { setTramoHorario(null) }}>\n                                {tramoHorario.dia_abbr.toUpperCase()}\n                            </div>\n                        </DiaBarraaHolder>\n                        <Col xs={2} className=\"justify-content-center d-flex align-items-center h-100\">\n                            sig\n                        </Col>\n\n                    </Row>\n\n                </Col>\n\n\n            }\n\n        </Row>\n    )\n}\n\n\nconst Horario = (props) => {\n    const { tramoHorario } = useHorarioEditorContext()\n    return (\n        <div className=\"w-100 m-0 p-0\" style={{ height: \"65%\" }}>\n            {!tramoHorario &&\n                <>\n                    <div className=\"bg-claro-oscuro h-50 p-0 mx-auto w-100\">\n                        <SemanaHolder turnoAbr=\"M\" />\n                    </div>\n                    <div className=\"bg-oscuro h-50\">\n                        <SemanaHolder turnoAbr=\"N\" />\n                    </div>\n                </>\n            }\n            {tramoHorario && <SemanaHolder turnoAbr={tramoHorario.abbr} />}\n        </div>)\n}\n\n\nexport default (props) => {\n    const semanaPasada = useRef()\n    const apertura = \"09:30\"\n    const cambioTurno = \"17:00\"\n    const cierre = \"00:00\"\n    const { compis } = useCompis()\n    const t = [{ i: apertura, f: cambioTurno }, { i: cambioTurno, f: cierre }]\n    return (\n        <HorarioEditorProvider i={primerLunesDelMes} t={t}>\n            <div className=\"vh-100 vw-100 bg-info p-0 m-0\">\n                <SemanaPasada ref={semanaPasada} />\n                <BarraDias />\n                <Horario />\n                <div className=\"bg-dark w-100 mx-auto m-0 p-0 \" style={{ height: \"10%\", overflowX: \"hidden\" }}>\n                    <Row className=\"h-100  m-0 py-1 mx-auto bg-warning  px-1\" >\n                        <div className=\"h-100 bg-info d-flex \" style={{ overflowX: \"scroll\" }} >\n                            {compis?.map(c =>\n                                <Col className=\"h-100 bg-info d-flex justify-content-center align-items-center mx-2 bg-dark\">\n                                    <img src={c.pic_url} className=\"rounded-circle border border-2 border-white \" style={{ height: \"100%\", width: \"auto\" }} />\n\n                                </Col>\n                            )}\n\n                        </div>\n\n\n                    </Row>\n\n                </div>\n            </div>\n        </HorarioEditorProvider>\n\n    )\n}","import './bootstrap.min.css';\nimport './App.css';\nimport { AuthProvider } from './contexts/AuthContext';\nimport { ProductoProvider } from './contexts/ProductoContext';\n\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\n\nimport MainApp from './components/MainApp'\nimport ProductoIndex from './components/ProductoIndex'\n\nimport createHistory from 'history/createBrowserHistory';\nimport Login from './components/common/Login'\nimport Operativa from './components/Operativa'\nimport ProductoEditor from './components/superAdmin/ProductoEditor'\nimport ProductoCreator from './components/superAdmin/ProductoCreator'\nimport { LocalProvider } from './contexts/LocalContext';\nimport LocalSelector from './components/common/LocalSelector';\nimport NotFoundPage from './components/common/NotFoundPage'\nimport Messenger from './components/common/Messenger'\nimport AlarmSender from './components/common/AlarmSender';\nimport MaquinariaCreator from './components/superAdmin/MaquinariaCreator';\nimport { MaquinariaProvider } from './contexts/MaquinariaContext';\nimport PlantillaCreator from './admin/PlantillaCreator';\nimport HorarioCreator from './admin/horario/HorarioCreator';\n\nconst history = createHistory();\nfunction App() {\n\n\n  return (\n    <>\n      <Router history={history}>\n\n        <ProductoProvider>\n\n          <AuthProvider>\n\n            \n\n              <LocalProvider>\n\n                <Switch>\n\n                  <Route exact path=\"/\" component={MainApp} />\n                  <Route exact path=\"/login\" component={Login} />\n                  <Route exact path=\"/local/selector\" component={LocalSelector} />\n                  <Route exact path=\"/local/mensajes/\" component={Messenger} />\n                  <Route path=\"/local/alarmas/:topic/:ref\" component={AlarmSender} />\n                  <Route exact path=\"/plantilla/nuevo/\" component={PlantillaCreator}/>\n                  <Route exact path=\"/productos\" component={ProductoIndex} />\n                  <Route exact path=\"/productos/nuevo\" component={ProductoCreator} />\n                  <Route path=\"/productos/editar/:id\" component={ProductoEditor} />\n                  <Route exact path=\"/maquinaria/nuevo\" component={MaquinariaCreator} />\n                  <Route exact path=\"/horarios/nuevo\" component={HorarioCreator}/>\n                  <Route exatt path=\"/operativa\" component={Operativa} />\n                  <Route path=\"*\" component={NotFoundPage} />\n\n                </Switch>\n\n              </LocalProvider>\n\n           \n\n          </AuthProvider>\n\n        </ProductoProvider>\n\n      </Router>\n\n    </>\n\n\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}