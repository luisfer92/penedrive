(this["webpackJsonprerovaji-control"]=this["webpackJsonprerovaji-control"]||[]).push([[0],{126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},134:function(e,t,a){var c={"./cafetera.webp":135,"./camara.webp":136,"./expositor.webp":137,"./exprimidora.webp":138,"./freidora.webp":139,"./grifo.webp":140,"./heladera.webp":141,"./hielo.webp":142,"./horno.webp":143,"./impresora.webp":144,"./kds.webp":145,"./lavavajillas.webp":146,"./maria.webp":147,"./mesa.webp":148,"./microondas.webp":149,"./tpv.webp":150};function s(e){var t=r(e);return a(t)}function r(e){if(!a.o(c,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return c[e]}s.keys=function(){return Object.keys(c)},s.resolve=r,e.exports=s,s.id=134},135:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/cafetera.67ab1e7c.webp"},136:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/camara.edc67465.webp"},137:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/expositor.c372634b.webp"},138:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/exprimidora.6fc8d82d.webp"},139:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/freidora.48d017bc.webp"},140:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/grifo.fcab3c7b.webp"},141:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/heladera.d1cb0178.webp"},142:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/hielo.7d8860e9.webp"},143:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/horno.215bc88e.webp"},144:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/impresora.bf2b38b9.webp"},145:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/kds.84a69c03.webp"},146:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/lavavajillas.043e263d.webp"},147:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/maria.e457ae01.webp"},148:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/mesa.f5bf8391.webp"},149:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/microondas.a64a7e3f.webp"},150:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/tpv.91cb0b04.webp"},182:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),r=a(36),n=a.n(r),o=(a(126),a(127),a(128),a(4)),i=a(3),l=a(62),d=(a(129),a(109),a(183),l.a.initializeApp({apiKey:"AIzaSyBukkU97B7vluXcCqGBDJkUyI8lDChx4ZY",authDomain:"rerovaji-inventario.firebaseapp.com",databaseURL:"https://rerovaji-inventario-default-rtdb.europe-west1.firebasedatabase.app",projectId:"rerovaji-inventario",storageBucket:"rerovaji-inventario.appspot.com",messagingSenderId:"876754150010",appId:"1:876754150010:web:48e84f26a17f6ed7b411c3",measurementId:"G-SHD718HJGH"})),j=d,b=d.auth(),u=d.firestore(),m=d.storage(),x=a(0),h=s.a.createContext();function O(){return s.a.useContext(h)}function f(e){var t=e.children,a=s.a.useState(),c=Object(o.a)(a,2),r=c[0],n=c[1],l=s.a.useState(),d=Object(o.a)(l,2),j=d[0],b=d[1],m={productos:r,categorias:j,loadProductoContext:function(){u.collection("productos").get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(i.a)({id:e.id},e.data()))})),n(t)})).catch((function(e){console.log(e)})),u.collection("categorias_producto").get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(i.a)({id:e.id},e.data()))})),b(t)}))},upgradeProducto:function(e,t,a){console.log(e),u.collection("productos").doc(e).update(t).then((function(){console.log("exito?");var c=r.map((function(c){var s=c.id==e;return t=a?{categoria_id:void 0}:t,s?Object.assign({},c,t):c}));n(c)}))},upgradeProductoBulk:function(e,t,a){var c=u.batch(),s=[];e.forEach((function(n){var o=u.collection("productos").doc(n);c.update(o,t),t=a?{categoria_id:void 0}:t;var i=r.find((function(t){return t.id==e}));i=Object.assign({},i,t),s.push(i)})),c.commit().then((function(){var e=r.map((function(e){var t=s.find((function(t){return t.id===e.id}));return t&&console.log(s),t||e}));n(e)}))}};return Object(x.jsx)(h.Provider,{value:m,children:t})}var p=s.a.createContext();function g(){return s.a.useContext(p)}function v(e){var t=e.children,a=s.a.useState(b.currentUser),r=Object(o.a)(a,2),n=r[0],i=r[1],l=s.a.useState(!1),d=Object(o.a)(l,2),h=d[0],f=d[1],g=s.a.useState(!0),v=Object(o.a)(g,2),w=v[0],N=v[1],y=O().loadProductoContext,A=s.a.useState(),C=Object(o.a)(A,2),k=C[0],P=C[1],S={currentUser:n,userAPI:k,loggedOut:h,loading:w,login:function(e,t){return b.setPersistence("local").then((function(){return N(!0),j.auth().signInWithEmailAndPassword(e,t)})).catch((function(e){var t=e.code,a=e.message;console.log("error:".concat(t," \n ").concat(a))}))},logout:function(){return f(!0),b.signOut()},loadUserData:D};function D(e){var t=e.uid;u.collection("usuarios").doc(t).get().then((function(e){var a=e.data();e.exists&&m.ref("fotos_perfil/"+t+".png").getDownloadURL().then((function(e){return P(Object.assign({},a,{id:t,profileUrl:e}))}))}))}return Object(c.useEffect)((function(){return b.onAuthStateChanged((function(e){i(e),e&&D(e),e&&y()}))}),[]),Object(c.useEffect)((function(){n&&N(!1),console.log(k)}),[n]),Object(x.jsx)(p.Provider,{value:S,children:t})}var w=a(20),N=a(19),y=a(68),A=a.n(y),C=a(79),k=a(190),P=a(112),S=a(198),D="data:image/png;base64,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DH2Is7PGYXbWP1emdA64YOqxo98+AMfA4JjK7Snlgn+7sO6p/FGPBh1+kqZRyby+l3K5WOwoqMbHu84JrgjWtQj/E8VQMdWXNx5G7k0xuO97EzEpOWLUK4kr5NKAPy06U9nhccpgvZdPTAI1bdPS50DB6SZsO1CFti5+FrXmQ1AEABi6Jzh2rhXHzrUi0qDG7Kx4zMmJw4SEsKB5AvT3ohqgKNCt8A2WHbrGP13ZjsIzzThb3RGUla2DJgCX6jDb8NXBSnx1sBIqpQzJ40KRGheK8XEGJEXrYAhVwRCiGtXEDnI1N8uip9eJbottaIi01Y6GFgtqmntQ09wTNJNeRhKUAbiU3TGI8loTymtNl73OMEBYiBJhOhX0WiXUKhmkDAOFXAqFXAIJI4FGxc+f38PDDff6z0ugVPDTXpfb/d1Ts377AFgWcDgH0dPnvGFW6LyeoA/A9bAsYLY6OA/YEjq+FogQO8F2hBHiDxQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiahQAImoUACJqFAAiarIrXzCGqgPRDkJ4d61zm6n5+nk2AG0hRBDoEoiIGgWAiBoFgIja/wPz1pu8ef/59wAAAABJRU5ErkJggg==",H=a(13),G=a(78);var I=function(e){var t={};return e.keys().forEach((function(a,c){t[a.replace("./","").replace(".webp","")]=e(a)})),t}(a(134)),M=[{nombre:"cafetera",pic:I.cafetera.default},{nombre:"camara",pic:I.camara.default},{nombre:"expositor",pic:I.expositor.default},{nombre:"exprimidora",pic:I.exprimidora.default},{nombre:"freidora",pic:I.freidora.default},{nombre:"grifo cerveza",pic:I.grifo.default},{nombre:"heladera",pic:I.heladera.default},{nombre:"maquina hielo",pic:I.hielo.default},{nombre:"horno",pic:I.horno.default},{nombre:"impresora red",pic:I.impresora.default},{nombre:"pantalla pedidos",pic:I.kds.default},{nombre:"lavavajillas",pic:I.lavavajillas.default},{nombre:"ba\xf1o maria",pic:I.maria.default},{nombre:"mesa fria",pic:I.mesa.default},{nombre:"microondas",pic:I.microondas.default},{nombre:"tpv",pic:I.tpv.default}],F=s.a.createContext();function E(){return s.a.useContext(F)}function L(e){var t=e.children,a=U().local,s=Object(c.useState)(),r=Object(o.a)(s,2),n=r[0],l=r[1],d=Object(c.useState)(),j=Object(o.a)(d,2),b=j[0],m=j[1];console.log(a),Object(c.useEffect)((function(){if(a){var e=u.collection("locales").doc(a.id).collection("maquinaria");m(e)}}),[a]),Object(c.useEffect)((function(){if(b){var e=[];console.log("carga inicial"),b.orderBy("nombre").onSnapshot((function(t){t.forEach((function(t){var a,c=t.data();console.log("cambio detectado");var s=Object.assign({},c,{pic:null===(a=M.find((function(e){return e.nombre==c.nombre})))||void 0===a?void 0:a.pic});console.log(s),e.push(Object(i.a)({id:t.id},s))})),l(e)}))}return null}),[b,l]);var h={maquinas:n,createMaquina:function(e){b.add(e).then((function(e){console.log("lo subii")}))},disponibles:M};return Object(x.jsx)(F.Provider,{value:h,children:t})}var Y=s.a.createContext();function B(e){var t=e.children,a=U().local,s=Object(c.useState)(),r=Object(o.a)(s,2),n=r[0],l=r[1],d=Object(c.useState)(),j=Object(o.a)(d,2),b=j[0],m=j[1];Object(c.useEffect)((function(){if(a){var e=u.collection("locales").doc(a.id).collection("tecnicos");m(e)}}),[a]),Object(c.useEffect)((function(){if(b){var e=[];console.log("carga inicial trabajadores"),b.orderBy("nombre").onSnapshot((function(t){t.forEach((function(t){e.push(Object(i.a)({id:t.id},t.data()))})),l(e)}))}return null}),[b,l]);var h={tecnicos:n,createTecnico:function(e){b.add(e).then((function(e){console.log("lo subii")}))}};return Object(x.jsx)(Y.Provider,{value:h,children:t})}var R=s.a.createContext();var z=s.a.createContext();function V(e){var t=e.children,a=U().local,s=Object(c.useState)(),r=Object(o.a)(s,2),n=r[0],l=r[1],d=Object(c.useState)(),j=Object(o.a)(d,2),b=j[0],m=j[1];console.log(a),Object(c.useEffect)((function(){if(a){var e=u.collection("locales").doc(a.id).collection("plantilla");m(e)}}),[a]),Object(c.useEffect)((function(){if(b){var e=[];console.log("carga inicial trabajadores"),b.orderBy("nombre").onSnapshot((function(t){t.forEach((function(t){e.push(Object(i.a)({id:t.id},t.data()))})),l(e)}))}return null}),[b,l]);var h={trabajadores:n,createTrabajador:function(e){b.add(e).then((function(e){console.log("lo subii")}))}};return Object(x.jsx)(z.Provider,{value:h,children:Object(x.jsx)(R.Provider,{children:t})})}var q=s.a.createContext();function U(){return s.a.useContext(q)}function X(e){var t=e.children,a=g().userAPI,r=s.a.useState(),n=Object(o.a)(r,2),l=n[0],d=n[1],j=s.a.useState(null),b=Object(o.a)(j,2),m=b[0],h=b[1],O=s.a.useState(),f=Object(o.a)(O,2),p=(f[0],f[1],{local:m,locales:l,abandonarLocal:function(){h(null)},setLocal:h,setLocales:d});return Object(c.useEffect)((function(){var e=null;return m&&(e=u.collection("locales").doc(m.id).onSnapshot((function(e){h(Object(i.a)({id:e.id},e.data()))}))),e?function(){return e()}:null}),[h]),Object(c.useEffect)((function(){if(a){var e=[];u.collection("locales").where("allowed_users","array-contains",a.correo).get().then((function(t){t.forEach((function(t){e.push(Object(i.a)({id:t.id},t.data()))}));var a=e.length;console.log(a),d(e),1==a&&h(e[0])}))}}),[a]),Object(x.jsx)(q.Provider,{value:p,children:Object(x.jsx)(B,{children:Object(x.jsx)(L,{children:Object(x.jsx)(Q,{children:Object(x.jsx)(V,{children:Object(x.jsx)($,{children:t})})})})})})}var T=s.a.createContext();function K(){return s.a.useContext(T)}function Q(e){var t=e.children,a=U().local,s=Object(c.useState)(),r=Object(o.a)(s,2),n=r[0],l=r[1];Object(c.useEffect)((function(){a&&console.log("buscando compis"+a.allowed_users);var e=[];a&&u.collection("usuarios").where("correo","in",a.allowed_users).get().then((function(t){t.forEach((function(t){var a=t.id;m.ref("fotos_perfil/".concat(a,".png")).getDownloadURL().then((function(c){var s=Object.assign({},t.data(),{pic_url:c});console.log(s),e.push(Object(i.a)({id:a},s))}))})),console.log("compis encontrados"),console.log(e),l(e)}))}),[l,a]);var d={compis:n};return Object(x.jsx)(T.Provider,{value:d,children:t})}var J=a(30),Z=a.n(J);a(152);Z.a.locale("es");var W=s.a.createContext();function _(){return s.a.useContext(W)}function $(e){var t=e.children,a=U().local,s=g().userAPI,r=Object(c.useState)(),n=Object(o.a)(r,2),d=(n[0],n[1],Object(c.useState)()),j=Object(o.a)(d,2),b=j[0],m=j[1],h=Object(c.useState)(),O=Object(o.a)(h,2),f=(O[0],O[1]);Object(c.useEffect)((function(){var e=null;return a&&(e=u.collection("locales").doc(a.id).collection("mensajes").orderBy("date").onSnapshot((function(e){var t=[],a=[];e.forEach((function(e){var c=e.id,r=e.data(),n=Z.a.utc(1e3*r.date.seconds),o=Object.assign({},r,{date:n});o.from===s&&a.push(Object(i.a)({id:c},o)),t.push(Object(i.a)({id:c},o))})),m(t),f(a)}))),e?function(){return e()}:null}),[m,a,s]);var p={mensajes:b,sendMensaje:function(e){var t=s.correo,c=l.a.firestore.Timestamp.fromDate(new Date);u.collection("locales").doc(a.id).collection("mensajes").add(Object(i.a)({author:t,date:c},e))}};return Object(x.jsx)(W.Provider,{value:p,children:t})}function ee(e){var t=g().userAPI,a=e.size,c=void 0===a?200:a;return Object(x.jsx)("img",{src:t&&t.profileUrl,className:"rounded-circle shadow border border-3",style:{width:c,height:c}})}var te=[{nombre:"Cambiar local",url:"/local/selector"},{nombre:"Productos",url:"/productos"},{nombre:"Maquinaria",url:"/maquinaria/nuevo"},{nombre:"Horarios",url:"/horarios/nuevo"},{nombre:"Operativa",url:"/operativa"},{nombre:"Plantilla",url:"/plantilla/nuevo"}];function ae(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),a=t[0],s=t[1],r=g(),n=r.logout,i=r.userAPI,l=Object(N.g)().location,d=_().mensajes,j=U().local;function b(){return(b=Object(C.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(k.a,{className:"sticky-top bg-oscuro text-white mx-auto border-bottom border-white border-2 shadow",style:{width:"100%",height:"10vh"},children:[Object(x.jsx)(P.a,{className:"my-auto d-flex justify-content-start p-0 ps-2",children:Object(x.jsxs)(w.b,{to:"/",children:[Object(x.jsx)("img",{alt:"",src:D,width:"30",height:"30",className:"mx-2"})," "]})}),Object(x.jsx)(P.a,{className:"my-auto d-flex justify-content-center",children:null===j||void 0===j?void 0:j.nombre}),Object(x.jsxs)(P.a,{className:"my-auto d-flex justify-content-end pe-3",children:[d&&Object(x.jsxs)(w.b,{to:"/local/mensajes",children:[" ",Object(x.jsx)(H.e,{size:"30",className:" p-1 me-2 text-amarillo"})]}),Object(x.jsx)(H.d,{size:"30",className:"border p-1",onClick:function(){return s(!0)}})]})]}),Object(x.jsxs)(G.a,{show:a,onHide:function(){return s(!1)},className:"bg-claro border-dark vh-100 overflow-hidden",children:[Object(x.jsx)(G.a.Header,{closeButton:!0,closeVariant:"white",className:"bg-dark",children:Object(x.jsx)(G.a.Title,{children:Object(x.jsx)("span",{className:"text-white",children:"MENU"})})}),Object(x.jsxs)(k.a,{className:"shadow-lg py-1 bg-dark rounded-3 justify-content-around mt-2 border border-4 border-white",children:[Object(x.jsx)(P.a,{xs:3,className:"bg-info d-flex p-0 justify-content-center border-right border-info",children:Object(x.jsx)(ee,{size:64})}),Object(x.jsx)(P.a,{className:"align-items-center d-flex bg-warning",children:Object(x.jsx)("p",{className:"text-center text-white w-100 fs-5  my-auto",children:i&&i.correo})})]}),Object(x.jsxs)(G.a.Body,{children:[Object(x.jsx)(k.a,{className:"",children:Object(x.jsx)(S.a,{variant:"flush",className:"w-100 bg-info p-0",style:{minHeight:"80%"},children:te.map((function(e){var t=e.url,a=e.nombre,c=l.pathname===t;return Object(x.jsx)(S.a.Item,{action:!0,as:!c&&w.b,to:t,className:"my-2 ".concat(c&&"active"),children:a})}))})}),Object(x.jsx)(k.a,{children:Object(x.jsxs)(S.a,{variant:"flush",className:" w-100",style:{bottom:"0"},children:[Object(x.jsxs)(S.a.Item,{action:!0,children:[Object(x.jsx)(H.a,{className:"me-2"})," Ajustes"]}),Object(x.jsxs)(S.a.Item,{action:!0,onClick:function(){return b.apply(this,arguments)},children:[Object(x.jsx)(H.c,{className:"me-2"})," Cerrar session"]})]})})]})]})]})}var ce=a(16),se=function(e){var t=e.isAdmin,a=e.isSuperAdmin?Object(x.jsx)(H.j,{}):t?Object(x.jsx)(H.l,{}):Object(x.jsx)(H.k,{});return a};function re(e){var t,a=g().userAPI;return Object(x.jsx)(k.a,{className:"p-2 mx-auto",style:{justifyContent:"center"},children:Object(x.jsxs)(P.a,(t={xs:10,sm:8,md:3,lg:4,className:"bg-oscuro border  py-4 rounded rounded-4 shadow-lg"},Object(ce.a)(t,"md",6),Object(ce.a)(t,"children",[Object(x.jsxs)("div",{className:"d-flex text-white px-2",style:{justifyContent:"space-between"},children:[a&&se(a)," ",Object(x.jsx)(H.n,{})]}),Object(x.jsx)("div",{className:"d-flex justify-content-center",children:Object(x.jsx)(ee,{})}),Object(x.jsx)("h4",{className:"mt-4 text-center text-silver",children:a&&a.nombre})]),t))})}var ne=a(196);function oe(e){var t=e.nombre,a=e.turnos,c=e.libre,s=void 0!==c&&c,r=e.euro,n=s?"bg-verde":"bg-oscuro",o=void 0!==r&&r?"text-warning":s?"text-dark":"text-white";return Object(x.jsx)(P.a,{sm:5,lg:3,xxl:!0,className:"p-3 h-100 ".concat(n," m-2 rounded shadow-lg ").concat(o," mx-xl-2 d-xl-flex align-items-end"),children:Object(x.jsxs)(k.a,{className:" h-100 w-100 mx-auto",children:[Object(x.jsxs)("p",{className:"text-uppercase w-100",children:[t,":"]}),Object(x.jsxs)("div",{className:"d-flex flex-column  py-4  justify-content-center",style:{alignItems:"center"},children:[s&&Object(x.jsx)("p",{className:"text-center ",children:"Libre"}),!s&&Object(x.jsx)("p",{className:"text-center ",children:a[0]}),!s&&2==a.length&&Object(x.jsx)("p",{className:"text-center w-100 ",children:a[1]})]}),Object(x.jsx)("div",{className:"text-dark p-0",style:{width:"100%"},children:Object(x.jsx)(ne.a,{children:Object(x.jsxs)(ne.a.Item,{eventKey:"0",children:[Object(x.jsx)(ne.a.Header,{children:"Compis"}),Object(x.jsxs)(ne.a.Body,{children:[Object(x.jsx)("p",{children:"Compi 1"}),Object(x.jsx)("p",{children:"Compi 1"}),Object(x.jsx)("p",{children:"Compi 1"}),Object(x.jsx)("p",{children:"Compi 1"}),Object(x.jsx)("p",{children:"Compi 1"}),Object(x.jsx)("p",{children:"Compi 1"}),Object(x.jsx)("p",{children:"Compi 1"}),Object(x.jsx)("p",{children:"Compi 1"})]})]})})})]})})}function ie(){return Object(x.jsxs)("div",{className:"w-100 bg-oscuro border pb-2",children:[Object(x.jsx)("h4",{className:"text-white p-4",children:"Horario"}),Object(x.jsx)("div",{className:"d-flex flex-column bg-claro pb-2",style:{borderTopLeftRadius:"25px",borderTopRightRadius:"25px",paddingTop:"30px"},children:Object(x.jsxs)(k.a,{className:"justify-content-around mx-auto w-100",children:[Object(x.jsx)(P.a,{xs:12,children:Object(x.jsxs)(k.a,{className:"justify-content-around px-4",children:[Object(x.jsxs)(P.a,{xs:12,md:4,className:"border py-4 mx-2 my-2 sm-m-0 shadow-sm bg-white",children:[Object(x.jsx)("p",{className:"h5 text-center",children:"Hoy"}),Object(x.jsx)("p",{className:"h5 text-center  ",children:" 17:00 - cierre"})]}),Object(x.jsxs)(P.a,{xs:12,md:4,className:"border py-4 mx-2 my-2 sm-m-0 shadow-sm bg-white",children:[Object(x.jsx)("p",{className:"h5 text-center",children:"Ma\xf1ana"}),Object(x.jsx)("p",{className:"h5 text-center  ",children:" 17:00 - cierre"})]})]})}),Object(x.jsxs)(P.a,{xs:11,children:[Object(x.jsx)("h5",{className:"mt-4 mb-2",children:"Esta semana:"}),Object(x.jsxs)(k.a,{className:"d-flex justify-content-around justify-content-xl-start",xl:7,children:[Object(x.jsx)(oe,{nombre:"lunes",turnos:["17:00 - cierre"]}),Object(x.jsx)(oe,{nombre:"martes",libre:!0}),Object(x.jsx)(oe,{nombre:"miercoles",turnos:["12:30 - 16:00","20:00 - 00:00"],euro:!0}),Object(x.jsx)(oe,{nombre:"jueves",turnos:["17:00 - cierre"]}),Object(x.jsx)(oe,{nombre:"viernes",turnos:["17:00 - cierre"]}),Object(x.jsx)(oe,{nombre:"sabado",libre:!0}),Object(x.jsx)(oe,{nombre:"domingo",turnos:["12:30 - 16:00","20:00 - 00:00"],euro:!0})]})]})]})})]})}function le(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(re,{}),Object(x.jsx)(ie,{})]})}var de=a(113),je=a(191),be=function(){var e=Object(c.useState)(),t=Object(o.a)(e,2),a=t[0],s=t[1],r=(g().currentUser,U().local,Object(c.useState)()),n=Object(o.a)(r,2),i=n[0],l=n[1];Object(N.g)();Object(c.useEffect)((function(){return s(setTimeout((function(){l(!0)}),5e3)),clearTimeout(a)}),[]);var d=function(){return Object(x.jsx)(P.a,{xs:12,children:Object(x.jsxs)(k.a,{className:"justify-content-center",children:[Object(x.jsxs)(P.a,{xs:9,className:"text-center my-auto text-danger mb-4 border border-danger py-4",children:[Object(x.jsx)("p",{className:"fs-1 text-danger",children:"Ups algo salio mal"}),"Intenta iniciar sesion manualmente"]}),Object(x.jsx)(P.a,{as:w.b,to:"/login",xs:8,className:"bg-info p-0",children:Object(x.jsx)(de.a,{variant:"danger",className:"w-100",children:"Iniciar sesion"})})]})})},j=function(){return Object(x.jsxs)(k.a,{className:"d-flex justify-content-center align-items-".concat(i?"center":"start pt-5"," fs-1"),children:["Cargando",Object(x.jsx)(je.a,{animation:"grow",variant:"warning",className:"ms-3"})]})};return Object(x.jsxs)("div",{className:"position-absolute bg-oscuro d-flex row text-warning justify-content-center mx-auto m-0 p-0",style:{zIndex:"200",top:"0",width:"100%",height:"100vh"},children:[Object(x.jsx)(P.a,{className:"d-flex justify-content-center align-items-".concat(i?"center":"end"," "),children:Object(x.jsx)("img",{src:D})}),!i&&Object(x.jsx)(j,{}),i&&Object(x.jsx)(d,{})]})};function ue(e){var t=e.children,a=g(),c=a.currentUser,s=a.loading,r=a.userAPI,n=U().local,o=Object(N.g)().location;return console.log(r),Object(x.jsxs)("div",{className:"position-relative vh-100 vw-100 bg-claro-oscuro",style:{overflowY:"scroll"},children:[!c&&!s&&Object(x.jsx)(N.a,{to:{pathname:"/login",state:{prevPath:o.pathname}}}),r&&!n&&Object(x.jsx)(N.a,{to:{pathname:"/local/selector",state:{prevPath:o.pathname}}}),Object(x.jsx)(ae,{}),Object(x.jsx)("div",{className:"main-holder",style:{width:"100%",height:"90vh",margin:"0"},children:t}),s&&Object(x.jsx)(be,{})]})}function me(){g().currentUser,O().productos;return Object(x.jsx)(ue,{children:Object(x.jsx)(le,{})})}var xe=a(195),he=a(194),Oe=a(119);a(56),a(197);var fe=function(e){var t=e.id;return Object(x.jsx)(P.a,{xs:12,children:Object(x.jsxs)(k.a,{className:"bg-warning ",children:[Object(x.jsxs)(P.a,{as:w.b,to:"local/alarmas/productos/".concat(t),className:"rounded border border-white p-2 m-2 shadow-lg fs-5 position-relative bg-oscuro",children:[Object(x.jsx)(H.i,{className:"text-white"}),Object(x.jsx)("span",{class:"badge badge-light position-absolute text-warning",style:{top:"0",right:"0"},children:"4"})]}),Object(x.jsxs)(P.a,{className:"rounded border border-white p-2 m-2 shadow-lg fs-5 position-relative bg-oscuro",children:[Object(x.jsx)(H.h,{}),Object(x.jsx)("span",{class:"badge badge-light position-absolute text-warning",style:{top:"0",right:"0"},children:"4"})]}),Object(x.jsx)(P.a,{className:"rounded border border-white p-2 m-2 shadow-lg fs-5 position-relative bg-oscuro",as:w.b,to:"productos/editar/".concat(t),children:Object(x.jsx)(H.n,{className:"text-white"})})]})})},pe=function(e){var t=e.id,a=O().categorias,s=Object(c.useState)({}),r=Object(o.a)(s,2),n=r[0],i=r[1];Object(c.useEffect)((function(){a&&i(a.find((function(e){return e.id===t})))}),[a]);var l=n.nombre;return Object(x.jsx)(P.a,{xs:12,children:Object(x.jsx)("h4",{className:"text-center w-100 my-auto text-white py-4 mt-2 border-top border-2 border-white",children:l})})},ge=function(e){var t=e.id;return Object(x.jsx)(P.a,{xs:12,className:"text-dark bg-warning py-1 mb-3",children:Object(x.jsxs)(k.a,{className:"d-inline fs-1",children:[Object(x.jsx)("span",{children:Object(x.jsx)(H.p,{})}),Object(x.jsx)("span",{children:t})]})})},ve=function(e){var t=e.precio;return Object(x.jsx)(P.a,{xs:12,className:"text-warning mt-2",children:Object(x.jsxs)("p",{className:"text-center my-auto",children:[Object(x.jsx)("span",{className:"fs-1",children:(Math.round(100*t)/100).toFixed(2)}),Object(x.jsx)("span",{children:Object(x.jsx)(H.o,{})})]})})},we=function(e){var t=e.id,a=e.nombre,c=e.precio,s=e.categoria_id,r=e.expand,n=void 0!==r&&r,o=e.editable,i=void 0!==o&&o;return Object(x.jsx)(P.a,{className:"bg-oscuro text-white my-2  m-sm-2 text-center  shadow-lg rounded rounded-3 ",xs:11,sm:n?12:5,lg:n?12:3,children:Object(x.jsxs)(k.a,{className:"align-items-end h-100",children:[i&&Object(x.jsx)(ge,{id:t}),Object(x.jsx)(P.a,{xs:12,className:"my-2",children:Object(x.jsx)("p",{className:"text-capitalize fs-3 text-center my-auto",children:a})}),i&&Object(x.jsx)(ve,{precio:c}),i&&s&&Object(x.jsx)(pe,{id:s}),!i&&Object(x.jsx)(fe,{id:t})]})})},Ne=function(e){var t=e.categoria,a=e.handleEditar,c=e.productos;return Object(x.jsx)(ne.a,{className:"p-1 acordion-flush my-2",children:Object(x.jsxs)(ne.a.Item,{eventKey:"0",children:[Object(x.jsx)(ne.a.Header,{as:"h5",children:Object(x.jsxs)("span",{className:"text-capitalize",children:[t.nombre," (",c&&c.length,")"]})}),Object(x.jsx)(ne.a.Body,{className:"border border-dark ",children:Object(x.jsxs)(k.a,{className:"d-flex justify-content-center",children:[Object(x.jsx)(P.a,{sm:12,className:"d-xs-flex d-sm-flex d-md-none border p-0 ",children:Object(x.jsx)(de.a,{className:"w-100",variant:"dark",onClick:function(){return a(t)},children:"editar categoria"})}),c&&c.map((function(e){return Object(x.jsx)(we,Object(i.a)({},e))})),Object(x.jsx)(P.a,{sm:12,className:"d-none d-md-flex border p-0",children:Object(x.jsx)(de.a,{className:"w-100",variant:"info",onClick:function(){return a(t)},children:"editar categoria"})})]})})]})})};function ye(e){var t=O(),a=t.categorias,s=t.productos,r=Object(c.useState)(!1),n=Object(o.a)(r,2),i=(n[0],n[1]),l=Object(c.useState)(),d=Object(o.a)(l,2),j=(d[0],d[1]),b=function(e){j(e),i(!0)};return Object(x.jsx)(k.a,{className:"boder bg-oscuro px-0 mt-2 mx-auto",style:{height:"65vh",overflowY:"scroll"},children:a&&a.map((function(e){var t=s.filter((function(t){return t.categoria_id===e.id}));return Object(x.jsx)(P.a,{xs:12,children:Object(x.jsx)(Ne,{handleEditar:b,categoria:e,productos:t})})}))})}var Ae=Array.from(Array(26)).map((function(e,t){return t+65})).map((function(e){return String.fromCharCode(e)}));Ae.splice(15,0,"\xd1");var Ce=function(e){return Ae.filter((function(t){return e.find((function(e){return e.nombre.toUpperCase().startsWith(t)}))}))},ke=function(e,t){return e.filter((function(e){return e.nombre.toUpperCase().startsWith(t)})).sort((function(e,t){return e.nombre>t.nombre?1:t.nombre>e.nombre?-1:0})).map((function(e){return Object(x.jsx)(we,Object(i.a)({},e))}))},Pe=function(e){var t=O().productos,a=Object(c.useState)("A"),s=Object(o.a)(a,2),r=s[0],n=s[1];return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(k.a,{className:" boder bg-oscuro px-0 mt-2 mx-auto ",style:{height:"65vh",overflowY:"scroll"},children:[Object(x.jsx)(P.a,{xs:12,className:"d-lg-none mt-2 bg-oscuro text-warning text-center fs-1 shadow border-bottom border-white",children:r}),Object(x.jsxs)(P.a,{xs:2,lg:12,style:{maxHeight:"100%",overflow:"scroll"},className:"border border-end border-dark border-4",children:[Object(x.jsx)(k.a,{className:"py-lg-2 px-0 px-md-2 justify-content-md-around",children:Ce(t).map((function(e){return e!=r&&Object(x.jsx)(P.a,{xs:12,lg:"auto",onClick:function(){return n(e)},className:"my-2 py-2 text-center mx-lg-2 bg-oscuro px-lg-5 text-warning",children:e})}))}),Object(x.jsx)(P.a,{xs:12,className:"d-none d-lg-block sticky-top mt-2 bg-oscuro text-warning text-center fs-1",children:r})]}),Object(x.jsx)(P.a,{xs:10,lg:12,style:{maxHeight:"",overflow:"auto"},children:Object(x.jsx)(k.a,{className:" justify-content-md-between px-3 px-md-4 bg-claro",children:ke(t,r)})})]})})},Se=function(){var e=O().productos;return Object(x.jsx)(k.a,{className:"justify-content-around",style:{maxHeight:"80vh",overflow:"auto"},children:(window.productos=e,e.sort((function(e,t){return e.precio-t.precio}))).map((function(e){return Object(x.jsx)(we,Object(i.a)({},e))}))})};function De(e){var t=Object(c.useState)([]),a=Object(o.a)(t,2),s=(a[0],a[1],Object(c.useState)(["Categorias"])),r=Object(o.a)(s,2),n=r[0],i=r[1],l=O(),d=l.productos,j=l.categorias;return Object(x.jsxs)(ue,{children:[Object(x.jsxs)("div",{className:"w-100 mx-auto",children:[Object(x.jsx)("h2",{className:"px-2 mt-2 text-white",children:" Productos "}),Object(x.jsxs)(k.a,{className:"mx-auto bg-claro",style:{justifyContent:"space-around"},children:[Object(x.jsxs)(P.a,{xs:5,sm:4,md:2,className:"bg-amarillo rounded shadow pt-1 px-3 pb-2 m-2 text-dark ",children:[Object(x.jsx)("p",{className:"text-end",children:Object(x.jsx)(H.w,{})}),Object(x.jsx)("h4",{className:"text-center",children:"1"}),Object(x.jsx)("p",{className:"text-sm text-center",children:"Prestamos"})]}),Object(x.jsxs)(P.a,{xs:5,sm:4,md:2,className:"bg-azul rounded shadow pt-1 px-3 pb-2 m-2 text-white ",children:[Object(x.jsx)("p",{className:"text-end",children:Object(x.jsx)(H.w,{})}),Object(x.jsx)("h4",{className:"text-white text-center",children:"1"}),Object(x.jsx)("p",{className:"text-sm text-center",children:"Deudas"})]}),Object(x.jsxs)(P.a,{xs:5,sm:4,md:2,className:"bg-dark rounded shadow pt-1 px-3 pb-2 m-2 text-white ",children:[Object(x.jsx)("p",{className:"text-end",children:Object(x.jsx)(H.q,{})}),Object(x.jsx)("h4",{className:"text-white text-center",children:d?d.length:"..."}),Object(x.jsx)("p",{className:"text-sm text-center",children:"Productos"})]}),Object(x.jsxs)(P.a,{as:w.b,to:"/productos/nuevo",xs:5,sm:4,md:2,className:"nounderline bg-dark rounded shadow pt-1 px-3 pb-2 m-2 text-white ",children:[Object(x.jsx)("p",{className:"text-end",children:Object(x.jsx)(H.m,{})}),Object(x.jsx)("h4",{className:"text-white text-center",children:Object(x.jsx)(H.v,{})}),Object(x.jsx)("p",{className:"text-sm text-center",children:"Nuevo"})]})]})]}),Object(x.jsxs)("div",{className:"border-top border-white mx-auto h-100 ",style:{overflowY:"hidden"},children:[Object(x.jsx)(xe.a,{className:"text-white py-3 w-100 d-flex justify-content-center",style:{height:"10%"},children:Object(x.jsx)(Oe.a,{className:"w-75",id:"labelkey-example",labelKey:function(e){return"".concat(e.nombre," ").concat(e.codBarras)},options:[{nombre:"Pan 100M",codBarras:"123456789"},{nombre:"Pan chapata crital",codBarras:"123456789"},{nombre:"Pan cereales",codBarras:"123456789"},{nombre:"Galletas Oreo",codBarras:"123456789"},{nombre:"Mayonesa Prima",codBarras:"123456789"},{nombre:"Salsa cheddar",codBarras:"123456789"}],placeholder:"\xbfNombre del producto?"})}),Object(x.jsxs)("div",{className:" bg-claro pb-2 shadow mx-auto ",style:{borderTopLeftRadius:"25px",borderTopRightRadius:"25px",paddingTop:"30px",maxHeight:"90%"},children:[Object(x.jsxs)(xe.a.Group,{as:k.a,className:"px-2 justify-content-end mx-auto h-25",children:[Object(x.jsx)(xe.a.Label,{as:P.a,className:"text-end h-100 my-auto ",children:"Orden:"}),Object(x.jsxs)(he.a,{as:P.a,className:"col-auto",children:[Object(x.jsx)(he.a.Toggle,{variant:"warning",className:" border border-dark",children:n}),Object(x.jsxs)(he.a.Menu,{children:[Object(x.jsx)(he.a.Item,{onClick:function(){i("Nombre")},children:"Nombre"}),Object(x.jsx)(he.a.Item,{onClick:function(){i("Precio")},children:"Precio"}),Object(x.jsx)(he.a.Item,{onClick:function(){i("Categorias")},children:"Categorias"})]})]})]}),Object(x.jsxs)("div",{className:"h-75 w-100 mx-auto bg-dark",children:[d&&j?"Categorias"==n?Object(x.jsx)(ye,{}):null:Object(x.jsx)("div",{className:"d-flex bg-oscuro justify-content-center align-items-center",style:{minHeight:"33vh"},children:Object(x.jsx)(je.a,{animation:"border",variant:"light"})}),"Nombre"==n?Object(x.jsx)(Pe,{}):null,"Precio"==n?Object(x.jsx)(Se,{}):null]})]})]})]})}var He=a(118),Ge=a.n(He);function Ie(e){var t=Object(c.useRef)(),a=Object(c.useRef)(),s=g(),r=s.login,n=s.currentUser,i=(s.loadUserData,Object(c.useState)("")),l=Object(o.a)(i,2),d=l[0],j=l[1],b=Object(c.useState)(!1),u=Object(o.a)(b,2),m=(u[0],u[1]),h=Object(c.useState)(!1),f=Object(o.a)(h,2),p=f[0],v=f[1];O().loadProductos;function w(){return(w=Object(C.a)(A.a.mark((function e(c){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.prev=1,j(""),v(!0),e.next=6,r(t.current.value,a.current.value);case 6:e.sent?m(!0):j("No se puede iniciar sesion "),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),j("No se puede iniciar sesion con esta cuenta");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}var y=e.location.state&&e.location.state.prevPath,S=y||"/";return Object(x.jsxs)(x.Fragment,{children:[n&&Object(x.jsx)(N.a,{to:S}),Object(x.jsx)(k.a,{className:"bg-oscuro text-white",style:{display:"flex",height:"100vh",justifyContent:"center",alignItems:"center"},children:Object(x.jsxs)(P.a,{xs:11,md:5,lg:2,children:[Object(x.jsx)("img",{className:"mx-auto d-block shadow my-5",src:D,style:{width:"100px"}}),Object(x.jsxs)(xe.a,{className:"mt-3",onSubmit:function(e){return w.apply(this,arguments)},children:[Object(x.jsx)("p",{className:"text-danger text-center",children:d||" "}),Object(x.jsxs)(xe.a.Group,{className:"mb-2",children:[Object(x.jsx)(xe.a.Label,{className:"textoPrimario",children:"Email"}),Object(x.jsx)(xe.a.Control,{type:"email",ref:t,required:!0})]}),Object(x.jsxs)(xe.a.Group,{className:"mb-2",children:[Object(x.jsx)(xe.a.Label,{className:"textoPrimario",children:"Contrase\xf1a"}),Object(x.jsx)(xe.a.Control,{type:"password",ref:a,required:!0,value:"galletita"})]}),Object(x.jsx)(de.a,{disable:p,className:"w-100 mt-2 bg-success",type:"submit",children:"Iniciar sesion"})]})]})})]})}var Me=[{nombre:"Cocina",icono:null,items:[{nombre:"Suelos y sumideros",compi:"luisfer",fecha:"11/11/2020"},{nombre:"Freidoras",compi:"luisfer",fecha:"11/11/2020"},{nombre:"Hornos",compi:"luisfer",fecha:"11/11/2020"},{nombre:"Microondas",compi:"luisfer",fecha:"11/11/2020"},{nombre:"Cortadora jamon",compi:"luisfer",fecha:"11/11/2020"},{nombre:"Tostador Montyroll",compi:"luisfer",fecha:"11/11/2020"},{nombre:"Congeladores",compi:"luisfer",fecha:"11/11/2020"},{nombre:"Refrigeradores",compi:"luisfer",fecha:"11/11/2020"},{nombre:"Mesas frias",compi:"luisfer",fecha:"11/11/2020"},{nombre:"Campana",compi:"luisfer",fecha:"11/11/2020"},{nombre:"Placa induccion",compi:"luisfer",fecha:"11/11/2020"},{nombre:"Fregaderos",compi:"luisfer",fecha:"11/11/2020"},{nombre:"Menaje",compi:"luisfer",fecha:"11/11/2020"}]},{nombre:"Office / Almacen seco",icono:null,items:[{nombre:"Suelos rincones y sumideros",compi:"luisfer",fecha:"11/11/2020"}]},{nombre:"Cuartos basuras / Cubos",icono:null,items:[{nombre:"Suelos rincones y sumideros",compi:"luisfer",fecha:"11/11/2020"}]},{nombre:"Barra",icono:null,items:[{nombre:"Suelos rincones y sumideros",compi:"luisfer",fecha:"11/11/2020"}]},{nombre:"Sala",icono:null,items:[{nombre:"Suelos rincones y sumideros",compi:"luisfer",fecha:"11/11/2020"}]},{nombre:"Terraza",icono:null,items:[{nombre:"Suelos rincones y sumideros",compi:"luisfer",fecha:"11/11/2020"}]},{nombre:"Vestuarios",icono:null,items:[{nombre:"Suelos rincones y sumideros",compi:"luisfer",fecha:"11/11/2020"}]}],Fe=a.p+"static/media/harina.843657ac.png",Ee=[{numero:1,fecha:"11/11/2021",compi:"Fulanito"},{numero:2,fecha:"12/11/2021",compi:"Menganito"},{numero:3,fecha:"13/11/2021",compi:"Alguien"},{numero:4,fecha:"14/11/2021",compi:"ultimo"}],Le={fecha:"11/11/2020",compi:"Luisfer"},Ye=function(e){var t=e.numero,a=e.fecha,c=e.compi;return Object(x.jsxs)(P.a,{className:"bg-dark pb-5 pt-2 m-2 mx-lg-5 rounded border border-5 border-warning position-relative shadow",sm:5,xs:10,md:3,lg:2,children:[Object(x.jsx)("h1",{className:"align-items-center justify-content-center rounded-circle border border-3 border-warning text-white mx-auto my-auto d-flex ",style:{width:"64px",height:"64px"},children:t}),Object(x.jsxs)("p",{className:"mb-0 mt-2",children:["Ultima vez: ",c]}),Object(x.jsx)("p",{className:"text-center",children:a}),Object(x.jsx)(de.a,{className:"w-100 text-dark position-absolute",variant:"warning",style:{left:"0",bottom:"0"},children:"Filtrar"})]})},Be=function(e){var t=e.freidoras;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{className:"ps-2 h5 text-white",children:" Freidoras"}),Object(x.jsxs)(k.a,{className:"py-3 bg-white  flex-nowrap mx-auto w-100 justify-content-lg-center",flex:!1,style:{borderRadius:"25px",maxWidth:"100%",overflowX:"auto"},children:[Object(x.jsx)(P.a,{className:"text-white d-lg-none",md:1,sm:2,xs:1,children:"."}),t.map((function(e){return Object(x.jsx)(Ye,Object(i.a)({},e))})),Object(x.jsx)(P.a,{className:"text-white d-lg-none",md:1,sm:2,xs:1,children:"."})]}),Object(x.jsx)(de.a,{className:"mx-auto mt-2 ",variant:"success",children:"Filtrar todas"})]})},Re=function(e){var t=e.compi,a=e.fecha;return Object(x.jsx)(k.a,{className:"w-100 p-2 mx-auto",children:Object(x.jsxs)(k.a,{className:"w-100 mx-auto align-items-center bg-claro rounded-3 py-4 ",children:[Object(x.jsx)("p",{className:"ps-4 h5 ",children:" Harina"}),Object(x.jsx)(P.a,{xs:"auto",sm:"auto",md:4,className:"d-none d-sm-flex h-100 align-items-center rounded",children:Object(x.jsx)("div",{className:" d-flex  mx-auto align-items-center justify-content-center ",children:Object(x.jsx)("img",{src:Fe,className:"border border-3 border-dark rounded-circle bg-warning shadow-lg",style:{width:"200px"}})})}),Object(x.jsxs)(P.a,{className:"mx-auto h-auto border border-3 rounded border-warning bg-dark pt-2 shadow-lg ",children:[Object(x.jsx)("p",{children:"Ultimo cambio:"}),Object(x.jsxs)("p",{className:"text-center",children:[t," : ",a]}),Object(x.jsx)(de.a,{variant:"warning my-2 w-100 mx-auto",children:" Cambiar"})]})]})})},ze=function(e){var t=e.nombre,a=e.compi,s=e.fecha,r=Object(c.useState)(!1),n=Object(o.a)(r,2),i=n[0],l=n[1];return Object(x.jsx)(P.a,{xs:12,sm:12,className:"mb-2 px-2",children:Object(x.jsxs)(k.a,{className:"bg-warning text-dark mx-auto w-100 rounded rounded-3 p-0  border border-2 border-warning",children:[Object(x.jsx)(P.a,{xs:i?10:12,sm:i?11:12,className:"text-center fs-4",onClick:function(){return l(!i)},children:t}),i&&Object(x.jsx)(P.a,{xs:1,sm:1,className:"text-end",onClick:function(){return l(!i)},children:Object(x.jsx)(H.y,{})}),i&&Object(x.jsx)(P.a,{xs:12,md:4,className:"bg-dark text-white text-center  py-2",children:a}),i&&Object(x.jsx)(P.a,{xs:12,sm:12,md:8,className:"text-center bg-white text-center py-2 ",children:s}),i&&Object(x.jsx)(P.a,{className:"p-0 bg-dark py-2 d-flex justify-content-center border-top border-warning",children:Object(x.jsx)(de.a,{className:"w-75",variant:"warning",children:"Actualizar"})})]})})},Ve=function(e){var t=e.nombre,a=e.icono,s=e.items,r=Object(c.useState)(!1),n=Object(o.a)(r,2),l=n[0],d=n[1];return Object(x.jsxs)(k.a,{className:"align-items-center  bg-dark p-0 mb-2 ".concat(l&&"border border-2 border-dark"," position-relative"),children:[l&&Object(x.jsxs)(k.a,{className:"w-100 mx-auto p-0  position-absolute",style:{top:"0"},children:[Object(x.jsx)("p",{className:"w-100 text-end pe-2 text-white ",children:Object(x.jsx)(H.y,{})})," "]}),Object(x.jsx)(P.a,{sm:12,xs:12,className:"p-0 d-flex align-items-center  ".concat(l&&"mb-2"),children:Object(x.jsx)(k.a,{className:"d-flex w-100 mx-auto p-0",onClick:function(){return d(!l)},style:{zIndex:"200"},children:Object(x.jsx)(P.a,{xs:12,sm:12,className:"d-flex align-items-center p-0",children:Object(x.jsxs)("p",{className:"fs-3 w-100 text-center my-auto ",children:["  ",Object(x.jsx)("span",{children:t})," ",a," "]})})})}),Object(x.jsx)(k.a,{className:"bg-white mx-auto pt-2 px-0",children:l&&s.map((function(e){return Object(x.jsx)(ze,Object(i.a)({},e))}))})]})},qe=function(e){return Object(x.jsxs)(k.a,{className:"w-100 mx-auto py-2 px-2",children:[Object(x.jsx)("p",{className:"ps-0 h5 text-white ps-0",children:" Limpieza"}),Object(x.jsx)(P.a,{xs:12,sm:12,md:11,lg:8,className:"mx-auto pt-3 px-4 bg-white rounded rounded-6",children:Me.map((function(e){return Object(x.jsx)(Ve,Object(i.a)({},e))}))})]})};function Ue(e){return Object(x.jsxs)(ue,{children:[Object(x.jsx)("h3",{className:"my-2 py-2 px-2",children:"Operativa"}),Object(x.jsxs)("div",{className:"bg-dark py-2 w-100 text-white d-flex flex-column ",children:[Object(x.jsx)(Be,{freidoras:Ee}),Object(x.jsx)(Re,Object(i.a)({},Le)),Object(x.jsx)(qe,{})]})]})}var Xe=a(192),Te=function(e){var t=e.children,a=e.title,c=e.back;return Object(x.jsxs)(ue,{children:[Object(x.jsxs)(k.a,{className:" ps-3 py-2 mx-auto",children:[Object(x.jsx)(P.a,{xs:2,sm:1,as:w.b,to:c,className:"bg-dark text-warning justify-content-center rounded rounded-4 py-3 d-flex",children:Object(x.jsx)(H.b,{size:"35"})}),Object(x.jsx)(P.a,{className:"d-flex  my-auto  mx-auto",children:Object(x.jsx)("h4",{className:"my-auto",children:a})})]}),Object(x.jsx)(k.a,{className:"vh-100 justify-content-center mx-auto",children:t})]})},Ke=function(e){var t=e.nombre,a=e.value,s=e.holder,r=e.lock,n=void 0!==r&&r,i=e.cambios,l=e.handleChange,d=e.saved,j=Object(c.useState)(a),b=Object(o.a)(j,2),u=b[0],m=b[1],h=Object(c.useState)(null),O=Object(o.a)(h,2),f=O[0],p=O[1],g=i&&Object.keys(i).includes(t.toLowerCase())&&f,v=function(e){var a=e.target.value.trim().toLowerCase(),c={};if(u!==a){c[t.toLowerCase()]=a;var s=Object.assign({},i,c);m(a),l(s)}};return Object(x.jsxs)(xe.a.Group,{className:"mb-2",as:P.a,xs:12,children:[Object(x.jsx)(xe.a.Label,{children:t}),Object(x.jsxs)(Xe.a,{className:"mb-2",children:[Object(x.jsx)(xe.a.Control,{placeholder:a||s,readOnly:n,onChange:function(e){console.log(u);var t=e.target.value;""!==t&&u!==t?f?(console.log("sigues escribiendo"),clearTimeout(f),p(setTimeout((function(){v(e)}),2e3))):(console.log("has empezado a escribir"),p(setTimeout((function(){v(e)}),2e3))):(console.log("los valores de inicio y actual coinciden"),clearTimeout(f),p(!1))}}),n&&Object(x.jsx)(Xe.a.Text,{className:"text-warning fs-1 bg-transparent",children:Object(x.jsx)(H.s,{})}),g&&!d&&Object(x.jsx)(Xe.a.Text,{className:"text-warning fs-1 bg-transparent",children:Object(x.jsx)(je.a,{animation:"grow"})})]})]})},Qe=function(e){var t=e.children,a=e.nombre,s=e.icono,r=Object(c.useState)(!1),n=Object(o.a)(r,2),i=n[0],l=n[1];return Object(x.jsxs)(P.a,{sm:12,lg:12,xl:6,className:"".concat(i?"border":"border-top"," border-white border-3 rounded rounded-2 px-2 mb-sm-2 h-auto my-2"),children:[Object(x.jsxs)(P.a,{xs:12,className:"".concat(i?"border-bottom":"border border-3"," border-white fs-3 d-flex py-auto justify-content-center  text-white"),onClick:function(){return l(!i)},children:[Object(x.jsx)("span",{className:"me-2 text-capitalize",children:a}),Object(x.jsx)("span",{children:s})]}),Object(x.jsx)(P.a,{xs:12,className:"px-2",children:i&&t})]})},Je=function(e){var t=e.nombre,a=e.id;return Object(x.jsx)("option",{value:a,children:t})},Ze=function(e){var t=Object(N.h)().id,a=O(),s=a.productos,r=a.categorias,n=a.upgradeProducto,l=Object(c.useState)({}),d=Object(o.a)(l,2),j=d[0],b=d[1],u=Object(c.useState)(null),m=Object(o.a)(u,2),h=m[0],f=m[1],p=Object(c.useState)(null),g=Object(o.a)(p,2),v=g[0],w=g[1],y=Object(c.useState)(!1),A=Object(o.a)(y,2),C=A[0],S=A[1];Object(c.useEffect)((function(){s&&b(s.find((function(e){return e.id==t})))}),[s]),Object(c.useEffect)((function(){h&&n(t,h)}),[h]);var D,G=function(e){console.log("Guardando los cambios en firebase"),f(e),S(!0)},I=function(e){console.log("cambio requrido"),console.log(e),S(!1),v?(console.log("sigues modificando el formulario"),window.clearTimeout(v),w(window.setTimeout((function(){G(e)}),5e3))):(console.log("has modificado el formulario"),w(window.setTimeout((function(){G(e)}),5e3)))},M=function(e){var t=e.target,a=t.value,c=t.id;console.log(c),"categorias"===c&&I(Object.assign({},h,{categoria_id:a})),"iva"===c&&I(Object.assign({},h,{iva:a}))},F=j.nombre,E=j.precio,L=j.unidades,Y=j.paquetes,B=j.peso,R=j.iva,z=j.categoria_id,V=j.codigo_barras,q=j.codisis_id,U=z&&(D=z,r.find((function(e){return e.id===D})));return Object(x.jsx)(Te,{title:"Editar - "+F,back:"/productos",children:Object(x.jsxs)(k.a,{className:"justify-content-center justify-content-lg-around mx-auto w-100 align-items-center pt-2",children:[Object(x.jsx)(P.a,{xs:12,md:8,lg:4,xl:3,className:"d-flex  justify-content-center align-items-center ",children:s&&Object(x.jsx)(we,Object(i.a)(Object(i.a)({},j),{},{editable:!0,expand:!0}))}),Object(x.jsx)(P.a,{md:12,lg:7,xl:8,className:" text-white py-2 px-0",children:Object(x.jsxs)(xe.a,{as:k.a,className:"bg-oscuro justify-content-around",children:[Object(x.jsx)(Ke,{nombre:"Nombre",value:F,holder:"Nombre del producto",handleChange:I,cambios:h,saved:C}),Object(x.jsxs)(xe.a.Group,{className:"mb-2",as:P.a,xs:12,children:[Object(x.jsx)(xe.a.Label,{children:"Categoria"}),Object(x.jsxs)(xe.a.Select,{id:"categorias",onChange:M,children:[U?Object(x.jsx)(Je,Object(i.a)({},U)):Object(x.jsx)("option",{children:" Categoria del producto "}),r&&r.map((function(e){return e.id!==z?Object(x.jsx)(Je,Object(i.a)({},e)):null}))]})]}),Object(x.jsx)(Qe,{nombre:"exclusivo",children:Object(x.jsxs)(xe.a.Group,{className:"mb-2 ps-3 ps-md-0 d-sm-flex d-lg-block justify-content-center pt-2 bg-info",as:P.a,xs:12,children:[Object(x.jsx)(xe.a.Check,{inline:!0,label:"No",name:"no_exclusivo",type:"checkbox",id:"no",className:"w-100 w-md-auto  my-2 my-md-auto  w-lg-100 "}),Object(x.jsx)(xe.a.Check,{inline:!0,label:"Andalucia",name:"andalucia",type:"checkbox",id:"andalucia",className:"w-100 w-md-auto  my-2 my-md-auto  w-lg-100 "}),Object(x.jsx)(xe.a.Check,{inline:!0,label:"Levante",name:"levante",type:"checkbox",id:"levante",className:"w-100 w-md-auto  my-2 my-md-auto w-lg-100 "}),Object(x.jsx)(xe.a.Check,{inline:!0,label:"Canarias",name:"canarias",type:"checkbox",id:"canarias",className:"w-100 w-md-auto my-2 my-md-auto  w-lg-100 "}),Object(x.jsx)(xe.a.Check,{inline:!0,label:"Baleares",name:"baleares",type:"checkbox",id:"baleares",className:"w-100 w-md-auto  my-2 my-md-auto  w-lg-100 "}),Object(x.jsx)(xe.a.Check,{inline:!0,label:"Santa justa",name:"santa_justa",type:"checkbox",id:"santa_justa",className:"w-100 w-md-auto  my-2 my-md-auto  w-lg-100 "})]})}),Object(x.jsxs)(Qe,{nombre:"identificacion",icono:Object(x.jsx)(H.p,{}),children:[Object(x.jsx)(Ke,{nombre:"ID",value:t,hoder:"Id del producto",lock:!0,handleChange:I,saved:C}),Object(x.jsx)(Ke,{nombre:"codigo_barras",value:V,hoder:"Codigo de barras del producto",handleChange:I,saved:C}),Object(x.jsx)(Ke,{nombre:"codisis_id",value:q,hoder:"Codigo de barras del producto",handleChange:I,saved:C})]}),Object(x.jsxs)(Qe,{nombre:"valor",icono:Object(x.jsx)(H.o,{}),children:[Object(x.jsx)(Ke,{nombre:"Precio",value:E,hoder:"Precio del producto",handleChange:I,saved:C}),Object(x.jsxs)(xe.a.Group,{className:"mb-2",as:P.a,xs:12,children:[Object(x.jsx)(xe.a.Label,{children:"IVA"}),Object(x.jsxs)(xe.a.Select,{id:"iva",onChange:M,children:[Object(x.jsx)("option",{children:R||"IVA del producto"}),Object(x.jsx)("option",{value:"10",children:"10%"}),Object(x.jsx)("option",{value:"4",children:"4%"}),Object(x.jsx)("option",{value:"21",children:"21%"})]})]})]}),Object(x.jsxs)(Qe,{nombre:"empaquetado",icono:Object(x.jsx)(H.g,{}),children:[Object(x.jsx)(Ke,{nombre:"Unidades",value:L,holder:"unidades por caja",handleChange:I,saved:C}),Object(x.jsx)(Ke,{nombre:"Paquetes",value:Y,holder:"paquetes por caja",handleChange:I,saved:C}),Object(x.jsx)(Ke,{nombre:"Peso",value:B,holder:"peso del paquete",handleChange:I,saved:C})]})]})})]})})},We=a.p+"static/media/box.63de4f0b.png",_e=function(e){var t,a=O().categorias,s=Object(c.useState)(null),r=Object(o.a)(s,2),n=r[0],i=r[1],l=Object(c.createRef)(null),d=Object(c.createRef)(null),j=Object(c.createRef)(null),b=function(){if(l.current&&d.current&&j.current){var e=l.current.value,t=d.current.value,a=j.current.value;e&&t&&a?console.log("".concat(e,": ").concat(t,"\u20ac cat-(").concat(a,")")):i("Debes rellenar todos los campos")}};return Object(x.jsx)(Te,{title:"Nuevo producto",back:"/productos",children:Object(x.jsxs)(xe.a,{as:k.a,className:"text-white px-4 py-4 justify-content-center rounded rounded-3",children:[Object(x.jsx)(P.a,{xs:11,className:"d-flex justify-content-center py-2 mb-2",children:Object(x.jsx)("img",{src:We,className:"mx-auto rounded-circle bg-warning border border-5 border-white shadow-lg",style:{width:"220px"}})}),Object(x.jsxs)(k.a,{className:"pt-3 mb-2 border rounded rounded-3 border-white bg-oscuro ",children:[Object(x.jsxs)(xe.a.Group,{as:P.a,xs:12,sm:6,lg:4,className:"pb-4",children:[Object(x.jsx)(xe.a.Label,{children:"Nombre"}),Object(x.jsx)(xe.a.Control,{placeholder:"Nombre del producto",ref:l})]}),Object(x.jsxs)(xe.a.Group,{as:P.a,xs:12,sm:6,lg:4,className:"pb-4",children:[Object(x.jsx)(xe.a.Label,{children:"Precio"}),Object(x.jsx)(xe.a.Control,{placeholder:"Precio del producto",ref:d})]}),Object(x.jsxs)(xe.a.Group,(t={className:"",as:P.a,xs:12,lg:4},Object(ce.a)(t,"className","pb-4"),Object(ce.a)(t,"children",[Object(x.jsx)(xe.a.Label,{children:"Categoria"}),Object(x.jsxs)(xe.a.Select,{id:"categorias",ref:j,children:[Object(x.jsx)("option",{value:0,children:" Categoria del producto "}),a&&a.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.nombre})}))]})]),t))]}),n&&Object(x.jsx)("p",{className:"fs-3 text-danger w-100 text-center",children:n}),Object(x.jsx)(P.a,{xs:4,sm:4,className:"d-md-flex  p-0 mt-lg-3 me-2",children:Object(x.jsx)(de.a,{variant:"warning ",onClick:b,className:"w-100 text-dark",children:"Perfilar"})}),Object(x.jsx)(P.a,{xs:7,sm:4,className:"d-md-flex mt-lg-3 p-0",children:Object(x.jsx)(de.a,{variant:"success",onClick:b,className:"w-100",children:"Crear"})})]})})},$e=a(193),et=function(e){var t=e.local,a=t.nombre,c=t.direccion,s=t.allowed_users,r=t.pic_url,n=U().setLocal,o=Object(N.g)();return Object(x.jsx)(P.a,{className:"rounded rounded-3 mx-2 p-0 border border-2 border-warning bg-oscuro shadow-lg",xs:12,sm:6,md:5,lg:3,xl:4,children:Object(x.jsxs)(k.a,{className:"w-100 h-100 p-0 my-auto mx-0 ",children:[Object(x.jsx)("p",{className:"fs-3 w-100 p-0 m-0 text-center border-bottom border-4 border-warning text-warning",style:{height:"10%"},children:a}),Object(x.jsx)(k.a,{className:"border-bottom border-white p-0 m-0 ",style:{height:"200px"},children:Object(x.jsx)("img",{src:r,className:"w-100 h-100 p-0 my-auto"})}),Object(x.jsxs)(k.a,{className:"m-0 text-white p-0",children:[Object(x.jsx)(P.a,{xs:2,className:"d-flex align-items-center border-end border-2 border-white",children:Object(x.jsx)(H.t,{className:"mx-auto"})}),Object(x.jsx)(P.a,{className:"p-0",xs:10,children:Object(x.jsx)("p",{className:"my-auto text-center py-2",children:c})}),Object(x.jsx)(P.a,{xs:2,as:$e.a,bg:"warning",className:"d-flex align-items-center justify-content-center p-0 fs-4",children:s.length}),Object(x.jsx)(P.a,{className:"p-0",children:Object(x.jsx)("p",{className:"my-auto text-center py-2",children:"Usuarios"})})]}),Object(x.jsx)(k.a,{as:de.a,variant:"warning",className:"m-0 border-top border-2 ",onClick:function(){n(t),o.push("/")},children:"Seleccionar"})]})})},tt=function(e){var t=U(),a=t.locales;t.local,e.location.state&&e.location.state.prevPath;return Object(x.jsxs)(k.a,{className:" p-0 mx-auto justify-content-center vh-100",children:[Object(x.jsxs)(P.a,{xs:12,className:"fs-4 text-white bg-dark p-0 m-0 d-flex justify-content-center shadow",style:{height:"10%"},children:[Object(x.jsx)("span",{className:"fs-1 p-0 d-flex me-2 bg-warning rounded-circle justify-content-center align-items-center my-auto border border-2 border-white",style:{width:"50px",height:"50px"},children:Object(x.jsx)(H.r,{})}),Object(x.jsx)("span",{className:" my-auto",children:"Tus locales"})]}),Object(x.jsx)(P.a,{xs:12,xl:8,className:"align-items-center  d-flex px-0 px-lg-5  ",style:{height:"80%"},children:Object(x.jsx)(k.a,{className:" px-4 m-0 flex-nowrap flex-md-wrap justify-content-md-evenly  px-md-0 py-4 shadow-lg ",style:{overflow:"auto"},children:a&&a.map((function(e){return Object(x.jsx)(et,{local:e})}))})}),Object(x.jsx)(P.a,{md:3,lg:5,className:"p-0 d-flex",style:{height:"9%"},children:Object(x.jsx)(de.a,{variant:"warning",className:"w-100 my-auto",children:"Nuevo"})})]})},at=function(){return Object(x.jsxs)("div",{className:"d-flex align-items-center justify-content-center vw-100 vh-100 mx-auto bg-oscuro",children:[Object(x.jsx)("p",{className:"me-4",style:{fontSize:"50px"},children:"404"}),Object(x.jsx)("p",{className:"text-white fs-1",children:"pagina no encontrada"})]})},ct=function(e){console.log("formateando");var t=Z.a.duration(Z()().diff(e)),a=t.asMinutes(),c=t.asDays(),s=a<30,r=c>=1&&c<2,n=c>0&&c<1&&!s,o=s||r||n;return function(){var t=null,c=e.format("HH:MM");switch(!0){case!o:t=e.format("ddd. DD-MM-YY HH:MM");break;case r:t="ayer "+c;break;case n:t=c;break;case a<1:t="ahora mismo";break;case s:t="hace "+Math.round(a)+" minutos";break;default:console.log()}return t}()},st=function(e){var t=e.date,a=Object(c.useState)(ct(t)),s=Object(o.a)(a,2),r=s[0],n=s[1];return Object(c.useEffect)((function(){var e=setInterval((function(){ct(t)!=r&&n(ct(t))}),6e4);return function(){return clearInterval(e)}}),[n]),Object(x.jsx)("p",{className:"w-100 m-0 p-0 text-end pe-2 text-warning",children:r})},rt=function(e){var t=g().userAPI,a=e.children,s=e.from,r=e.date,n=e.__type,i=K().compis,l=Object(c.useState)(),d=Object(o.a)(l,2),j=d[0],b=d[1],u=Object(c.useState)(!1),m=Object(o.a)(u,2),h=m[0],O=m[1];return Object(c.useEffect)((function(){if(i&&t){var e=i.find((function(e){return e.correo===s}));e&&console.log(e.id),console.log(t),O(e&&e.id===t.id),b(e)}}),[b,i]),console.log(r),Object(x.jsxs)(k.a,{className:"justify-content-center px-0 mx-auto  ".concat(h&&"flex-row-reverse"),children:[Object(x.jsx)(P.a,{xs:!0,sm:5,lg:4,className:"d-flex align-items-center text-white ",children:Object(x.jsxs)(k.a,{className:"w-100 mx-auto p-0 text-dark",children:[Object(x.jsx)(P.a,{xs:12,className:"mx-auto text-capitalize text-white",children:j&&j.nombre}),Object(x.jsx)(P.a,{xs:12,className:" shadow mx-auto py-3 text-start ".concat(h?"bocadillo-me":"bocadillo"," ").concat("alarm"==n&&"bg-oscuro  text-amarillo"," border border-3 border-white d-flex align-items-center "),children:a}),Object(x.jsx)(st,{date:r})]})}),Object(x.jsx)(P.a,{xs:2,md:1,className:"d-flex justify-content-center  align-items-center",children:j&&Object(x.jsx)("img",{src:j.pic_url,style:{width:"48px",height:"48px"},className:"rounded-circle border border-3 border-white shadow"})})]})},nt=function(e){var t=e.msg,a=e.date,c=e.author,s=e.__type;return Object(x.jsx)(k.a,{className:"mx-auto justify-content-center my-2 w-100",children:Object(x.jsxs)(rt,{from:c,date:a,__type:s,children:["alarm"==s&&Object(x.jsx)("div",{className:"position-absolute text-white",style:{top:"-10px",right:"-10px"},children:Object(x.jsx)(H.i,{className:"m-0 p-0",size:25})}),t]})})},ot=function(){var e=_(),t=e.mensajes,a=e.sendMensaje,s=Object(c.useState)(),r=Object(o.a)(s,2),n=(r[0],r[1],Object(c.useRef)()),l=Object(c.useRef)(null);Object(c.useEffect)((function(){l&&(l.current.scrollTop=2*l.current.scrollHeight)}),[t]);return Object(x.jsxs)(ue,{children:[Object(x.jsx)("div",{className:"w-100 p-0 m-0 d-flex bg-oscuro-claro flex-column justify-content-end",style:{height:"80%",overflow:"hidden"},children:Object(x.jsxs)("div",{className:"py-5 position-relative",style:{maxHeight:"100%",overflowX:"hidden",overflowY:"scroll"},ref:l,children:[t&&t.map((function(e){return Object(x.jsx)(nt,Object(i.a)({},e))})),Object(x.jsx)(k.a,{className:"bg-info ",style:{bottom:"0",height:"10vh"}})]})}),Object(x.jsx)("div",{className:"bg-warning m-0 w-100  position-absolute bg-dark d-flex border-top border-3 border-white",style:{minHeight:"20%",bottom:"0"},children:Object(x.jsx)(xe.a,{className:"my-auto mx-auto  p-2 w-100",children:Object(x.jsx)(xe.a.Group,{className:"mb-2",children:Object(x.jsxs)(Xe.a,{children:[Object(x.jsx)(xe.a.Control,{as:"textarea",ref:n,className:"rounded rounded-4",placeHolder:"mensaje..."}),Object(x.jsx)(Xe.a.Text,{as:de.a,onClick:function(){if(n.current){var e=n.current.value;""!=e&&a({msg:e})}},variant:"success px-4",children:"Enviar"})]})})})})]})},it=function(e){var t=e.id,a=O().productos,s=Object(c.useState)(null),r=Object(o.a)(s,2),n=r[0],l=r[1],d=_().sendMensaje,j=Object(c.useRef)(),b=Object(c.useRef)(),u=Object(c.useState)(0),m=Object(o.a)(u,2),h=m[0],f=m[1],p=["Selecciona motivo","No queda","Esta en mal estado"];Object(c.useEffect)((function(){a&&l(a.find((function(e){return e.id===t})))}),[t,a]);return Object(x.jsxs)(k.a,{className:"mx-auto bg-claro justify-content-center",children:[Object(x.jsx)(P.a,{xs:12,sm:8,className:"d-flex justify-content-center mb-2",children:Object(x.jsx)(we,Object(i.a)(Object(i.a)({},n),{},{editable:!0,expand:!0}))}),Object(x.jsxs)(xe.a,{as:P.a,xs:12,className:"bg-oscuro text-white py-2",children:[Object(x.jsxs)(xe.a.Group,{className:"mb-2",children:[Object(x.jsx)(xe.a.Label,{children:"\xbfCual es la alarma?"}),Object(x.jsx)(xe.a.Select,{onChange:function(e){return f(e.target.value)},value:h,children:p.map((function(e,t){return Object(x.jsx)("option",{value:t,children:e})}))})]}),Object(x.jsxs)(k.a,{children:[h>1&&Object(x.jsxs)(xe.a.Group,{as:P.a,xs:12,className:"my-2",children:[Object(x.jsx)(xe.a.Label,{children:"Cuanto"}),Object(x.jsx)(xe.a.Control,{type:"number",ref:b})]}),h>1&&Object(x.jsxs)(xe.a.Group,{as:P.a,xs:12,children:[Object(x.jsx)(xe.a.Label,{children:"Que le pasa"}),Object(x.jsx)(xe.a.Control,{as:"textarea",ref:j})]}),h>0&&Object(x.jsx)(de.a,{as:P.a,variant:"warning",className:"mt-2",onClick:function(){if(console.log("enviando...."),h>0){p[h];var e,t,a=1==h?'"'.concat(n.nombre,'" se nos ha acabado'):'Cuidado "'.concat(n.nombre,'" en mal estado; ').concat(null===(e=j.current)||void 0===e?void 0:e.value," he encontrado:").concat(null===(t=b.current)||void 0===t?void 0:t.value);d({topic:"productos",__ref:"id",msg:a,__type:"alarm"})}},children:"Enviar"})]})]})]})},lt=function(e){var t=Object(N.h)(),a=t.topic,c=t.ref;return Object(x.jsxs)(ue,{children:[Object(x.jsx)("h1",{children:a}),"productos"==a&&Object(x.jsx)(it,{id:c})]})},dt=function(e){var t=e.selected,a=E().maquinas,s=a?a.filter((function(e){return e.nombre===t.nombre})).length+1:1,r=Object(c.useState)(),n=Object(o.a)(r,2),i=n[0],l=n[1],d=Object(c.useState)(),j=Object(o.a)(d,2),b=j[0],u=j[1],m=Object(c.useState)(),h=Object(o.a)(m,2),O=h[0],f=h[1],p=Object(c.useState)(),g=Object(o.a)(p,2),v=g[0],w=g[1],N=E().createMaquina;return Object(c.useEffect)((function(){console.log("pintando effecto"),console.log(t),l(t.nombre)}),[t]),Object(x.jsxs)(xe.a,{as:k.a,className:"w-100 mx-auto align-items-center text-white  justify-content-center h-100  px-0",children:[Object(x.jsxs)(k.a,{className:"mx-2 h-25 py-4 mx-auto border border-white shadow",children:[Object(x.jsx)(P.a,{xs:4,sm:2,className:"bg-warning shadow h-100 d-flex",children:Object(x.jsx)("img",{src:t.pic,className:"my-auto w-100 h-100  my-auto"})}),Object(x.jsxs)(P.a,{className:"px-0 d-flex flex-column py-2",children:[Object(x.jsx)("h3",{className:"m-0 ms-2 text-white",children:i}),Object(x.jsxs)("p",{className:"text-end m-0 pe-2 text-amarillo",children:["(",b||"marca","-",O||"modelo",")"]}),Object(x.jsxs)("h3",{className:"text-center my-auto text-white",children:[Object(x.jsxs)("span",{className:"text-amarillo",children:[" ",Object(x.jsx)(H.f,{size:30})," "]}),v||"00"," Kw/h "]})]})]}),Object(x.jsxs)(k.a,{className:"bg-oscuro my-auto py-3",children:[Object(x.jsxs)(xe.a.Group,{as:P.a,xs:4,className:"py-2",children:[Object(x.jsx)(xe.a.Label,{children:"Numero"}),Object(x.jsx)(xe.a.Control,{value:s,readOnly:!0})]}),Object(x.jsxs)(xe.a.Group,{as:P.a,xs:8,className:"py-2",children:[Object(x.jsx)(xe.a.Label,{children:"Alias"}),Object(x.jsx)(xe.a.Control,{onChange:function(e){var t;return l(null===(t=e.target)||void 0===t?void 0:t.value)},defaultValue:i})]}),Object(x.jsxs)(xe.a.Group,{as:P.a,xs:5,className:" py-2",children:[Object(x.jsx)(xe.a.Label,{children:"Marca"}),Object(x.jsx)(xe.a.Control,{onChange:function(e){var t;return u(null===(t=e.target)||void 0===t?void 0:t.value)}})]}),Object(x.jsxs)(xe.a.Group,{as:P.a,xs:7,className:" py-2",children:[Object(x.jsx)(xe.a.Label,{children:"Modelo"}),Object(x.jsx)(xe.a.Control,{onChange:function(e){var t;return f(null===(t=e.target)||void 0===t?void 0:t.value)}})]}),Object(x.jsxs)(xe.a.Group,{as:P.a,xs:4,className:" py-2",children:[Object(x.jsx)(xe.a.Label,{children:"kw/h"}),Object(x.jsx)(xe.a.Control,{type:"number",onChange:function(e){var t;return w(null===(t=e.target)||void 0===t?void 0:t.value)}})]}),Object(x.jsxs)(xe.a.Group,{as:P.a,xs:8,className:" py-2",children:[Object(x.jsx)(xe.a.Label,{children:"Tecnico"}),Object(x.jsx)(xe.a.Select,{children:Object(x.jsx)("option",{children:"Selecciona tecnico"})})]}),Object(x.jsx)(de.a,{variant:"warning my-2 mx-0 text-dark",onClick:function(){var e=t.nombre;N({numero:s,alias:i,marca:b,modelo:O,consumo:v,nombre:e,status:"success"})},children:"Agregar"})]})]})},jt=function(e){var t=e.nombre,a=e.pic,c=e.numero,s=e.marca,r=e.modelo,n=e.consumo,o=e.status,i=e.alias;return Object(x.jsxs)(k.a,{className:"shadow bg-oscuro p-0 mx-auto my-2 my-lg-4  text-white border border-2 border-amarillo",children:[Object(x.jsx)(P.a,{as:"img",xs:4,src:a,className:"p-2  h-75 my-auto"}),Object(x.jsxs)(P.a,{xs:8,className:" px-0 d-block border-start border-amarillo",children:[Object(x.jsxs)("p",{className:"ps-3 m-0 fs-4 d-block",children:[i||t," ","-".concat(c,"-")]}),Object(x.jsxs)("p",{className:"text-end pe-1 m-0 border-bottom border-amarillo ",children:[s,"-",r]}),Object(x.jsxs)("p",{className:"text-center fs-4 my-4",children:[Object(x.jsx)("span",{className:"text-amarillo me-2 fs-2",children:Object(x.jsx)(H.f,{})}),n," kw/h"]})]}),Object(x.jsx)(P.a,{xs:12,className:"p-0",children:Object(x.jsxs)(k.a,{className:"justify-content-end mx-auto w-100",children:[Object(x.jsxs)(P.a,{xs:4,className:"d-flex justify-content-center align-items-center",children:["Status:",Object(x.jsx)("div",{className:"bg-".concat(o," my-auto ms-2 rounded-circle border boder-white border-2"),style:{width:"20px",height:"20px"}})]}),Object(x.jsx)(P.a,{as:de.a,xs:5,className:"text-dark bg-warning border border-amarillo",children:"Averia"}),Object(x.jsx)(P.a,{as:de.a,className:"text-amarillo border border-amarillo",children:Object(x.jsx)(H.n,{})})]})})]})},bt=function(e){var t=E(),a=t.maquinas,s=t.disponibles,r=U().local,n=Object(c.useState)(),l=Object(o.a)(n,2),d=l[0],j=l[1];return Object(x.jsx)(ue,{children:Object(x.jsxs)("div",{className:"h-100 w-100 p-0 m-0 bg-oscuro",children:[Object(x.jsxs)("div",{className:"d-flex row flex-column py-2 h-100 m-auto align-items-center",style:{},children:[Object(x.jsxs)("h5",{className:"text-white  w-100 my-auto ps-3",children:["Maquinaria ",null===r||void 0===r?void 0:r.nombre]}),Object(x.jsx)(P.a,{xs:12,sm:10,lg:9,className:"px-lg-5 bg-claro px-0 py-2 my-auto",style:{height:"80%",overflowY:"scroll"},children:a&&a.map((function(e){return Object(x.jsx)(jt,Object(i.a)({},e))}))})]}),Object(x.jsxs)(k.a,{className:"m-0 px-2 h-75 align-items-start bg-dark",children:[Object(x.jsx)("h5",{className:"p-0 my-auto text-white ",children:"Maquinaria disponible"}),Object(x.jsx)("div",{className:"d-flex  rounded rounded-5  align-items-center h-75 bg-claro flex-lg-wrap justify-content-lg-evenly",style:{overflowX:"scroll"},children:s&&s.map((function(e){return Object(x.jsxs)(P.a,{xs:8,sm:4,md:3,className:"shadow rounded ronded-3 h-75 mx-3 position-relative my-lg-4",children:[Object(x.jsx)("p",{className:" text-center d-block text-truncate my-auto bg-dark border border-2 border-amarillo text-amarillo",children:e.nombre}),Object(x.jsx)("img",{src:e.pic,className:"w-100 h-75 bg-oscuro p-2"}),Object(x.jsx)(de.a,{variant:"warning w-100 position-absolute border border-2 border-amarillo ",style:{bottom:"0",left:"0"},onClick:function(){return j(e)},children:"Seleccionar"})]})}))})]}),d&&Object(x.jsx)(dt,{selected:d})]})})},ut=function(e){return Object(x.jsx)(ue,{children:Object(x.jsxs)(xe.a,{as:k.a,className:"bg-dark text-white mx-auto py-2",onSubmit:function(e){e.preventDefault(),console.log("enviando formulario")},children:[Object(x.jsx)(xe.a.Label,{as:P.a,xs:12,className:"my-4 ps-2",children:"Informacion del trabajador"}),Object(x.jsxs)(xe.a.Group,{as:P.a,xs:12,children:[Object(x.jsx)(xe.a.Label,{children:"Correo usuario"}),Object(x.jsx)(xe.a.Control,{})]}),Object(x.jsxs)(xe.a.Group,{as:P.a,xs:12,children:[Object(x.jsx)(xe.a.Label,{children:"Nombre"}),Object(x.jsx)(xe.a.Control,{})]}),Object(x.jsx)(xe.a.Label,{as:P.a,xs:12,className:"ps-2 my-4",children:"Contrato del trabajador"}),Object(x.jsx)(xe.a.Group,{children:Object(x.jsx)("div",{className:"mb-3 d-flex justify-content-center",children:Object(x.jsxs)(xe.a.Check,{type:"checkbox",children:[Object(x.jsx)(xe.a.Check.Input,{type:"checkbox"}),Object(x.jsx)(xe.a.Check.Label,{className:"ms-2",children:"Trabajador indefinido"})]})})}),Object(x.jsxs)(xe.a.Group,{as:P.a,xs:12,children:[Object(x.jsx)(xe.a.Label,{children:"Inicio contrato"}),Object(x.jsx)(xe.a.Control,{type:"date"})]}),Object(x.jsxs)(xe.a.Group,{as:P.a,xs:12,children:[Object(x.jsx)(xe.a.Label,{children:"Fin contrato"}),Object(x.jsx)(xe.a.Control,{type:"date"})]}),Object(x.jsxs)(xe.a.Group,{as:P.a,xs:12,children:[Object(x.jsx)(xe.a.Label,{children:"Horas de trabajo"}),Object(x.jsx)(xe.a.Control,{type:"number"})]}),Object(x.jsxs)(xe.a.Group,{as:P.a,xs:6,children:[Object(x.jsx)(xe.a.Label,{children:"Dias laborables"}),Object(x.jsx)(xe.a.Control,{type:"number",defaultValue:5})]}),Object(x.jsxs)(xe.a.Group,{as:P.a,xs:6,children:[Object(x.jsx)(xe.a.Label,{children:"Dias descanso"}),Object(x.jsx)(xe.a.Control,{type:"number",defaultValue:2})]}),Object(x.jsxs)(xe.a.Group,{as:P.a,xs:12,children:[Object(x.jsx)(xe.a.Label,{children:"Duracion vacaciones (dias)"}),Object(x.jsx)(xe.a.Control,{type:"number",defaultValue:30})]}),Object(x.jsxs)(xe.a.Group,{as:P.a,xs:12,children:[Object(x.jsx)(xe.a.Label,{children:"Sueldo (\u20ac)"}),Object(x.jsx)(xe.a.Control,{type:"number"})]}),Object(x.jsxs)(xe.a.Group,{as:P.a,xs:12,children:[Object(x.jsx)(xe.a.Label,{children:"Seguros sociales (\u20ac)"}),Object(x.jsx)(xe.a.Control,{type:"number"})]}),Object(x.jsx)(de.a,{className:"w-100 mt-2 bg-success",type:"submit",value:"tu_culo",children:"Iniciar sesion"})]})})},mt=function(e,t,a){for(var c=e.clone().startOf("day"),s=[],r=0;7!=r;r++){var n=c.clone().add("days",r),o=n.format("dddd"),i="mi\xe9rcoles"===o?"x":o.charAt(0);s.push({i:n,nombre:o,abbr:i,trabajadores:t,errores:[],horas:0,tramos:xt(n,a)})}return{horas:0,dias:s,errores:[]}},xt=function(e,t){var a=[];if(t){var c=Z()(e.format("YYYY-MM-DD")+" "+t[0].i),s=Z()(e.format("YYYY-MM-DD")+" "+t[0].f),r=(s.diff(c,"minutes"),{i:c,f:s,abbr:"M"}),n=Z()(e.format("YYYY-MM-DD")+" "+t[1].i),o=Z()(e.format("YYYY-MM-DD")+" "+t[1].f);o.diff(n,"minutes");a=[r,{i:n,f:o,abbr:"N"}]}return a},ht=s.a.createContext();function Ot(){return s.a.useContext(ht)}function ft(e){var t=e.children,a=e.i,s=e.t,r=K().compis,n=Object(c.useState)(a),i=Object(o.a)(n,2),l=i[0],d=i[1],j=Object(c.useState)(mt(a,r,s)),b=Object(o.a)(j,2),u=b[0],m=(b[1],Object(c.useState)(mt(a.clone().add("days",7),r))),h=Object(o.a)(m,2),O=h[0],f=(h[1],Object(c.useState)()),p=Object(o.a)(f,2),g=p[0],v=p[1];Object(c.useEffect)((function(){r&&d(mt(a,r))}),[r]),Object(c.useEffect)((function(){console.log("tramo horario "+(null===g||void 0===g?void 0:g.i.format("(dddd) DD-MM-YYYY HH:mm"))+" a "+(null===g||void 0===g?void 0:g.f.format("HH:mm"))||!1)}),[g]);var w={incio:l,semana:u,semanaAnterior:O,tramoHorario:g,setTramoHorario:v};return Object(x.jsx)(ht.Provider,{value:w,children:t})}var pt=function(e){var t=e.children,a=e.active,c=(e.expanded,e.hidden);return Object(x.jsx)(P.a,{xs:!a||2,className:"text-white p-0 d-flex justify-content-center align-items-center position-relative shadow border",style:{display:c?"none":"flex",maxHeight:"100%",overflowY:"hidden"},children:t})},gt=function(e){var t=e.semanaAnterior;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"h-50 ",children:Object(x.jsxs)(k.a,{className:"text-white p-0 m-0 h-100 w-100",children:[Object(x.jsx)(pt,{children:"M"}),t.dias.map((function(e){var t;return Object(x.jsx)(pt,{children:(null===(t=e.trabajadores)||void 0===t?void 0:t.length)||0})}))]})}),Object(x.jsx)("div",{className:"h-50",children:Object(x.jsxs)(k.a,{className:"text-white p-0 m-0 h-100 w-100",children:[Object(x.jsx)(pt,{children:"N"}),t.dias.map((function(e){var t;return Object(x.jsx)(pt,{children:(null===(t=e.trabajadores)||void 0===t?void 0:t.length)||0})}))]})})]})},vt=function(e){var t=e.tramo,a={i:t.i.subtract("days",7),f:t.f.subtract("days",7)};return Object(x.jsx)(k.a,{children:Object(x.jsx)(P.a,{xs:12,children:Object(x.jsx)("p",{className:"text-white w-100 m-0 bg-info ps-2 text-capitalize",children:a.i.format("dddd [pasado] HH:mm - "+a.f.format("HH:mm"))})})})},wt=function(){var e=Ot(),t=e.semanaAnterior,a=e.tramoHorario;return Object(x.jsx)("div",{className:"bg-dark w-100 mx-auto m-0 p-0",style:{height:"20%"},children:a?Object(x.jsx)(vt,{tramo:a}):Object(x.jsx)(gt,{semanaAnterior:t})})},Nt=Z()().year(2020).month(10).date(1).day(8);Nt.date()>7&&Nt.day(-6);var yt=function(e){var t=e.pic_url;return Object(x.jsx)(P.a,{xs:12,sm:10,lg:8,as:"img",src:t,className:"shadow rounded-circle  border border-2 border-white mx-auto d-block my-2",style:{maxHeight:"100px",maxwidth:"100px"}})},At=function(e){var t=e.children,a=Ot().setTramoHorario,c=(e.nombre,e.abbr),s=(e.horas,e.trabajadores),r=e.tramos,n=e.tr_index,o=e.active,l=s?s.length:0;return Object(x.jsx)(P.a,{xs:!o||9,className:"text-white p-0 d-flex justify-content-center align-items-start  h-100 position-relative border",style:{overflowY:l>0?"scroll":"hidden"},children:Object(x.jsxs)("div",{className:"py-2 d-block  h-100 p-0 mt-4",onClick:function(){console.log(c),a(Object(i.a)(Object(i.a)({},r[n]),{},{dia_abbr:c}))},children:[Object(x.jsxs)("div",{className:"p-0 w-100 text-center border-bottom border-start border-white shadow fs-6  ".concat(0===l&&"h-100"),style:{position:"absolute",top:"0",left:"0"},children:[Object(x.jsx)("span",{className:"d-block bg-oscuro text-warning",children:"3500"}),Object(x.jsxs)("span",{className:"d-block bg-info",children:[l,"/11"]})]}),t]})})},Ct=function(e){var t=e.semana,a=e.turnoAbr;return null===t||void 0===t?void 0:t.dias.map((function(e){var t;return Object(x.jsx)(At,Object(i.a)(Object(i.a)({},e),{},{tr_index:"M"===a?0:1,children:null===(t=e.trabajadores)||void 0===t?void 0:t.map((function(e){return Object(x.jsx)(yt,Object(i.a)({},e))}))}))}))},kt=function(e){var t=e.pic_url;return Object(x.jsxs)(k.a,{className:"bg-success mx-auto p-0 border my-2",style:{height:"70px"},children:[Object(x.jsx)(P.a,{xs:2,className:"d-flex align-items-center p-0 h-100 bg-info",children:Object(x.jsx)("div",{className:"w-100 h-100 mx-auto my-auto d-flex",style:{overflowX:"hidden"},children:Object(x.jsx)("img",{src:t,className:"mx-auto my-auto",style:{width:"100%",maxWidth:"64px",height:"100%",maxHeight:"64px"}})})}),Object(x.jsx)(P.a,{xs:10,className:"p-0 h-100 bg-dark",children:Object(x.jsxs)(k.a,{className:"bg-info mx-auto p-0 h-100 w-100",children:[Object(x.jsx)(P.a,{xs:2,className:"d-flex align-items-center justify-content-center h-100",children:"ant"}),Object(x.jsx)(P.a,{className:"d-flex m-0 p-0 align-items-center justify-content-center bg-white h-100",children:Object(x.jsxs)(k.a,{className:"p-0 w-100 bg-dark h-100 align-items-center",children:[Object(x.jsx)(P.a,{xs:5,className:"p-0",children:Object(x.jsx)("input",{type:"time",className:"w-100 p-0 d-flex justify-content-center"})}),Object(x.jsx)(P.a,{xs:5,className:"p-0",children:Object(x.jsx)("input",{type:"time",className:"w-100"})}),Object(x.jsx)(P.a,{xs:2,className:"d-flex m-0 align-items-center justify-content-center text-white fs-6",children:"7.5"})]})}),Object(x.jsx)(P.a,{xs:2,className:"d-flex align-items-center justify-content-center h-100",children:"sig"})]})})]})},Pt=function(e){var t=K().compis;return Object(x.jsxs)("div",{className:"mx-auto h-100 w-100 p-0",style:{overflowY:"scroll"},children:[null===t||void 0===t?void 0:t.map((function(e){return Object(x.jsx)(kt,Object(i.a)({},e))})),null===t||void 0===t?void 0:t.map((function(e){return Object(x.jsx)(kt,Object(i.a)({},e))})),null===t||void 0===t?void 0:t.map((function(e){return Object(x.jsx)(kt,Object(i.a)({},e))})),null===t||void 0===t?void 0:t.map((function(e){return Object(x.jsx)(kt,Object(i.a)({},e))})),null===t||void 0===t?void 0:t.map((function(e){return Object(x.jsx)(kt,Object(i.a)({},e))}))]})},St=function(e){var t=e.turnoAbr,a=(e.handleTramoHorario,g().userAPI,Ot()),c=a.semana,s=a.tramoHorario;return Object(x.jsxs)(k.a,{className:"mx-auto h-100",children:[!s&&Object(x.jsxs)(pt,{children:[Object(x.jsxs)("div",{className:"p-0 w-100 text-center border-top border-white shadow fs-6 ",style:{position:"absolute",top:"0",left:"0"},children:[Object(x.jsx)("span",{className:"d-block bg-oscuro text-warning",children:Object(x.jsx)(H.o,{})}),Object(x.jsx)("span",{className:"d-block bg-info",children:Object(x.jsx)(H.z,{})})]}),t]}),s?Object(x.jsx)(Pt,{}):Object(x.jsx)(Ct,{semana:c,turnoAbr:t})]})},Dt=function(e){var t=Ot(),a=t.tramoHorario,c=t.setTramoHorario;return Object(x.jsxs)(k.a,{className:"bg-info text-white p-0 m-0",style:{height:"5%"},children:[Object(x.jsx)(pt,{active:!!a,children:a?Object(x.jsx)(H.z,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(H.x,{}),"-",Object(x.jsx)(H.u,{})]})}),!a&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(pt,{children:"L"}),Object(x.jsx)(pt,{children:"M"}),Object(x.jsx)(pt,{children:"X"}),Object(x.jsx)(pt,{children:"J"}),Object(x.jsx)(pt,{children:"V"}),Object(x.jsx)(pt,{children:"S"}),Object(x.jsx)(pt,{children:"D"})]}),a&&Object(x.jsx)(P.a,{xs:10,className:"h-100 bg-dark p-0 ",children:Object(x.jsxs)(k.a,{className:"h-100 w-100 mx-auto",children:[Object(x.jsx)(P.a,{xs:2,className:"justify-content-center d-flex align-items-center h-100",children:"ant"}),Object(x.jsx)(pt,{children:Object(x.jsx)("div",{className:"w-100 h-100 m-0 p-0 d-flex align-items-center justify-content-center",onClick:function(){c(null)},children:a.dia_abbr.toUpperCase()})}),Object(x.jsx)(P.a,{xs:2,className:"justify-content-center d-flex align-items-center h-100",children:"sig"})]})})]})},Ht=function(e){var t=Ot().tramoHorario;return Object(x.jsxs)("div",{className:"w-100 m-0 p-0",style:{height:"65%"},children:[!t&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"bg-claro-oscuro h-50 p-0 mx-auto w-100",children:Object(x.jsx)(St,{turnoAbr:"M"})}),Object(x.jsx)("div",{className:"bg-oscuro h-50",children:Object(x.jsx)(St,{turnoAbr:"N"})})]}),t&&Object(x.jsx)(St,{turnoAbr:t.abbr})]})},Gt=function(e){var t=Object(c.useRef)(),a="17:00",s=K().compis,r=[{i:"09:30",f:a},{i:a,f:"00:00"}];return Object(x.jsx)(ft,{i:Nt,t:r,children:Object(x.jsxs)("div",{className:"vh-100 vw-100 bg-info p-0 m-0",children:[Object(x.jsx)(wt,{ref:t}),Object(x.jsx)(Dt,{}),Object(x.jsx)(Ht,{}),Object(x.jsx)("div",{className:"bg-dark w-100 mx-auto m-0 p-0 ",style:{height:"10%",overflowX:"hidden"},children:Object(x.jsx)(k.a,{className:"h-100  m-0 py-1 mx-auto bg-warning  px-1",children:Object(x.jsx)("div",{className:"h-100 bg-info d-flex ",style:{overflowX:"scroll"},children:null===s||void 0===s?void 0:s.map((function(e){return Object(x.jsx)(P.a,{className:"h-100 bg-info d-flex justify-content-center align-items-center mx-2 bg-dark",children:Object(x.jsx)("img",{src:e.pic_url,className:"rounded-circle border border-2 border-white ",style:{height:"100%",width:"auto"}})})}))})})})]})})},It=Ge()();var Mt=function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(w.a,{history:It,children:Object(x.jsx)(f,{children:Object(x.jsx)(v,{children:Object(x.jsx)(X,{children:Object(x.jsxs)(N.d,{children:[Object(x.jsx)(N.b,{exact:!0,path:"/",component:me}),Object(x.jsx)(N.b,{exact:!0,path:"/login",component:Ie}),Object(x.jsx)(N.b,{exact:!0,path:"/local/selector",component:tt}),Object(x.jsx)(N.b,{exact:!0,path:"/local/mensajes/",component:ot}),Object(x.jsx)(N.b,{path:"/local/alarmas/:topic/:ref",component:lt}),Object(x.jsx)(N.b,{exact:!0,path:"/plantilla/nuevo/",component:ut}),Object(x.jsx)(N.b,{exact:!0,path:"/productos",component:De}),Object(x.jsx)(N.b,{exact:!0,path:"/productos/nuevo",component:_e}),Object(x.jsx)(N.b,{path:"/productos/editar/:id",component:Ze}),Object(x.jsx)(N.b,{exact:!0,path:"/maquinaria/nuevo",component:bt}),Object(x.jsx)(N.b,{exact:!0,path:"/horarios/nuevo",component:Gt}),Object(x.jsx)(N.b,{exatt:!0,path:"/operativa",component:Ue}),Object(x.jsx)(N.b,{path:"*",component:at})]})})})})})})},Ft=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,199)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,n=t.getTTFB;a(e),c(e),s(e),r(e),n(e)}))};n.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(Mt,{})}),document.getElementById("root")),Ft()}},[[182,1,2]]]);
//# sourceMappingURL=main.ba115d46.chunk.js.map